webpackJsonp([6],[,,,,,,function(e,t,n){"use strict";function r(e){this.languageCode=e.getLanguageCode(),this.lang=this.languageCode.substr(0,2),this.directory=e.getDirectory(),this.translate=function(t){return t instanceof Object?e.pick(t):e.translate.apply(e,arguments)},this.pick=function(t,n){return e.pick(t,n)},this.name=function(t,n,r){var i=e.pick(t,r),a=new String(i||"");return a.gender=n,a},this.change=function(t){return e.change(t)}}e.exports=r},,function(e,t,n){"use strict";function r(e){this.mode=e.getMode(),this.modes=e.getModes(),this.details=e.getDetails(),this.change=function(t){return e.change(t)},this.isAboveMode=function(e){var t=_.indexOf(this.modes,e);return _.indexOf(this.modes,this.mode)>=t},this.isBelowMode=function(e){return!this.isAboveMode(e)},this.getImageUrl=function(t,n){return e.getImageUrl(t,n)},this.getVideoUrl=function(t,n){return e.getVideoUrl(t)},this.getPosterUrl=function(t,n,r){return e.getPosterUrl(t,n,r)}}e.exports=r},,,function(e,t,n){"use strict";function r(e,t){this.context=t;var n=this;this.find=function(n){return n=i(t,n),e.find(n)},this.findOne=function(e){return e=a.extend({expected:1},e),n.find(e).then(function(e){return e.length>0?e[0]:null})},this.save=function(n,r){return n=i(t,n),e.save(n,r)},this.saveOne=function(e,t){return n.save(e,[t]).then(function(e){return e.length>0?e[0]:null})},this.remove=function(n,r){return n=i(t,n),e.remove(n,r)},this.removeOne=function(e,t){return n.remove(e,[t]).then(function(e){return e.length>0?e[0]:null})},this.use=function(){var n={};a.assign(n,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a.each(s,function(e){a.assign(n,e)}),"local"!==n.schema&&(n.server?n.protocol="https:":(n.server=window.location.hostname,n.protocol=window.location.protocol)),new r(e,n)},this.start=function(n){return n=i(t,n),e.start(n)},this.beginAuthorization=function(n){return e.beginAuthorization(t,n)},this.checkAuthorizationStatus=function(){return e.checkAuthorizationStatus(t)},this.submitPassword=function(n,r){return e.submitPassword(t,n,r)},this.endAuthorization=function(){return e.endAuthorization(t)},this.getActivationUrl=function(n){return e.getActivationUrl(t,n)}}function i(e,t){return e?a.assign({},e,t):t}var a=n(2);n(15);e.exports=r},,,function(e,t,n){"use strict";function r(e){this.url=e.getUrl(),this.path=i.replace(this.url,/[?#].*/,""),this.component=e.getComponent(),this.parameters=e.getParameters(),this.query=e.getQuery(),this.hash=e.getHash();var t=[],n=this;this.change=function(t,r){if("string"!=typeof t)throw new Error("Invalid argument");return n.ask(t,!0).then(function(n){return!!n&&e.change(t,r)})},this.ask=function(e,n){return n?a.reduce(t,function(t,n){try{if(!t)return!1;var r=n(e,!0);return a.resolve(r)}catch(e){return console.error(e),!0}},!0).then(function(e){return e}):i.reduce(t,function(e,t){try{if(!e)return!1;var n=t(!1);if("boolean"!=typeof n)throw new Error("Callback passed to keep() should return a boolean when interactive (2nd argument) is true");return n}catch(e){return console.error(e),!0}},!0)},this.keep=function(e){t.push(e)},this.free=function(e){i.pull(t,e)}}var i=n(2),a=n(15);e.exports=r,r.match=function(e,t){var n=[],r=e.replace(/(:\w+)/g,function(e){return n.push(e),"([^\\/]+)"}),a=new RegExp("^"+r),s=a.exec(t);if(s){var o={};return i.each(n,function(e,t){o[e.substr(1)]=s[t+1]}),o.match=s[0],o}},r.prototype.toString=function(){return this.url}},,,function(e,t,n){"use strict";function r(e){return e=i.clone(e),e.className?e.className="push-button "+e.className:e.className="push-button",a.createElement("button",e,e.children)}var i=n(2),a=n(1);e.exports=r,n(642),r.defaultProps={className:"submit"}},,,,,,,function(e,t,n){"use strict";function r(e,t){return o.createElement("option",a({key:t},e))}function i(e,t){if(/https?:/.test(e)){e=s.trim(e.replace(/\?.*/,""));var n=s.filter(e.split("/"));return n[n.length-1]}return e}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(2),o=n(1),l=o.PropTypes,c=n(18),u=n(25),p=n(11),d=n(14),h=n(6),m=n(8),f=n(52),g=n(40),v=n(66),b=n(17),y=n(44),E=n(36),C=n(45),w=n(46),k=n(107),x=n(67),R=n(106),S=n(84),N=n(28);n(628),e.exports=c.createClass({displayName:"UserSummaryPage",propTypes:{database:l.instanceOf(p).isRequired,route:l.instanceOf(d).isRequired,locale:l.instanceOf(h).isRequired,theme:l.instanceOf(m).isRequired,payloads:l.instanceOf(f).isRequired},statics:{parseUrl:function(e){return d.match("/users/:userId/",e)||d.match("/projects/:projectId/members/:userId/?",e)},getUrl:function(e){var t;return t=e.projectId?"/projects/"+e.projectId+"/members/"+e.userId+"/":"/users/"+e.userId+"/",e&&e.edit&&(t+="?edit=1"),t}},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r={system:null,user:null,roles:null,project:null,servers:null,statistics:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads};return e.show(o.createElement(O,r),250),n.start().then(function(e){var t={};return n.findOne({table:"system",criteria:t})}).then(function(e){r.system=e}).then(function(){var e=parseInt(t.props.route.parameters.userId);if(e){var r={id:e};return n.findOne({table:"user",criteria:r})}}).then(function(t){r.user=t,e.show(o.createElement(O,r))}).then(function(){var e={};return n.find({table:"role",criteria:e})}).then(function(t){r.roles=t,e.show(o.createElement(O,r))}).then(function(){var e=parseInt(t.props.route.parameters.projectId);if(e){var r={id:e};return n.findOne({table:"project",criteria:r})}}).then(function(t){r.project=t,e.show(o.createElement(O,r))}).then(function(){var e={};return n.find({table:"server",criteria:e})}).then(function(t){r.servers=t,e.show(o.createElement(O,r))}).then(function(){if(r.project&&r.user)return g.loadUserStatistics(n,r.project,[r.user]).then(function(e){return e[r.user.id]})}).then(function(e){return r.statistics=e,o.createElement(O,r)})}});var O=e.exports.Sync=o.createClass({displayName:"UserSummaryPage.Sync",propTypes:{system:l.object,user:l.object,roles:l.arrayOf(l.object),project:l.object,servers:l.arrayOf(l.object),statistics:l.object,database:l.instanceOf(p).isRequired,route:l.instanceOf(d).isRequired,locale:l.instanceOf(h).isRequired,theme:l.instanceOf(m).isRequired,payloads:l.instanceOf(f).isRequired},getInitialState:function(){return{newUser:null,hasChanges:!1,showingSocialLinks:!1,saving:!1,problems:{}}},getUser:function(){return this.isEditing()?this.state.newUser||this.props.user||j:this.props.user||j},setUserProperty:function(e,t){var n=this.getUser(),r=s.decoupleSet(n,e,t);if("details.name"===e){var i=v.fromPersonalName(n.details.name),a=v.fromPersonalName(r.details.name);n.username&&n.username!==i||(r.username=a)}var o=!0;s.isEqual(r,this.props.user)&&(r=null,o=!1),this.setState({newUser:r,hasChanges:o})},findProblems:function(){var e={},t=this.getUser();return t.username||(e.username="validation-required"),t.type||(e.type="validation-required"),null==t.server_id?t.type&&"admin"!==t.type&&(e.server_id="validation-password-for-admin-only"):t.details.email||(e.email="validation-required-for-oauth"),e},getProjectId:function(){if(this.props.route.parameters.projectId)return parseInt(this.props.route.parameters.projectId)},getUserId:function(){return parseInt(this.props.route.parameters.userId)},isCreating:function(e){return"new"===this.props.route.parameters.userId},isEditing:function(e){return e=e||this.props,this.isCreating()||!!parseInt(e.route.query.edit)},setEditability:function(e,t){var r=this.getProjectId(),i=t?t.id:this.getUserId(),a=i?n(24).getUrl({projectId:r,userId:i,edit:e}):r?n(62).getUrl({projectId:r}):n(65).getUrl(),s=!!r;return this.props.route.change(a,s)},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)&&(this.isEditing(e)?this.setState({newUser:null,hasChanges:!1}):this.setState({problems:{}}))},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=!!this.props.route.parameters.projectId,r=this.getUser(),i=t(r.details.name);return o.createElement("div",{className:"user-summary-page"},this.renderButtons(),o.createElement("h2",null,e(n?"user-summary-member-$name":"user-summary-$name",i)),this.renderForm(),this.renderSocialLinksToggle(),this.renderSocialLinksForm(),this.renderInstructions(),this.renderChart())},renderButtons:function(){var e=this.props.locale.translate,t=!!this.getProjectId();return this.isEditing()?o.createElement("div",{className:"buttons"},o.createElement(b,{className:"cancel",onClick:this.handleCancelClick},e("user-summary-cancel"))," ",o.createElement(b,{className:"save",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e(t?"user-summary-member-save":"user-summary-save")),o.createElement(N,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route})):o.createElement("div",{className:"buttons"},o.createElement(b,{className:"add",onClick:this.handleEditClick},e(t?"user-summary-member-edit":"user-summary-edit")))},renderForm:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=!this.isEditing(),i=I(this.props.roles,this.props.locale),a=this.getUser(),l=this.props.user||j,c=_(i,a),u=_(i,l),p=this.props.servers,d=s.get(this.props.system,"settings.input_languages"),h=this.state.problems,m={id:"name",value:a.details.name,availableLanguageCodes:d,locale:this.props.locale,onChange:this.handleNameChange,readOnly:n},f={id:"username",value:a.username,locale:this.props.locale,onChange:this.handleUsernameChange,readOnly:n||!!a.external_id},g={id:"email",value:a.details.email,locale:this.props.locale,onChange:this.handleEmailChange,readOnly:n},v={id:"phone",value:a.details.phone,locale:this.props.locale,onChange:this.handlePhoneChange,readOnly:n},b={purpose:"profile-image",desiredWidth:500,desiredHeight:500,resources:a.details.resources,database:this.props.database,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads,onChange:this.handleProfileImageChange,readOnly:n},y={onOptionClick:this.handleTypeOptionClick,readOnly:n},x=[{name:"guest",selected:"guest"===a.type,previous:"guest"===l.type,children:e("user-summary-type-guest")},{name:"member",selected:"member"===a.type,previous:"member"===l.type,children:e("user-summary-type-member")},{name:"admin",selected:"admin"===a.type,previous:"admin"===l.type,children:e("user-summary-type-admin")}],R={onOptionClick:this.handleRoleOptionClick,readOnly:n},N=s.concat({name:"none",selected:s.isEmpty(c),previous:u&&s.isEmpty(u),children:e("user-summary-role-none")},s.map(i,function(e){return{name:String(e.id),selected:s.includes(c,e),previous:s.includes(u,e),children:t(e.details.title)||t.name}})),O={onOptionClick:this.handleVisibilityOptionClick,readOnly:n},T=[{name:"show",selected:!1===s.get(a,"hidden",!1),previous:!1===s.get(l,"hidden"),children:e("user-summary-visibility-shown")},{name:"hidden",selected:!0===s.get(a,"hidden",!1),previous:!0===s.get(l,"hidden"),children:e("user-summary-visibility-hidden")}],P={onOptionClick:this.handleAuthOptionClick,readOnly:n},q=s.concat([{name:"none",selected:null==a.server_id,previous:null===l.server_id,children:e("user-summary-auth-server-none")},{name:"0",selected:0===a.server_id,previous:0===l.server_id,children:e("user-summary-auth-server-any")}],s.map(p,function(n){return{name:String(n.id),selected:a.server_id===n.id,previous:l.server_id===n.id,children:t(n.details.title)||e("server-type-"+n.type)}}));return o.createElement("div",{className:"form"},o.createElement(C,m,e("user-summary-name")),o.createElement(E,f,e("user-summary-username"),o.createElement(S,null,e(h.username))),o.createElement(E,g,e("user-summary-email"),o.createElement(S,null,e(h.email))),o.createElement(E,v,e("user-summary-phone")),o.createElement(k,b,e("user-summary-profile-image")),o.createElement(w,y,o.createElement("label",null,e("user-summary-type"),o.createElement(S,null,e(h.type))),s.map(x,r)),o.createElement(w,R,o.createElement("label",null,e("user-summary-roles")),s.map(N,r)),o.createElement(w,O,o.createElement("label",null,e("user-summary-visibility")),s.map(T,r)),o.createElement(w,P,o.createElement("label",null,e("user-summary-auth-server"),o.createElement(S,null,e(h.server_id))),s.map(q,r)))},renderSocialLinksToggle:function(){var e=this.props.locale.translate,t=this.state.showingSocialLinks?"angle-double-up":"angle-double-down";return o.createElement("h2",{className:"social-toggle",onClick:this.handleSocialLinksToggleClick},e("user-summary-social-links")," ",o.createElement("i",{className:"fa fa-"+t}))},renderSocialLinksForm:function(){var e=this.props.locale.translate,t=this.getUser(),n=!this.isEditing(),r={id:"skype",value:s.get(t,"details.skype_username",""),locale:this.props.locale,onChange:this.handleSkypeUsernameChange,readOnly:n},i={id:"slack-team",value:s.get(t,"details.slack_team_id",""),locale:this.props.locale,onChange:this.handleSlackTeamIDChange,readOnly:n},i={id:"slack-user",value:s.get(t,"details.slack_user_id",""),locale:this.props.locale,onChange:this.handleSlackUserIDChange,readOnly:n},a={id:"ichat",value:s.get(t,"details.ichat_username",""),locale:this.props.locale,onChange:this.handleIchatUsernameChange,readOnly:n},l={id:"twitter",value:s.get(t,"details.twitter_username",""),locale:this.props.locale,onChange:this.handleTwitterUsernameChange,readOnly:n},c={id:"github",value:s.get(t,"details.github_url",""),locale:this.props.locale,onChange:this.handleGitHubURLChange,readOnly:n},u={id:"github",value:s.get(t,"details.gitlab_url",""),locale:this.props.locale,onChange:this.handleGitlabURLChange,readOnly:n},p={id:"skype",value:s.get(t,"details.linkedin_url",""),locale:this.props.locale,onChange:this.handleLinkedinURLChange,readOnly:n},d={id:"skype",value:s.get(t,"details.stackoverflow_url",""),locale:this.props.locale,onChange:this.handleStackoverflowURLChange,readOnly:n};return o.createElement("div",{className:"form social"},o.createElement(x,{open:this.state.showingSocialLinks},o.createElement(E,r,e("user-summary-skype")),o.createElement(E,i,e("user-summary-slack-team")),o.createElement(E,i,e("user-summary-slack")),o.createElement(E,a,e("user-summary-ichat")),o.createElement(E,l,e("user-summary-twitter")),o.createElement(E,c,e("user-summary-github")),o.createElement(E,u,e("user-summary-gitlab")),o.createElement(E,p,e("user-summary-linkedin")),o.createElement(E,d,e("user-summary-stackoverflow"))))},renderInstructions:function(){var e={topic:"user",hidden:!this.isEditing(),locale:this.props.locale};return o.createElement("div",{className:"instructions"},o.createElement(y,e))},renderChart:function(){if(!this.getProjectId())return null;if(this.isCreating())return null;var e=this.props.locale.translate,t={statistics:this.props.statistics,locale:this.props.locale,theme:this.props.theme};return o.createElement("div",{className:"statistics"},o.createElement(R,t,e("user-summary-statistics")))},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this;if(!this.state.saving){var n=this.findProblems();if(s.some(n))return void this.setState({problems:n});this.setState({saving:!0,problems:{}},function(){var e=t.props.database.use({schema:"global",by:t}),n=t.getUser(),r=t.props.payloads;return r.prepare(n).then(function(){return e.start().then(function(i){if(!n.id){var a=t.getProjectId();a&&(n.requested_project_ids=[a]),n.approved=!0}return e.saveOne({table:"user"},n).then(function(e){return r.reattach(e),r.dispatch(e).then(function(){return t.setState({hasChanges:!1,saving:!1},function(){return t.setEditability(!1,e)}),null})})})}).catch(function(e){console.error(e),t.setState({saving:!1})})})}},handleNameChange:function(e){this.setUserProperty("details.name",e.target.value)},handleUsernameChange:function(e){var t=s.trim(s.toLower(t));this.setUserProperty("username",e.target.value)},handleEmailChange:function(e){this.setUserProperty("details.email",e.target.value)},handlePhoneChange:function(e){this.setUserProperty("details.phone",e.target.value)},handleProfileImageChange:function(e){this.setUserProperty("details.resources",e.target.value)},handleTypeOptionClick:function(e){this.setUserProperty("type",e.name)},handleRoleOptionClick:function(e){var t=this.getUser(),n=s.slice(t.role_ids);if("none"===e.name)n=[];else{var r=parseInt(e.name);s.includes(n,r)?s.pull(n,r):n.push(r)}this.setUserProperty("role_ids",n)},handleVisibilityOptionClick:function(e){var t="hidden"===e.name;this.setUserProperty("hidden",t)},handleAuthOptionClick:function(e){var t,n=this.getUser();if("none"===e.name)t=null;else if("any"===e.name)t=0===n.server_id?null:0;else{var t=parseInt(e.name);n.server_id===t&&(t=null)}this.setUserProperty("server_id",t)},handleSocialLinksToggleClick:function(e){this.setState({showingSocialLinks:!this.state.showingSocialLinks})},handleSkypeUsernameChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.skype_username",t)},handleSlackUserIDChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.slack_user_id",t)},handleSlackTeamIDChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.slack_team_id",t)},handleIchatUsernameChange:function(e){var t=s.trim(e.target.value);this.setUserProperty("details.ichat_username",t)},handleTwitterUsernameChange:function(e){var t=i(e.target.value);this.setUserProperty("details.twitter_username",t)},handleLinkedinURLChange:function(e){var t=_trim(e.target.value);this.setUserProperty("details.linkedin_url",t)},handleGitHubURLChange:function(e){var t=_trim(e.target.value);this.setUserProperty("details.github_url",t)},handleGitlabURLChange:function(e){var t=_trim(e.target.value);this.setUserProperty("details.gitlab_url",t)},handleStackoverflowURLChange:function(e){var t=_trim(e.target.value);this.setUserProperty("details.stackoverflow_url",t)}}),j={details:{}},I=u(function(e,t){var n=t.pick,r=function(e){return n(e.details.title)||e.name};return s.sortBy(e,r)}),_=u(function(e,t){if(t.role_ids){var n=s.keyBy(e,"id");return s.filter(s.map(t.role_ids,function(e){return n[e]}))}})},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=null);var n=i(e);return function(){return null!=arguments[0]?n.apply(null,arguments):t}}var i=n(496);e.exports=r},,,function(e,t,n){"use strict";var r=(n(2),n(1)),i=r.PropTypes,a=n(14),s=n(6),o=n(8),l=n(37),c=n(342);e.exports=r.createClass({displayName:"DataLossWarning",mixins:[l],propTypes:{route:i.instanceOf(a).isRequired,locale:i.instanceOf(s).isRequired,theme:i.instanceOf(o).isRequired,changes:i.bool},getInitialState:function(){return{showing:!1,rendering:!1,resolve:null}},componentWillReceiveProps:function(e){this.props.changes!==e.changes&&(e.changes?e.route.keep(this.confirmRouteChange):e.route.free(this.confirmRouteChange))},render:function(){if(!this.state.rendering)return null;var e=this.props.locale.translate,t={show:this.state.showing,dangerous:!0,locale:this.props.locale,theme:this.props.theme,onConfirm:this.handleConfirm,onCancel:this.handleCancel};return r.createElement(c,t,e("confirmation-data-loss"))},confirmRouteChange:function(){var e=this;return new Promise(function(t,n){e.setState({showing:!0,rendering:!0,resolve:t})})},handleConfirm:function(e){var t=this.state.resolve;this.setState({showing:!1,rendering:!1,resolve:null},function(){t&&t(!0)})},handleCancel:function(e){var t=this,n=this.state.resolve;this.setState({showing:!1,resolve:null},function(){n&&n(!1),setTimeout(function(){t.state.showing||t.setState({rendering:!1})})})}})},,function(e,t,n){"use strict";function r(e){if(!this)return new r(e);var t=this,n={};_.forIn(e,function(e,r){var i=function(e){if(!(arguments.length>0))return t[r];t[r]=e};n[r]=i}),this.setters=n,_.forIn(e,function(e,n){t[n]=null})}e.exports=r},,,,,function(e,t,n){"use strict";(function(t){function r(e,t){return e=s.Children.toArray(e),_.find(e,{type:t})}function i(e){return s.createElement("th",e,e.children,s.createElement("i",{className:"fa fa-chevron-down arrow down"}),s.createElement("i",{className:"fa fa-chevron-up arrow up"}))}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),o=s.PropTypes,l=n(67);n(645),e.exports=s.createClass({displayName:"SortableTable",propTypes:{sortColumns:o.arrayOf(o.string).isRequired,sortDirections:o.arrayOf(o.oneOf(["asc","desc"])),expanded:o.bool,expandable:o.bool,selectable:o.bool,onSort:o.func},getInitialState:function(){return{action:null}},componentWillReceiveProps:function(e){this.props.expanded!==e.expanded&&(e.expanded?this.setState({action:"expanding"}):this.setState({action:"collapsing"}))},render:function(){var e=r(this.props.children,"thead"),t=r(this.props.children,"tbody");e&&(e=this.highlightHeading(e)),t&&null!=this.props.expanded&&(t=this.wrapUnselectedRows(t));var n=_.omit(this.props,["sortColumns","sortDirections","expandable","selectable","expanded","onSort"]);return n.onClick=this.handleClick,n.className="sortable-table",this.props.expandable&&(n.className+=" expandable",this.props.expanded?n.className+=" expanded":n.className+=" collapsed"),this.props.selectable&&(n.className+=" selectable"),this.props.className&&(n.className+=" "+this.props.className),s.createElement("table",a({ref:"table"},n),e,t)},highlightHeading:function(e){var t=_.get(this.props.sortColumns,0),n=_.get(this.props.sortDirections,0,"asc"),i=r(e.props.children,"tr"),a=s.Children.toArray(i.props.children);return a=_.map(a,function(e){if(e.props.id===t){var r=e.props.className||"";r&&(r+=" "),r+=n,e=s.cloneElement(e,{className:r})}return e}),i=s.cloneElement(i,{},a),e=s.cloneElement(e,{},[i])},wrapUnselectedRows:function(e){var t=this,n=(this.state.cellHeights,e.props.children);return n=_.map(n,function(e,n){if(!e)return null;if(/\bfixed\b/.test(e.props.className))return e;var r,i=s.Children.toArray(e.props.children),a=e.props.className;return r="expanding"!==t.state.action&&("collapsing"===t.state.action||t.props.expanded),a?a+=" ":a="",a+=r?"expanded":"collapsed",i=_.map(i,function(e,t){var n=s.createElement(l,{open:r},e.props.children);return s.cloneElement(e,{},n)}),s.cloneElement(e,{className:a},i)}),e=s.cloneElement(e,{},n)},componentDidUpdate:function(e,n){var r=this;this.state.action&&t(function(){r.setState({action:null})})},handleClick:function(e){for(var t=(e.target,e.target);t&&"TABLE"!==t.tagName;t=t.parentNode)if("TH"===t.tagName){var n=t.id;if(!n)return;var r=_.slice(this.props.sortColumns),i=_.slice(this.props.sortDirections),a=_.indexOf(r,n);-1!==a&&(r.splice(a,1),i.splice(a,1));var s="asc";0===a&&"asc"===this.props.sortDirections[0]&&(s="desc"),r.unshift(n),i.unshift(s),this.props.onSort&&this.props.onSort({type:"sort",target:this,columns:r,directions:i})}}}),e.exports.TH=i}).call(t,n(141).setImmediate)},function(e,t,n){"use strict";function r(e){var t=["text-field"],n="input",r=_.omit(e,"children","locale");if("textarea"===e.type&&(n=o,r=_.omit(r,"type")),e.readOnly){t.push("readonly");var a=e.locale.translate;r.placeholder=a("text-field-placeholder-none"),r.spellCheck=!1}return r.value=r.value||"",r.value&&!1===r.spellCheck&&(r.value+="\ufeff"),i.createElement("div",{className:t.join(" ")},i.createElement("label",{htmlFor:e.id},e.children),i.createElement(n,r))}var i=n(1),a=i.PropTypes,s=n(6),o=n(148);n(646),e.exports=r,r.defaultProps={type:"text"},r.propTypes={locale:a.instanceOf(s).isRequired}},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;for(var n in t){var r=e[n];if(t[n]!==r)return!1}return!0}e.exports={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}}},,,function(e,t,n){"use strict";function r(e,t){return p.map(t,function(t){var n=t.name,r={type:"story-date-range",filters:{}};return e.findOne({schema:n,table:"statistics",criteria:r,minimum:0}).then(function(r){if(s(r)){var i=o(r),a={type:"daily-activities",filters:i};return e.find({schema:n,table:"statistics",criteria:a,minimum:0}).then(function(e){return m(e,r,t)})}})}).then(function(e){var n=u.map(t,"id");return u.zipObject(n,e)})}function i(e,t,n){if(!t)return p.resolve(null);var r=t.name,i={type:"story-date-range",filters:u.map(n,function(e){return{user_ids:[e.id]}})};return e.find({schema:r,table:"statistics",criteria:i}).then(function(n){n=u.filter(n,s);var i=u.map(n,function(e){return u.map(o(e),function(t){return t.user_ids=e.filters.user_ids,t})}),a=u.flatten(i);if(u.isEmpty(a))return{};var l={type:"daily-activities",filters:a};return e.find({schema:r,table:"statistics",criteria:l}).then(function(e){return u.transform(n,function(n,r){var i=r.filters.user_ids[0],a=u.filter(e,function(e){return e.filters.user_ids[0]===i});n[i]=m(a,r,t)},{})})})}function a(e,t,n){if(!t)return p.resolve(null);var r=t.name,i={type:"story-date-range",filters:u.map(n,function(e){return{repo_id:e.id}})};return e.find({schema:r,table:"statistics",criteria:i}).then(function(n){n=u.filter(n,s);var i=u.map(n,function(e){return u.map(o(e),function(t){return t.repo_id=e.filters.repo_id,t})}),a=u.flatten(i);if(u.isEmpty(a))return{};var l={type:"daily-activities",filters:a};return e.find({schema:r,table:"statistics",criteria:l}).then(function(e){return u.transform(n,function(n,r){var i=r.filters.repo_id,a=u.filter(e,function(e){return e.filters.repo_id===i});n[i]=m(a,r,t)},{})})})}function s(e){return e&&!!e.details.start_time&&!!e.details.end_time}function o(e){for(var t=d(e.details.start_time).startOf("month"),n=d(e.details.end_time).endOf("month"),r=t.utcOffset(),i=[],a=t.clone();a.month()<=n.month();a.add(1,"month")){var s=a.toISOString(),o=a.clone().endOf("month").toISOString(),l="["+s+","+o+"]";i.push(l)}return u.map(i,function(e){return{time_range:e,tz_offset:r}})}function l(e,t){var n={total:0};return u.each(e,function(e){u.each(e.details,function(e,r){t&&r.substr(0,7)!==t||u.each(e,function(e,t){n.total+=e,n[t]?n[t]+=e:n[t]=e})})}),n}function c(e){var t={};return u.each(e,function(e){u.assign(t,e.details)}),t}var u=n(2),p=n(15),d=n(0),h=n(25);t.loadProjectStatistics=r,t.loadUserStatistics=i,t.loadRepoStatistics=a;var m=h(function(e,t,n){var r=d().subtract(1,"month").format("YYYY-MM"),i=d().format("YYYY-MM"),a=c(e),s=l(e,r),o=l(e,i),u=l(e);if(0===s.total){d(n.ctime).format("YYYY-MM")===i&&(s.total=void 0)}return{range:{start:t.details.start_time,end:t.details.end_time},last_month:s,this_month:o,to_date:u,daily:a}})},function(e,t,n){"use strict";function r(e){return e?s.merge({},O,e.settings):O}function i(e,t){return o.createElement("option",a({key:t},e))}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(2),o=n(1),l=o.PropTypes,c=n(18),u=n(11),p=n(14),d=n(6),h=n(8),m=n(52),f=n(40),g=n(66),v=n(17),b=n(44),y=n(36),E=n(45),C=n(46),w=n(107),k=n(106),x=n(84),R=n(28);n(616),e.exports=c.createClass({displayName:"ProjectSummaryPage",propTypes:{database:l.instanceOf(u).isRequired,route:l.instanceOf(p).isRequired,locale:l.instanceOf(d).isRequired,theme:l.instanceOf(h).isRequired,payloads:l.instanceOf(m).isRequired},statics:{parseUrl:function(e){return p.match("/projects/:projectId/?",e)},getUrl:function(e){var t="/projects/"+e.projectId+"/";return e.edit&&(t+="?edit=1"),t}},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r={system:null,project:null,statistics:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads};return e.show(o.createElement(S,r),250),n.start().then(function(e){var t={};return n.findOne({table:"system",criteria:t})}).then(function(e){r.system=e}).then(function(){var e=parseInt(t.props.route.parameters.projectId);if(e){var r={id:e};return n.findOne({table:"project",criteria:r})}}).then(function(t){r.project=t,e.show(o.createElement(S,r))}).then(function(){if(r.project)return f.loadProjectStatistics(n,[r.project]).then(function(e){return e[r.project.id]})}).then(function(e){return r.statistics=e,o.createElement(S,r)})}});var S=e.exports.Sync=o.createClass({displayName:"ProjectSummaryPage.Sync",propTypes:{system:l.object,project:l.object,statistics:l.object,database:l.instanceOf(u).isRequired,route:l.instanceOf(p).isRequired,locale:l.instanceOf(d).isRequired,theme:l.instanceOf(h).isRequired,payloads:l.instanceOf(m).isRequired},getInitialState:function(){return{newProject:null,saving:!1,problems:{}}},getProject:function(){return this.isEditing()?this.state.newProject||this.props.project||N:this.props.project||N},setProjectProperty:function(e,t){var n=this.getProject(),r=s.decoupleSet(n,e,t);if("details.title"===e){var i=g.fromTitle(n.details.title),a=g.fromTitle(r.details.title);n.name&&n.name!==i||(r.name=a)}var o=!0;s.isEqual(r,this.props.project)&&(r=null,o=!1),this.setState({newProject:r,hasChanges:o})},findProblems:function(){var e={};return this.getProject().name||(e.name="validation-required"),e},getProjectId:function(){return parseInt(this.props.route.parameters.projectId)},isCreating:function(e){return e=e||this.props,"new"===e.route.parameters.projectId},isEditing:function(e){return e=e||this.props,this.isCreating(e)||!!parseInt(e.route.query.edit)},setEditability:function(e,t){var r=t?t.id:this.getProjectId(),i=r?n(41).getUrl({projectId:r,edit:e}):n(80).getUrl(),a=!!r;return this.props.route.change(i,a)},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)&&(this.isEditing(e)?this.setState({newProject:null,hasChanges:!1}):this.setState({problems:{}}))},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.getProject(),r=t(n.details.title)||n.name;return o.createElement("div",{className:"project-summary-page"},this.renderButtons(),o.createElement("h2",null,e("project-summary-$title",r)),this.renderForm(),this.renderInstructions(),this.renderChart())},renderButtons:function(){var e=this.props.locale.translate;return this.isEditing()?o.createElement("div",{key:"edit",className:"buttons"},o.createElement(v,{className:"cancel",onClick:this.handleCancelClick},e("project-summary-cancel"))," ",o.createElement(v,{className:"save",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("project-summary-save")),o.createElement(R,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route})):o.createElement("div",{key:"view",className:"buttons"},o.createElement(v,{className:"edit",onClick:this.handleEditClick},e("project-summary-edit")))},renderForm:function(){var e=this.props.locale.translate,t=!this.isEditing(),n=this.getProject(),a=this.props.project||N,l=s.get(this.props.system,"settings.input_languages"),c=this.state.problems,u={id:"title",value:n.details.title,availableLanguageCodes:l,locale:this.props.locale,onChange:this.handleTitleChange,readOnly:t},p={id:"name",value:n.name,locale:this.props.locale,onChange:this.handleNameChange,readOnly:t},d={id:"description",value:n.details.description,availableLanguageCodes:l,type:"textarea",locale:this.props.locale,onChange:this.handleDescriptionChange,readOnly:t},h={purpose:"project-emblem",desiredWidth:500,desiredHeight:500,resources:n.details.resources,database:this.props.database,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads,onChange:this.handleEmblemChange,readOnly:t},m={onOptionClick:this.handleOptionClick,readOnly:t},f=r(n),g=r(a),v=[{name:"manual",selected:!s.some(s.omit(f.membership,"allow_request")),previous:a.id?!s.some(s.omit(g.membership,"allow_request")):void 0,children:e("project-summary-new-members-manual")},{name:"accept_team_member_automatically",selected:f.membership.accept_team_member_automatically,previous:g.membership.accept_team_member_automatically,children:e("project-summary-new-members-team-member-auto-join")},{name:"accept_approved_users_automaticlly",selected:f.membership.accept_approved_users_automaticlly,previous:g.membership.accept_approved_users_automaticlly,children:e("project-summary-new-members-approved-user-auto-join")},{name:"allow_request",selected:f.membership.allow_request,previous:g.membership.allow_request,children:e("project-summary-new-members-allow-request")}],b=[{name:"members_only",selected:!s.some(f.access_control),previous:a.id?!s.some(g.access_control):void 0,children:e("project-summary-access-control-member-only")},{name:"grant_team_members_read_only",selected:f.access_control.grant_team_members_read_only,previous:g.access_control.grant_team_members_read_only,children:e("project-summary-access-control-team-member-read-only")},{name:"grant_approved_users_read_only",selected:f.access_control.grant_approved_users_read_only,previous:g.access_control.grant_approved_users_read_only,children:e("project-summary-access-control-approved-user-read-only")},{name:"grant_unapproved_users_read_only",selected:f.access_control.grant_unapproved_users_read_only,previous:g.access_control.grant_unapproved_users_read_only,children:e("project-summary-access-control-pending-user-read-only")}];return o.createElement("div",{className:"form"},o.createElement(E,u,e("project-summary-title")),o.createElement(y,p,e("project-summary-name"),o.createElement(x,null,e(c.name))),o.createElement(E,d,e("project-summary-description")),o.createElement(w,h,e("project-summary-emblem")),o.createElement(C,m,o.createElement("label",null,e("project-summary-new-members")),s.map(v,i)),o.createElement(C,m,o.createElement("label",null,e("project-summary-access-control")),s.map(b,i)))},renderInstructions:function(){var e={topic:"project",hidden:!this.isEditing(),locale:this.props.locale};return o.createElement("div",{className:"instructions"},o.createElement(b,e))},renderChart:function(){if(this.isCreating())return null;var e=this.props.locale.translate,t={statistics:this.props.statistics,locale:this.props.locale,theme:this.props.theme};return o.createElement("div",{className:"statistics"},o.createElement(k,t,e("project-summary-statistics")))},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this;if(!this.state.saving){var n=this.findProblems();if(s.some(n))return void this.setState({problems:n});this.setState({saving:!0,problems:{}},function(){var e=t.props.database.use({schema:"global",by:t}),n=s.omit(t.getProject(),"user_ids","repo_ids"),r=t.props.payloads;return r.prepare(n).then(function(){return e.start().then(function(i){return e.saveOne({table:"project"},n).then(function(e){return r.reattach(e),r.dispatch(e).then(function(){return t.setState({hasChanges:!1,saving:!1},function(){t.setEditability(!1,e)}),null})})})}).catch(function(e){console.error(e),t.setState({saving:!1})})})}},handleTitleChange:function(e){this.setProjectProperty("details.title",e.target.value)},handleNameChange:function(e){var t=s.trim(s.toLower(e.target.value));this.setProjectProperty("name",t)},handleDescriptionChange:function(e){this.setProjectProperty("details.description",e.target.value)},handleEmblemChange:function(e){this.setProjectProperty("details.resources",e.target.value)},handleOptionClick:function(e){var t=this.getProject(),n=s.cloneDeep(r(t));switch(e.name){case"manual":n.membership.accept_team_member_automatically=!1,n.membership.accept_approved_users_automaticlly=!1;break;case"accept_team_member_automatically":n.membership.accept_team_member_automatically=!n.membership.accept_team_member_automatically;break;case"accept_approved_users_automaticlly":n.membership.accept_approved_users_automaticlly=!n.membership.accept_approved_users_automaticlly;break;case"allow_request":n.membership.allow_request=!n.membership.allow_request;break;case"members_only":n.access_control.grant_team_members_read_only=!1,n.access_control.grant_approved_users_read_only=!1,n.access_control.grant_unapproved_users_read_only=!1;break;case"grant_team_members_read_only":n.access_control.grant_team_members_read_only=!n.access_control.grant_team_members_read_only;break;case"grant_approved_users_read_only":n.access_control.grant_approved_users_read_only=!n.access_control.grant_approved_users_read_only;break;case"grant_unapproved_users_read_only":n.access_control.grant_unapproved_users_read_only=!n.access_control.grant_unapproved_users_read_only}this.setProjectProperty("settings",n)}}),N={details:{},settings:{}},O={membership:{},access_control:{}}},function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=n(18),o=n(11),l=n(14),c=n(6),u=n(8),p=n(66),d=n(17),h=n(44),m=n(36),f=n(45),g=(n(46),n(84)),v=n(28);n(622),e.exports=s.createClass({displayName:"RoleSummaryPage",propTypes:{database:a.instanceOf(o).isRequired,route:a.instanceOf(l).isRequired,locale:a.instanceOf(c).isRequired,theme:a.instanceOf(u).isRequired},statics:{parseUrl:function(e){return l.match("/roles/:roleId/?",e)},getUrl:function(e){var t="/roles/"+e.roleId+"/";return e.edit&&(t+="?edit=1"),t}},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r={system:null,role:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(i.createElement(b,r),250),n.start().then(function(e){var t={};return n.findOne({table:"system",criteria:t})}).then(function(e){r.system=e}).then(function(){var e=parseInt(t.props.route.parameters.roleId);if(e){var r={id:e};return n.findOne({table:"role",criteria:r})}}).then(function(e){return r.role=e,i.createElement(b,r)})}});var b=e.exports.Sync=i.createClass({displayName:"RoleSummaryPage.Sync",propTypes:{system:a.object,role:a.object,database:a.instanceOf(o).isRequired,route:a.instanceOf(l).isRequired,locale:a.instanceOf(c).isRequired,theme:a.instanceOf(u).isRequired},getInitialState:function(){return{newRole:null,hasChanges:!1,saving:!1,problems:{}}},getRole:function(){return this.isEditing()?this.state.newRole||this.props.role||y:this.props.role||y},setRoleProperty:function(e,t){var n=this.getRole(),i=r.decoupleSet(n,e,t);if("details.title"===e){var a=p.fromTitle(n.details.title),s=p.fromTitle(i.details.title);n.name&&n.name!==a||(i.name=s)}var o=!0;r.isEqual(i,this.props.role)&&(i=null,o=!1),this.setState({newRole:i,hasChanges:o})},findProblems:function(){var e={};return this.getRole().name||(e.name="validation-required"),e},getRoleId:function(){return parseInt(this.props.route.parameters.roleId)},isCreating:function(e){return e=e||this.props,"new"===e.route.parameters.roleId},isEditing:function(e){return e=e||this.props,this.isCreating(e)||!!parseInt(e.route.query.edit)},setEditability:function(e,t){var r=t?t.id:this.getRoleId(),i=r?n(42).getUrl({roleId:r,edit:e}):n(82).getUrl(),a=!!r;return this.props.route.change(i,a)},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)?this.setState({newRole:null,hasChanges:!1}):this.setState({problems:{}})},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.getRole(),a=t(r.get(n,"details.title"))||n.name;return i.createElement("div",{className:"role-summary-page"},this.renderButtons(),i.createElement("h2",null,e("role-summary-$title",a)),this.renderForm(),this.renderInstructions())},renderButtons:function(){var e=this.props.locale.translate;return this.isEditing()?i.createElement("div",{className:"buttons"},i.createElement(d,{className:"cancel",onClick:this.handleCancelClick},e("role-summary-cancel"))," ",i.createElement(d,{className:"save",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("role-summary-save")),i.createElement(v,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route})):i.createElement("div",{className:"buttons"},i.createElement(d,{className:"edit",onClick:this.handleEditClick},e("role-summary-edit")))},renderForm:function(){var e=this.props.locale.translate,t=!this.isEditing(),n=(this.props.role,this.getRole()),a=r.get(this.props.system,"settings.input_languages"),s=this.state.problems,o={id:"title",value:n.details.title,availableLanguageCodes:a,locale:this.props.locale,onChange:this.handleTitleChange,readOnly:t},l={id:"name",value:n.name,locale:this.props.locale,onChange:this.handleNameChange,readOnly:t},c={id:"description",value:n.details.description,availableLanguageCodes:a,type:"textarea",locale:this.props.locale,onChange:this.handleDescriptionChange,readOnly:t};return i.createElement("div",{className:"form"},i.createElement(f,o,e("role-summary-title")),i.createElement(m,l,e("role-summary-name"),i.createElement(g,null,e(s.name))),i.createElement(f,c,e("role-summary-description")))},renderInstructions:function(){var e={topic:"role",hidden:!this.isEditing(),locale:this.props.locale};return i.createElement("div",{className:"instructions"},i.createElement(h,e))},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this;if(!this.state.saving){var n=this.findProblems();if(r.some(n))return void this.setState({problems:n});this.setState({saving:!0,problems:{}},function(){var e=t.props.database.use({schema:"global",by:t}),n=t.getRole();return e.start().then(function(r){return e.saveOne({table:"role"},n).then(function(e){t.setState({hasChanges:!1},function(){return t.setEditability(!1,e)})})})})}},handleTitleChange:function(e){this.setRoleProperty("details.title",e.target.value)},handleNameChange:function(e){var t=r.trim(r.toLower(e.target.value));this.setRoleProperty("name",t)},handleDescriptionChange:function(e){this.setRoleProperty("details.description",e.target.value)}}),y={details:{}}},function(e,t,n){"use strict";var r=n(1),i=r.PropTypes,a=n(0),s=n(6),o=(n(37),n(47));e.exports=r.createClass({displayName:"ModifiedTimeTooltip",propTypes:{time:i.string,disabled:i.bool,locale:i.instanceOf(s).isRequired},componentWillMount:function(){this.updateLabels()},componentWillReceiveProps:function(e){this.updateLabels(e)},updateLabels:function(e){e=e||this.props;var t;e.time&&(t=a(e.time),t.locale(e.locale.languageCode));var n={relativeTime:t?t.fromNow():null,absoluteTime:t?t.format("lll"):null};_.isEqual(n,this.state)||this.setState(n)},render:function(){return r.createElement(o,{disabled:this.props.disabled},r.createElement("inline",null,this.state.relativeTime),r.createElement("window",null,this.state.absoluteTime))},componentDidMount:function(){l.push(this)},componentWillUnmount:function(){_.pull(l,this)}});var l=[];setInterval(function(){_.each(l,function(e){e.updateLabels()})},3e4)},function(e,t,n){"use strict";var r=n(1),i=r.PropTypes,a=n(480),s=n(6),o=n(37),l=n(67);n(637),e.exports=r.createClass({displayName:"InstructionBlock",mixins:[o],propTypes:{topic:i.string.isRequired,hidden:i.bool,locale:i.instanceOf(s).isRequired},getDefaultProps:function(){return{hidden:!1}},getText:function(e,t){try{return n(667)("./"+e+"."+t+".md")}catch(t){return n(666)("./"+e+".en.md")}},render:function(){var e=this.getText(this.props.topic,this.props.locale.lang),t=a.parse(e),n=["instruction-block"];return this.props.hidden&&n.push("hidden"),r.createElement("div",{className:n.join(" ")},r.createElement(l,{open:!this.props.hidden},r.createElement("div",{className:"contents"},t)))}})},function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=n(6),o=n(148);n(638),e.exports=i.createClass({displayName:"MultilingualTextField",propTypes:{type:a.string,value:a.oneOfType([a.object,a.string]),availableLanguageCodes:a.arrayOf(a.string),locale:a.instanceOf(s).isRequired,onChange:a.func},getDefaultProps:function(){return{type:"text",value:{},availableLanguageCodes:[]}},getInitialState:function(){var e,t=r.keys(this.props.value),n=this.props.availableLanguageCodes,i=this.props.locale.lang;return e=r.includes(t,i)?i:r.isEmpty(t)?r.includes(n,i)?i:r.isEmpty(n)?i:n[0]:t[0],{selectedLanguageCode:e,hoverLanguageCode:null,expandedByMouseOver:!1,expandedByTouch:!1,arrowPosition:0}},getLanguages:function(){var e=r.keys(this.props.value),t=this.props.availableLanguageCodes,n=r.union(t,e);0===n.length&&n.push(this.props.locale.lang);var i=r.keyBy(this.props.locale.directory,"code");return r.filter(r.map(n,function(e){return i[e]}))},componentWillReceiveProps:function(e){if(this.props.locale!==e.locale){var t=e.locale.lang,n=this.props.availableLanguageCodes;r.includes(n,t)&&this.setState({selectedLanguageCode:t})}},render:function(){var e=["multilingual-text-field"],t="input",n=r.omit(this.props,"children","availableLanguageCodes","locale");if("textarea"===this.props.type&&(t=o,n=r.omit(n,"type")),this.props.readOnly){e.push("readonly"),this.state.expandedByMouseOver||this.state.expandedByTouch||e.push("collapsed");var a=this.props.locale.translate;n.placeholder=a("text-field-placeholder-none"),n.spellCheck=!1}return this.getLanguages().length>1&&e.push("multiple-languages"),this.props.value instanceof Object?n.value=this.props.value[this.state.selectedLanguageCode]||"":"string"==typeof this.props.value?n.value=this.props.value:n.value="",n.value&&!1===n.spellCheck&&(n.value+="\ufeff"),n.lang=this.state.selectedLangaugeCode,n.onChange=this.handleTextChange,i.createElement("div",{className:e.join(" ")},i.createElement("label",{htmlFor:this.props.id},this.props.children),i.createElement(t,n),this.renderTabs())},renderTabs:function(){var e=this.getLanguages();return e.length<=1?null:i.createElement("div",{className:"tabs"},r.map(e,this.renderTab),this.renderPopup())},renderTab:function(e,t){var n={key:t,className:"tab",lang:e.code,onClick:this.handleLanguageClick,onMouseOver:this.handleLanguageMouseOver,onMouseOut:this.handleLanguageMouseOut};return e.code===this.state.selectedLanguageCode&&(n.className+=" selected",n.onClick=n.onMouseOver=n.onMouseOut=null),i.createElement("div",n,e.name)},renderPopup:function(){if(!this.state.hoverLanguageCode||this.props.readOnly)return null;var e=this.props.value[this.state.hoverLanguageCode];return r.trim(e)?i.createElement("div",{className:"bubble"},i.createElement("div",{className:"arrow",style:{left:this.state.arrowPosition}}),i.createElement("div",{className:"box"},e)):null},handleTextChange:function(e){var t=this,n=e.target.value,i=this.state.selectedLanguageCode;if(n)this.props.value instanceof Object?this.value=r.clone(this.props.value):"string"==typeof this.props.value?this.value=r.transform(this.props.availableLanguageCodes,function(e,n){e[n]=t.props.value},{}):this.value={},this.value[i]=n;else if(this.value=r.omit(this.props.value,i),!r.includes(this.props.availableLanguageCodes,i)){var a=r.first(this.getLanguages());a&&this.setState({selectedLanguageCode:a.code})}this.props.onChange&&this.props.onChange({type:"change",target:this})},handleLanguageClick:function(e){var t=e.currentTarget.lang;this.setState({selectedLanguageCode:t,hoverLanguageCode:null})},handleLanguageMouseOver:function(e){var t=e.currentTarget,n=t.parentNode,r=n.getBoundingClientRect(),i=t.getBoundingClientRect(),a=i.left+i.width/2-r.left,s=t.lang;this.setState({hoverLanguageCode:s,arrowPosition:a})},handleLanguageMouseOut:function(e){e.currentTarget.lang===this.state.hoverLanguageCode&&this.setState({hoverLanguageCode:null})}})},function(e,t,n){"use strict";var r=n(1),i=r.PropTypes,a=n(35);n(640),e.exports=r.createClass({displayName:"OptionList",propTypes:{readOnly:i.bool,onOptionClick:i.func},render:function(){var e=r.Children.toArray(this.props.children),t=_.filter(e,{type:"option"}),n=_.find(e,{type:"label"}),i=["option-list"];this.props.readOnly&&i.push("readonly");var s={expandable:!0,selectable:!this.props.readOnly,expanded:!this.props.readOnly,sortColumns:[]};return r.createElement("div",{className:i.join(" ")},r.createElement("label",null,n?n.props.children:null),r.createElement("div",{className:"container"},r.createElement(a,s,r.createElement("tbody",null,_.map(t,this.renderRow)))))},renderRow:function(e,t){if(e.props.hidden)return null;var n=["option"];e.props.selected&&(n.push("fixed"),this.props.readOnly||n.push("selected"));var i;this.props.readOnly||(e.props.selected&&!e.props.previous?i=r.createElement("i",{className:"fa fa-check-circle-o badge add"}):!e.props.selected&&e.props.previous&&(i=r.createElement("i",{className:"fa fa-times-circle-o badge remove"})));var a={key:t,className:n.join(" "),"data-name":e.props.name,onClick:this.handleClick};return r.createElement("tr",a,r.createElement("td",null,e.props.children,i))},handleClick:function(e){var t=e.currentTarget.getAttribute("data-name");this.props.onOptionClick&&this.props.onOptionClick({type:"optionclick",target:this,name:t})}})},function(e,t,n){"use strict";function r(e){var t=a.Children.toArray(e.children),n=i.find(t,{type:"window"});return!!(n&&a.Children.count(n.props.children)>0)}var i=n(2),a=n(1),s=a.PropTypes,o=n(30);n(647),e.exports=a.createClass({displayName:"Tooltip",propTypes:{upward:s.bool,leftward:s.bool,disabled:s.bool,ignoreClicks:s.bool},getInitialState:function(){return this.components=o({container:HTMLElement}),{open:!1,live:r(this.props)}},componentWillReceiveProps:function(e){var t=r(e);if(this.state.live!==t||this.props.disabled!==e.disabled){var n=this.state.open&&t&&!e.disabled;this.setState({live:t,open:n})}},render:function(){var e=this.components.setters,t="tooltip";return this.state.live&&!this.props.disabled&&(t+=" live"),this.props.upward&&(t+=" upward"),this.props.leftward&&(t+=" leftward"),this.props.className&&(t+=" "+this.props.className),a.createElement("div",{ref:e.container,className:t},this.renderLabel(),this.renderWindow())},renderLabel:function(){var e=this.findElement("inline");return a.createElement("span",{className:"label",onClick:this.handleLabelClick},e.props.children)},renderWindow:function(){if(!this.state.open)return null;var e=this.findElement("window");return a.createElement("div",{className:"window-container",onClick:this.handleWindowClick},a.createElement("div",{className:"window"},e.props.children))},componentDidUpdate:function(e,t){t.open!==this.state.open&&(this.state.open?document.addEventListener("mousedown",this.handleMouseDown):document.removeEventListener("mousedown",this.handleMouseDown))},componentWillUnmount:function(){this.state.open&&document.removeEventListener("mousedown",this.handleMouseDown)},findElement:function(e){var t=a.Children.toArray(this.props.children);return i.find(t,{type:e})},handleLabelClick:function(e){this.state.live&&!this.props.disabled&&this.setState({open:!this.state.open})},handleMouseDown:function(e){for(var t=!1,n=this.components.container,r=e.target;r;r=r.parentNode)if(r===n){t=!0;break}t||this.setState({open:!1})},handleWindowClick:function(e){this.props.ignoreClicks||this.setState({open:!1})}})},,,,function(e,t,n){"use strict";function r(e,t){return l.createElement("option",s({key:t},e))}function i(e){switch(e){case"facebook":return"facebook-official";default:return e}}function a(e){return o.includes(S,e.type)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),l=n(1),c=l.PropTypes,u=n(18),p=n(11),d=n(14),h=n(6),m=n(8),f=n(66),g=n(17),v=n(44),b=n(36),y=n(45),E=n(46),C=n(67),w=n(84),k=n(28);n(624),e.exports=u.createClass({displayName:"ServerSummaryPage",propTypes:{database:c.instanceOf(p).isRequired,route:c.instanceOf(d).isRequired,locale:c.instanceOf(h).isRequired,theme:c.instanceOf(m).isRequired},statics:{parseUrl:function(e){return d.match("/servers/:serverId/?",e)},getUrl:function(e){var t="/servers/"+e.serverId+"/";return e.edit&&(t+="?edit=1"),t}},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r={system:null,server:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(l.createElement(x,r),250),n.start().then(function(e){var t={};return n.findOne({table:"system",criteria:t})}).then(function(e){r.system=e}).then(function(){var e={id:parseInt(t.props.route.parameters.serverId)};return n.findOne({table:"server",criteria:e})}).then(function(e){return r.server=e,l.createElement(x,r)})}});var x=e.exports.Sync=l.createClass({displayName:"ServerSummaryPage.Sync",propTypes:{system:c.object,server:c.object,database:c.instanceOf(p).isRequired,route:c.instanceOf(d).isRequired,locale:c.instanceOf(h).isRequired,theme:c.instanceOf(m).isRequired},getInitialState:function(){return{newServer:null,hasChanges:!1,saving:!1,problems:{}}},getServer:function(){return this.isEditing()?this.state.newServer||this.props.server||N:this.props.server||N},setServerProperty:function(e,t){var n=this.getServer(),r=o.decoupleSet(n,e,t);if("type"===e){var i=this.props.locale.translate,a=this.props.locale.pick,s=i("server-type-"+n.type),l=i("server-type-"+r.type),c=a(n.details.title);if(!c||c===s){var u=this.props.locale.lang;r=o.decoupleSet(r,"details.title."+u,l)}}if("details.title"===e||"type"===e){var p=f.fromTitle(n.details.title),d=f.fromTitle(r.details.title);n.name&&n.name!==p||(r.name=d)}var h=!0;o.isEqual(r,this.props.server)&&(r=null,h=!1),this.setState({newServer:r,hasChanges:h})},findProblems:function(){var e={},t=this.getServer();t.name||(e.name="validation-required"),t.type||(e.type="validation-required");var n=t.settings.oauth;return n&&(n.clientID&&!n.clientSecret&&(e.clientSecret="validation-required"),!n.clientID&&n.clientSecret&&(e.clientID="validation-required"),!n.clientID&&!n.clientSecret||n.baseURL||"gitlab"===t.type&&(e.baseURL="validation-required")),e},getServerId:function(){return parseInt(this.props.route.parameters.serverId)},isCreating:function(e){return e=e||this.props,"new"===e.route.parameters.serverId},isEditing:function(e){return e=e||this.props,this.isCreating(e)||!!parseInt(e.route.query.edit)},setEditability:function(e,t){var r=t?t.id:this.getServerId(),i=r?n(51).getUrl({serverId:r,edit:e}):n(103).getUrl(),a=!!r;return this.props.route.change(i,a)},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)?this.setState({newServer:null,hasChanges:!1}):this.setState({problems:{}})},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.getServer(),r=t(o.get(n,"details.title"));return!r&&n.type&&(r=e("server-type-"+n.type)),l.createElement("div",{className:"server-summary-page"},this.renderButtons(),l.createElement("h2",null,e("server-summary-member-$name",r)),this.renderForm(),this.renderInstructions())},renderButtons:function(){var e=this.props.locale.translate;if(this.isEditing())return l.createElement("div",{key:"edit",className:"buttons"},l.createElement(g,{className:"cancel",onClick:this.handleCancelClick},e("server-summary-cancel"))," ",l.createElement(g,{className:"save",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("server-summary-save")),l.createElement(k,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}));var t=this.getServer(),n=a(t);return l.createElement("div",{key:"view",className:"buttons"},l.createElement(g,{className:"acquire",hidden:!n,onClick:this.handleAcquireClick},e("server-summary-acquire"))," ",l.createElement(g,{className:"add",onClick:this.handleEditClick},e("server-summary-edit")))},renderForm:function(){var e,t=this.props.locale.translate,n=!this.isEditing(),s=this.getServer(),c=this.props.server||N,u=o.get(this.props.system,"settings.input_languages"),p=this.state.problems,d={id:"title",value:s.details.title,availableLanguageCodes:u,locale:this.props.locale,onChange:this.handleTitleChange,readOnly:n},h={id:"name",value:s.name,locale:this.props.locale,onChange:this.handleNameChange,readOnly:n},m={onOptionClick:this.handleTypeOptionClick,readOnly:n},f=o.map(R,function(e){var n=i(e);return{name:e,selected:s.type===e,previous:c.type===e,children:[l.createElement("i",{className:"fa fa-"+n+" fa-fw",key:0})," ",t("server-type-"+e)]}}),g={onOptionClick:this.handleUserOptionClick,readOnly:n},v=[{name:"no-creation",selected:!o.get(s,"settings.user.type"),previous:c.id?!o.get(c,"settings.user.type"):void 0,children:t("server-summary-new-user-no-creation")},{name:"create-guest",selected:"guest"===o.get(s,"settings.user.type"),previous:"guest"===o.get(c,"settings.user.type"),children:t("server-summary-new-user-guest")},{name:"create-member",selected:"member"===o.get(s,"settings.user.type"),previous:"member"===o.get(c,"settings.user.type"),children:t("server-summary-new-user-member")},{name:"auto-approve",selected:!!o.get(s,"settings.user.automatic_approval"),previous:!!o.get(c,"settings.user.automatic_approval"),children:t("server-summary-new-user-automatic-approval")}];e=t(a(s)?o.get(s.settings,"api.access_token")?"server-summary-api-access-acquired":"server-summary-api-access-pending":"server-summary-api-access-not-applicable");var k={id:"access",value:e,locale:this.props.locale,readOnly:!0},x="gitlab"===s.type,S={id:"oauth_token",value:o.get(s,"settings.oauth.baseURL",""),locale:this.props.locale,onChange:this.handleOAuthUrlChange,readOnly:n},O={id:"oauth_id",value:o.get(s,"settings.oauth.clientID",""),locale:this.props.locale,onChange:this.handleOAuthIdChange,readOnly:n},j={id:"oauth_secret",value:o.get(s,"settings.oauth.clientSecret",""),locale:this.props.locale,onChange:this.handleOAuthSecretChange,readOnly:n};return l.createElement("div",{className:"form"},l.createElement(y,d,t("server-summary-title")),l.createElement(b,h,t("server-summary-name"),l.createElement(w,null,t(p.name))),l.createElement(E,m,l.createElement("label",null,t("server-summary-type"),l.createElement(w,null,t(p.type))),o.map(f,r)),l.createElement(E,g,l.createElement("label",null,t("server-summary-new-user")),o.map(v,r)),l.createElement(C,{open:x},l.createElement(b,S,t("server-summary-oauth-url"),l.createElement(w,null,t(p.baseURL)))),l.createElement(b,O,t("server-summary-oauth-id"),l.createElement(w,null,t(p.clientID))),l.createElement(b,j,t("server-summary-oauth-secret"),l.createElement(w,null,t(p.clientSecret))),l.createElement(b,k,t("server-summary-api-access")))},renderInstructions:function(){var e={topic:"server",hidden:!this.isEditing(),locale:this.props.locale};return l.createElement("div",{className:"instructions"},l.createElement(v,e))},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this;if(!this.state.saving){var n=this.findProblems();if(o.some(n))return void this.setState({problems:n});this.setState({saving:!0,problems:{}},function(){var e=t.props.database.use({schema:"global",by:t}),n=t.getServer();return e.start().then(function(r){return e.saveOne({table:"server"},n).then(function(e){t.setState({hasChanges:!1},function(){return t.setEditability(!1,e)})})})})}},handleTitleChange:function(e){this.setServerProperty("details.title",e.target.value)},handleNameChange:function(e){var t=o.trim(o.toLower(e.target.value));this.setServerProperty("name",t)},handleTypeOptionClick:function(e){this.setServerProperty("type",e.name)},handleApiTokenChange:function(e){this.setServerProperty("settings.api.token",e.target.value)},handleOAuthUrlChange:function(e){this.setServerProperty("settings.oauth.baseURL",e.target.value)},handleOAuthIdChange:function(e){this.setServerProperty("settings.oauth.clientID",e.target.value)},handleOAuthSecretChange:function(e){this.setServerProperty("settings.oauth.clientSecret",e.target.value)},handleUserOptionClick:function(e){switch(e.name){case"no-creation":this.setServerProperty("settings.user.type",void 0);break;case"create-guest":this.setServerProperty("settings.user.type","guest");break;case"create-member":this.setServerProperty("settings.user.type","member");break;case"auto-approve":var t=this.getServer(),n=!o.get(t,"settings.user.automatic_approval");this.setServerProperty("settings.user.automatic_approval",n)}},handleAcquireClick:function(e){var t=this.props.database.use({by:this}),n=this.getServer(),r=t.getActivationUrl(n),i={width:800,height:600,left:window.screenLeft+Math.round((window.outerWidth-800)/2),top:window.screenTop+Math.round((window.outerHeight-600)/2),toolbar:"no",menubar:"no",status:"no"},a=o.map(i,function(e,t){return t+"="+e});window.open(r,"api-access-oauth",a.join(","))}}),R=["dropbox","facebook","github","gitlab","google"],S=["dropbox","gitlab","google"],N={details:{},settings:{}}},function(e,t,n){"use strict";function r(e){this.get=function(t){return e.get(t)},this.queue=function(t){return e.queue(t)},this.find=function(t){return e.find(t)},this.send=function(t){return e.send(t)},this.abort=function(t){return e.abort(t)},this.stream=function(t){return e.stream(t)},this.reattach=function(e){var t=this,n=_.get(e,"details.resources",[]);_.each(n,function(e){var n=_.pick(e,"payload_id","url","poster_url"),r=t.find(n);r&&_.forIn(r,function(t,n){t instanceof Blob&&(e[n]=t)})})},this.prepare=function(e,t){var n=this,r=_.get(e,"details.resources",[]);return i.each(r,function(e){if(!e.payload_id){var r=_.get(t,e.type);return n.queue(e,r).then(function(t){t&&(e.payload_id=t)})}})},this.dispatch=function(e){var t=this,n=_.get(e,"details.resources",[]),r=_.filter(_.map(n,"payload_id"));return i.each(r,function(e){return t.send(e),null})}}var i=n(15);e.exports=r},,,,,,,,,,function(e,t,n){"use strict";var r=n(2),i=n(0),a=n(1),s=a.PropTypes,o=n(18),l=n(25),c=n(11),u=n(14),p=n(6),d=n(8),h=n(40),m=n(17),f=n(35),g=f.TH,v=n(85),b=n(83),y=n(145),E=n(43),C=n(28);n(614),e.exports=o.createClass({displayName:"MemberListPage",propTypes:{database:s.instanceOf(c).isRequired,route:s.instanceOf(u).isRequired,locale:s.instanceOf(p).isRequired,theme:s.instanceOf(d).isRequired},statics:{parseUrl:function(e){return u.match("/projects/:projectId/members/?",e)},getUrl:function(e){var t="/projects/"+e.projectId+"/members/";return e.edit&&(t+="?edit=1"),t}},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),i={project:null,users:null,roles:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(a.createElement(w,i),250),n.start().then(function(e){var r={id:parseInt(t.props.route.parameters.projectId)};return n.findOne({table:"project",criteria:r})}).then(function(e){i.project=e}).then(function(){var e={approved:!0};return n.find({table:"user",criteria:e})}).then(function(t){i.users=t,e.show(a.createElement(w,i))}).then(function(){var e={id:r.uniq(r.flatten(r.map(i.users,"role_ids")))};return n.find({table:"role",criteria:e})}).then(function(t){i.roles=t,e.show(a.createElement(w,i))}).then(function(){var e=x(i.users,i.project);return h.loadUserStatistics(n,i.project,e)}).then(function(e){return i.statistics=e,a.createElement(w,i)})}});var w=e.exports.Sync=a.createClass({displayName:"MemberListPage.Sync",propTypes:{project:s.object,users:s.arrayOf(s.object),roles:s.arrayOf(s.object),statistics:s.objectOf(s.object),database:s.instanceOf(c).isRequired,route:s.instanceOf(u).isRequired,locale:s.instanceOf(p).isRequired,theme:s.instanceOf(d).isRequired},getInitialState:function(){return{sortColumns:["name"],sortDirections:["asc"],selectedUserIds:[],hasChanges:!1,renderingFullList:this.isEditing()}},getProjectId:function(){return parseInt(this.props.route.parameters.projectId)},isEditing:function(e){return e=e||this.props,!!parseInt(e.route.query.edit)},setEditability:function(e){var t=this.getProjectId(),r=n(62).getUrl({projectId:t,edit:e});return this.props.route.change(r,!0)},componentWillReceiveProps:function(e){var t=this;if(this.isEditing()!==this.isEditing(e))if(this.isEditing(e)){var n=x(e.users,e.project),i=r.map(n,"id");this.setState({renderingFullList:!0,selectedUserIds:i,changes:!1})}else setTimeout(function(){t.isEditing()||t.setState({renderingFullList:!1})},500);if(this.props.project!==e.project||this.props.users!==e.users){var n=x(e.users,e.project),i=r.map(n,"id"),a=r.union(this.state.selectedUserIds,i);this.setState({selectedUserIds:a})}},render:function(){var e=this.props.locale.translate;return a.createElement("div",{className:"member-list-page"},this.renderButtons(),a.createElement("h2",null,e("member-list-title")),this.renderTable())},renderButtons:function(){var e=this.props.locale.translate;if(this.isEditing()){var t=!!this.props.project&&!r.isEqual(this.state.selectedUserIds,this.props.project.user_ids);return a.createElement("div",{key:"edit",className:"buttons"},a.createElement(m,{className:"cancel",onClick:this.handleCancelClick},e("member-list-cancel"))," ",a.createElement(m,{className:"save",disabled:!t,onClick:this.handleSaveClick},e("member-list-save")),a.createElement(C,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))}return a.createElement("div",{key:"view",className:"buttons"},a.createElement(m,{className:"add",onClick:this.handleAddClick},e("member-list-new"))," ",a.createElement(m,{className:"edit",onClick:this.handleEditClick},e("member-list-edit")))},renderTable:function(){var e=(this.props.locale.translate,{sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort});return this.state.renderingFullList&&(e.expandable=!0,e.selectable=!0,e.expanded=this.isEditing()),a.createElement(f,e,a.createElement("thead",null,this.renderHeadings()),a.createElement("tbody",{ref:"tbody"},this.renderRows()))},renderHeadings:function(){return a.createElement("tr",null,this.renderNameColumn(),this.renderTypeColumn(),this.renderRolesColumn(),this.renderDateRangeColumn(),this.renderLastMonthColumn(),this.renderThisMonthColumn(),this.renderToDateColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e;e=this.state.renderingFullList?this.props.users:x(this.props.users,this.props.project);var e=k(e,this.props.roles,this.props.statistics,this.props.locale,this.state.sortColumns,this.state.sortDirections);return r.map(e,this.renderRow)},renderRow:function(e){var t={key:e.id};return this.state.renderingFullList?((r.includes(this.props.project.user_ids,e.id)||r.includes(e.requested_project_ids,this.props.project.id))&&(t.className="fixed"),r.includes(this.state.selectedUserIds,e.id)&&(t.className?t.className+=" selected":t.className="selected"),t.onClick=this.handleRowClick,t["data-user-id"]=e.id):r.includes(e.requested_project_ids,this.props.project.id)&&(t.className="pending"),a.createElement("tr",t,this.renderNameColumn(e),this.renderTypeColumn(e),this.renderRolesColumn(e),this.renderDateRangeColumn(e),this.renderLastMonthColumn(e),this.renderThisMonthColumn(e),this.renderToDateColumn(e),this.renderModifiedTimeColumn(e))},renderNameColumn:function(e){var t=this.props.locale.translate;if(e){var i,s,o=e.details.name,l=e.username;if(this.state.renderingFullList){var c=r.includes(this.props.project.user_ids,e.id),u=r.includes(this.state.selectedUserIds,e.id);c&&!u?s=a.createElement("i",{className:"fa fa-user-times badge remove"}):!c&&u&&(s=a.createElement("i",{className:"fa fa-user-plus badge add"}))}else r.includes(e.requested_project_ids,this.props.project.id)&&(s=a.createElement("i",{className:"fa fa-user-plus badge add"})),i=n(24).getUrl({userId:e.id,projectId:this.props.project.id});return a.createElement("td",null,a.createElement("a",{href:i},a.createElement(v,{user:e,theme:this.props.theme})," ",t("user-list-$name-with-$username",o,l),s))}return a.createElement(g,{id:"name"},t("table-heading-name"))},renderTypeColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;return e?a.createElement("td",null,t("user-list-user-$type-$approved",e.type,e.approved)):a.createElement(g,{id:"type"},t("table-heading-type"))},renderRolesColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={roles:R(this.props.roles,e),locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingFullList};return a.createElement("td",null,a.createElement(y,n))}return a.createElement(g,{id:"roles"},t("table-heading-roles"))},renderEmailColumn:function(e){if(this.props.theme.isBelowMode("wide"))return null;var t=this.props.locale.translate;if(e){var n,r=e.details.email;return!this.state.renderingFullList&&r&&(n="mailto:"+r),a.createElement("td",null,a.createElement("a",{href:n},r))}return a.createElement(g,{id:"email"},t("table-heading-email"))},renderDateRangeColumn:function(e,t){if(this.props.theme.isBelowMode("wide"))return null;var n=this.props.locale.translate;if(e){var s,o,l=r.get(this.props.statistics,[e.id,"range"]);return l&&(s=i(l.start).format("ll"),o=i(l.end).format("ll")),a.createElement("td",null,n("date-range-$start-$end",s,o))}return a.createElement(g,{id:"range"},n("table-heading-date-range"))},renderLastMonthColumn:function(e){if(this.props.theme.isBelowMode("ultra-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:r.get(this.props.statistics,[e.id,"last_month"]),locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingFullList};return a.createElement("td",null,a.createElement(b,n))}return a.createElement(g,{id:"last_month"},t("table-heading-last-month"))},renderThisMonthColumn:function(e){if(this.props.theme.isBelowMode("ultra-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:r.get(this.props.statistics,[e.id,"this_month"]),locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingFullList};return a.createElement("td",null,a.createElement(b,n))}return a.createElement(g,{id:"this_month"},t("table-heading-this-month"))},renderToDateColumn:function(e){if(this.props.theme.isBelowMode("ultra-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:r.get(this.props.statistics,[e.id,"to_date"]),locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingFullList};return a.createElement("td",null,a.createElement(b,n))}return a.createElement(g,{id:"to_date"},t("table-heading-to-date"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,disabled:this.state.renderingFullList,locale:this.props.locale};return a.createElement("td",null,a.createElement(E,n))}return a.createElement(g,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleEditClick:function(e){this.setEditability(!0)},handleCancelClick:function(e){this.setEditability(!1)},handleSaveClick:function(){var e=this,t=this.props.database.use({schema:"global",by:this});return t.start().then(function(n){var r={id:e.props.project.id,user_ids:e.state.selectedUserIds};return t.saveOne({table:"project"},r).then(function(t){e.setState({hasChanges:!1},function(){return e.setEditability(!1)})})})},handleAddClick:function(e){var t=this.getProjectId(),r=n(24).getUrl({projectId:t,userId:"new"});this.props.route.change(r)},handleRowClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-user-id")),n=this.props.project.user_ids,i=r.slice(this.state.selectedUserIds),a=!0;r.includes(i,t)?r.pull(i,t):i.push(t),i.length===n.length&&0===r.difference(i,n).length&&(i=n,a=!1),this.setState({selectedUserIds:i,hasChanges:a})}}),k=l(function(e,t,n,i,a,s){return a=r.map(a,function(e){switch(e){case"name":return"details.name";case"range":return function(e){return r.get(n,[e.id,"range","start"],"")};case"last_month":return function(e){return r.get(n,[e.id,"last_month","total"],0)};case"this_month":return function(e){return r.get(n,[e.id,"this_month","total"],0)};case"to_date":return function(e){return r.get(n,[e.id,"to_date","total"],0)};default:return e}}),r.orderBy(e,a,s)}),x=l(function(e,t){if(t){var n=r.keyBy(e,"id"),i=r.filter(r.map(t.user_ids,function(e){return n[e]})),a=r.filter(e,function(e){return r.includes(e.requested_project_ids,t.id)});return r.concat(i,a)}return[]}),R=l(function(e,t){var n=r.keyBy(e,"id");return r.filter(r.map(t.role_ids,function(e){return n[e]}))})},function(e,t,n){"use strict";function r(e,t){return s.createElement("option",i({key:t},e))}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),s=n(1),o=s.PropTypes,l=n(18),c=n(11),u=n(14),p=n(6),d=n(8),h=n(40),m=n(17),f=n(44),g=n(36),v=n(45),b=n(46),y=n(106),E=n(28);n(618),e.exports=l.createClass({displayName:"RepoSummaryPage",propTypes:{database:o.instanceOf(c).isRequired,route:o.instanceOf(u).isRequired,locale:o.instanceOf(p).isRequired,theme:o.instanceOf(d).isRequired},statics:{parseUrl:function(e){return u.match("/projects/:projectId/repos/:repoId/?",e)},getUrl:function(e){var t="/projects/"+e.projectId+"/repos/"+e.repoId+"/";return e.edit&&(t+="?edit=1"),t}},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r={system:null,project:null,repo:null,statistics:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(s.createElement(C,r),250),n.start().then(function(e){var t={};return n.findOne({table:"system",criteria:t})}).then(function(e){r.system=e}).then(function(){var e=parseInt(t.props.route.parameters.repoId);if(e){var r={id:e};return n.findOne({table:"repo",criteria:r})}}).then(function(t){r.repo=t,e.show(s.createElement(C,r))}).then(function(){var e=parseInt(t.props.route.parameters.projectId),r={id:e};return n.findOne({table:"project",criteria:r})}).then(function(t){r.project=t,e.show(s.createElement(C,r))}).then(function(){return h.loadRepoStatistics(n,r.project,[r.repo]).then(function(e){return e[r.repo.id]})}).then(function(e){return r.statistics=e,s.createElement(C,r)})}});var C=e.exports.Sync=s.createClass({displayName:"RepoSummaryPage.Sync",propTypes:{system:o.object,repo:o.object,project:o.object,database:o.instanceOf(c).isRequired,route:o.instanceOf(u).isRequired,locale:o.instanceOf(p).isRequired,theme:o.instanceOf(d).isRequired},getInitialState:function(){return{newRepo:null}},getRepo:function(){return this.isEditing()?this.state.newRepo||this.props.repo||w:this.props.repo||w},setRepoProperty:function(e,t){var n=this.getRepo(),r=a.decoupleSet(n,e,t),i=!0;a.isEqual(r,this.props.repo)&&(r=null,i=!1),this.setState({newRepo:r,hasChanges:i})},getProjectId:function(){return parseInt(this.props.route.parameters.projectId)},getRepoId:function(){return parseInt(this.props.route.parameters.repoId)},isEditing:function(e){return e=e||this.props,!!parseInt(e.route.query.edit)},setEditability:function(e){var t=this.getProjectId(),r=this.getRepoId(),i=n(63).getUrl({projectId:t,repoId:r,edit:e});return this.props.route.change(i,!0)},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)&&this.isEditing(e)&&this.setState({newRepo:null,hasChanges:!1})},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.getRepo(),r=t(a.get(n,"details.title"))||n.name;return s.createElement("div",{className:"repo-summary-page"},this.renderButtons(),s.createElement("h2",null,e("repo-summary-$title",r)),this.renderForm(),this.renderInstructions(),this.renderChart())},renderButtons:function(){var e=this.props.locale.translate;return this.isEditing()?s.createElement("div",{key:"edit",className:"buttons"},s.createElement(m,{className:"cancel",onClick:this.handleCancelClick},e("repo-summary-cancel"))," ",s.createElement(m,{className:"save",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("repo-summary-save")),s.createElement(E,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route})):s.createElement("div",{key:"view",className:"buttons"},s.createElement(m,{className:"add",onClick:this.handleEditClick},e("repo-summary-edit")))},renderForm:function(){var e=this.props.locale.translate,t=(this.props.locale.pick,!this.isEditing()),n=this.props.repo||w,i=this.getRepo(),o=a.get(this.props.system,"settings.input_languages"),l=!!i.details.issue_tracking,c={id:"title",value:i.details.title,availableLanguageCodes:o,locale:this.props.locale,onChange:this.handleTitleChange,readOnly:t},u={id:"name",value:i.name,locale:this.props.locale,readOnly:!0},p={onOptionClick:this.handleOptionClick,readOnly:t||!l},d=[{name:"not_available",selected:!0,previous:!0,children:e("repo-summary-issue-tracker-not-available"),hidden:l},{name:"enabled",selected:i.details.issue_copying,previous:n.details.issue_copying,children:e("repo-summary-issue-tracker-import-allowed"),hidden:!l},{name:"disabled",selected:!i.details.issue_copying,previous:!n.details.issue_copying,children:e("repo-summary-issue-tracker-import-disallowed"),hidden:!l}];return s.createElement("div",{className:"form"},s.createElement(v,c,e("repo-summary-title")),s.createElement(g,u,e("repo-summary-gitlab-name")),s.createElement(b,p,s.createElement("label",null,e("repo-summary-issue-tracker")),a.map(d,r)))},renderInstructions:function(){var e={topic:"repo",hidden:!this.isEditing(),locale:this.props.locale};return s.createElement("div",{className:"instructions"},s.createElement(f,e))},renderChart:function(){var e=this.props.locale.translate,t={statistics:this.props.statistics,locale:this.props.locale,theme:this.props.theme};return s.createElement("div",{className:"statistics"},s.createElement(y,t,e("repo-summary-statistics")))},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r=this.getRepo();return n.start().then(function(e){return n.saveOne({table:"repo"},r).then(function(e){t.setState({hasChanges:!1},function(){t.setEditability(!1)})})})},handleTitleChange:function(e){this.setRepoProperty("details.title",e.target.value)}}),w={details:{}}},function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=n(18),o=n(11),l=n(14),c=n(6),u=n(8),p=n(66),d=n(17),h=n(44),m=n(36),f=n(45),g=(n(46),n(28));n(620),e.exports=s.createClass({displayName:"RobotSummaryPage",propTypes:{database:a.instanceOf(o).isRequired,route:a.instanceOf(l).isRequired,locale:a.instanceOf(c).isRequired,theme:a.instanceOf(u).isRequired},statics:{parseUrl:function(e){return l.match("/projects/:projectId/robots/:robotId/?",e)},getUrl:function(e){var t="/projects/"+e.projectId+"/robots/"+e.robotId+"/";return e.edit&&(t+="?edit=1"),t}},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r={system:null,project:null,robot:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(i.createElement(v,r),250),n.start().then(function(e){var t={};return n.findOne({table:"system",criteria:t})}).then(function(e){r.system=e}).then(function(){var e=parseInt(t.props.route.parameters.projectId),r={id:e};return n.findOne({table:"project",criteria:r})}).then(function(t){r.project=t,e.show(i.createElement(v,r))}).then(function(){var e=parseInt(t.props.route.parameters.robotId);if(e){if(!r.project)return;var i=r.project.name,a={id:e};return n.findOne({schema:i,table:"robot",criteria:a})}}).then(function(e){return r.robot=e,i.createElement(v,r)})}});var v=e.exports.Sync=i.createClass({displayName:"RobotSummaryPage.Sync",propTypes:{system:a.object,robot:a.object,project:a.object,database:a.instanceOf(o).isRequired,route:a.instanceOf(l).isRequired,locale:a.instanceOf(c).isRequired,theme:a.instanceOf(u).isRequired},getInitialState:function(){return{newRobot:null}},getRobot:function(){return this.isEditing()?this.state.newRobot||this.props.robot||b:this.props.robot||b},setRobotProperty:function(e,t){var n=this.getRobot(),i=r.decoupleSet(n,e,t);if("details.title"===e){var a=p.fromTitle(n.details.title),s=p.fromTitle(i.details.title);n.name&&n.name!==a||(i.name=s)}var o=!0;r.isEqual(i,this.props.robot)&&(i=null,o=!1),this.setState({newRobot:i,hasChanges:o})},getProjectId:function(){return parseInt(this.props.route.parameters.projectId)},getRobotId:function(){return parseInt(this.props.route.parameters.robotId)},isCreating:function(e){return e=e||this.props,"new"===e.route.parameters.robotId},isEditing:function(e){return e=e||this.props,this.isCreating(e)||!!parseInt(e.route.query.edit)},setEditability:function(e,t){var r=this.getProjectId(),i=t?t.id:this.getRobotId(),a=i?n(64).getUrl({projectId:r,robotId:i,edit:e}):n(102).getUrl({projectId:r}),s=!!i;return this.props.route.change(a,s)},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)&&this.isEditing(e)&&this.setState({newRobot:null,hasChanges:!1})},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=t(r.get(this.props.robot,"details.title"));return i.createElement("div",{className:"robot-summary-page"},this.renderButtons(),i.createElement("h2",null,e("robot-summary-$title",n)),this.renderForm(),this.renderInstructions())},renderButtons:function(){var e=this.props.locale.translate;return this.isEditing()?i.createElement("div",{key:"edit",className:"buttons"},i.createElement(d,{className:"cancel",onClick:this.handleCancelClick},e("robot-summary-cancel"))," ",i.createElement(d,{className:"save",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("robot-summary-save")),i.createElement(g,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route})):i.createElement("div",{key:"view",className:"buttons"},i.createElement(d,{className:"add",onClick:this.handleEditClick},e("robot-summary-edit")))},renderForm:function(){var e=this.props.locale.translate,t=!this.isEditing(),n=(this.props.robot,this.getRobot()),a=r.get(this.props.system,"settings.input_languages"),s={id:"title",value:n.details.title,availableLanguageCodes:a,locale:this.props.locale,onChange:this.handleTitleChange,readOnly:t},o={id:"name",value:n.name,locale:this.props.locale,onChange:this.handleNameChange,readOnly:t},l={id:"description",value:n.details.description,type:"textarea",availableLanguageCodes:a,locale:this.props.locale,onChange:this.handleDescriptionChange,readOnly:t};return i.createElement("div",{className:"form"},i.createElement(f,s,e("robot-summary-title")),i.createElement(m,o,e("robot-summary-name")),i.createElement(f,l,e("robot-summary-description")))},renderInstructions:function(){var e={topic:"robot",hidden:!this.isEditing(),locale:this.props.locale};return i.createElement("div",{className:"instructions"},i.createElement(h,e))},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this,n=this.props.project.name,r=this.props.database.use({schema:n,by:this}),i=this.getRobot();return r.start().then(function(e){return r.saveOne({table:"robot"},i).then(function(e){t.setState({hasChanges:!1},function(){return t.setEditability(!1,e)})})})},handleTitleChange:function(e){this.setRobotProperty("details.title",e.target.value)},handleNameChange:function(e){this.setRobotProperty("name",e.target.value)},handleDescriptionChange:function(e){this.setRobotProperty("details.description",e.target.value)}}),b={details:{}}},function(e,t,n){"use strict";var r=n(2),i=(n(0),n(1)),a=i.PropTypes,s=n(18),o=n(25),l=n(11),c=n(14),u=n(6),p=n(8),d=n(24),h=n(17),m=n(35),f=m.TH,g=n(85),v=n(347),b=n(145),y=n(43),E=n(28);n(627),e.exports=s.createClass({displayName:"UserListPage",propTypes:{database:a.instanceOf(l).isRequired,route:a.instanceOf(c).isRequired,locale:a.instanceOf(u).isRequired,theme:a.instanceOf(p).isRequired},statics:{parseUrl:function(e){return c.match("/users/?",e)},getUrl:function(e){var t="/users/";return e&&e.approve&&(t+="?approve=1"),t}},renderAsync:function(e){var t=this.props.database.use({schema:"global",by:this}),n={users:null,projects:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(i.createElement(C,n),250),t.start().then(function(e){var n={};return t.find({table:"user",criteria:n})}).then(function(t){n.users=t,e.show(i.createElement(C,n))}).then(function(){var e={user_ids:r.map(n.users,"id")};return t.find({table:"project",criteria:e})}).then(function(e){n.projects=e}).then(function(){var e={id:r.flatten(r.map(n.users,"role_ids"))};return t.find({table:"role",criteria:e})}).then(function(e){return n.roles=e,i.createElement(C,n)})}});var C=e.exports.Sync=i.createClass({displayName:"UserListPage.Sync",propTypes:{users:a.arrayOf(a.object),projects:a.arrayOf(a.object),roles:a.arrayOf(a.object),database:a.instanceOf(l).isRequired,route:a.instanceOf(c).isRequired,locale:a.instanceOf(u).isRequired,theme:a.instanceOf(p).isRequired},getInitialState:function(){return{sortColumns:["name"],sortDirections:["asc"],renderingPartialList:this.isApproving(),selectedUserIds:[],hasChanges:!1}},setEditability:function(e){var t=n(65).getUrl({approve:e});return this.props.route.change(t,!0)},isApproving:function(e){return e=e||this.props,!!parseInt(e.route.query.approve)},componentWillReceiveProps:function(e){var t=this;if(this.isApproving()!==this.isApproving(e))if(this.isApproving(e)){var n=r.filter(e.users,{approved:!1});this.setState({renderingPartialList:!0,selectedUserIds:r.map(n,"id"),hasChanges:!r.isEmpty(n)})}else setTimeout(function(){t.isApproving()||t.setState({renderingPartialList:!1})},500);if(this.props.users!==e.users&&r.isEmpty(this.state.selectedUserIds)){var n=r.filter(e.users,{approved:!1});this.setState({selectedUserIds:r.map(n,"id")})}},render:function(){var e=this.props.locale.translate;return i.createElement("div",{className:"user-list-page"},this.renderButtons(),i.createElement("h2",null,e("user-list-title")),this.renderTable())},renderButtons:function(){var e=this.props.locale.translate;if(this.isApproving()){var t=!r.isEmpty(this.state.selectedUserIds);return i.createElement("div",{className:"buttons"},i.createElement(h,{className:"cancel",onClick:this.handleCancelClick},e("user-list-cancel"))," ",i.createElement(h,{className:"save",disabled:!t,onClick:this.handleSaveClick},e("user-list-save")),i.createElement(E,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}))}var n=r.some(this.props.users,{approved:!1});return i.createElement("div",{className:"buttons"},i.createElement(h,{className:"add",onClick:this.handleAddClick},e("user-list-new"))," ",i.createElement(h,{className:"edit",disabled:!n,onClick:this.handleApproveClick},e("user-list-approve")))},renderTable:function(){var e=(this.props.locale.translate,{sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort});return this.state.renderingPartialList&&(e.expanded=!this.isApproving(),e.expandable=!0,e.selectable=!0),i.createElement(m,e,i.createElement("thead",null,this.renderHeadings()),i.createElement("tbody",null,this.renderRows()))},renderHeadings:function(){return i.createElement("tr",null,this.renderNameColumn(),this.renderTypeColumn(),this.renderRolesColumn(),this.renderProjectsColumn(),this.renderEmailColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e=w(this.props.users,this.props.roles,this.props.projects,this.props.locale,this.state.sortColumns,this.state.sortDirections);return r.map(e,this.renderRow)},renderRow:function(e,t){var n={key:e.id};return this.state.renderingPartialList&&(e.approved||(n.className="fixed",r.includes(this.state.selectedUserIds,e.id)&&(n.className+=" selected")),n.onClick=this.handleRowClick,n["data-user-id"]=e.id),i.createElement("tr",n,this.renderNameColumn(e),this.renderTypeColumn(e),this.renderRolesColumn(e),this.renderProjectsColumn(e),this.renderEmailColumn(e),this.renderModifiedTimeColumn(e))},renderNameColumn:function(e){var t=this.props.locale.translate,n=this.props.locale.pick;if(e){var a,s,o=n(e.details.name),l=e.username;return this.state.renderingPartialList?r.includes(this.state.selectedUserIds,e.id)&&(s=i.createElement("i",{className:"fa fa-check-square badge add"})):a=d.getUrl({userId:e.id}),i.createElement("td",null,i.createElement("a",{href:a},i.createElement(g,{user:e,theme:this.props.theme})," ",t("user-list-$name-with-$username",o,l),s))}return i.createElement(f,{id:"name"},t("table-heading-name"))},renderTypeColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;return e?i.createElement("td",null,t("user-list-user-$type-$approved",e.type,e.approved)):i.createElement(f,{id:"type"},t("table-heading-type"))},renderProjectsColumn:function(e){if(this.props.theme.isBelowMode("ultra-wide"))return null;var t=this.props.locale.translate;if(e){var n={projects:k(this.props.projects,e),omit:1,locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingPartialList};return i.createElement("td",null,i.createElement(v,n))}return i.createElement(f,{id:"projects"},t("table-heading-projects"))},renderRolesColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={roles:x(this.props.roles,e),locale:this.props.locale,theme:this.props.theme,disabled:this.state.renderingPartialList};return i.createElement("td",null,i.createElement(b,n))}return i.createElement(f,{id:"roles"},t("table-heading-roles"))},renderEmailColumn:function(e){if(this.props.theme.isBelowMode("wide"))return null;var t=this.props.locale.translate;if(e){var n="-",r=e.details.email;if(r){var a;this.state.renderingPartialList||(a="mailto:"+r),n=i.createElement("a",{href:a},r)}return i.createElement("td",{className:"email"},n)}return i.createElement(f,{id:"email"},t("table-heading-email"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,disabled:this.state.renderingPartialList,locale:this.props.locale};return i.createElement("td",null,i.createElement(y,n))}return i.createElement(f,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleAddClick:function(e){var t=n(24).getUrl({userId:"new"});return this.props.route.change(t)},handleApproveClick:function(e){this.setEditability(!0)},handleCancelClick:function(e){this.setEditability(!1)},handleSaveClick:function(e){var t=this,n=this.props.database.use({schema:"global",by:this});return n.start().then(function(e){var i=r.map(t.state.selectedUserIds,function(e){return{id:e,approved:!0}});return n.save({table:"user"},i).then(function(e){t.setState({hasChanges:!1,selectedUserIds:[]},function(){t.setEditability(!1)})})})},handleRowClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-user-id")),n=r.slice(this.state.selectedUserIds);r.includes(n,t)?r.pull(n,t):n.push(t);var i=!r.isEmpty(n);this.setState({selectedUserIds:n,hasChanges:i})}}),w=o(function(e,t,n,i,a,s){var o=i.pick;return a=r.map(a,function(e){switch(e){case"name":return function(e){return o(e.details.name)};case"type":var i=["guest","member","admin"];return function(e){return r.indexOf(i,e.type)};case"roles":return function(e){var n=r.first(x(t,e));return n?o(n.details.title)||n.name:""};case"projects":return function(e){var t=r.first(k(n,e));return t?o(t.details.title)||t.name:""};case"email":return"details.email";default:return e}}),r.orderBy(e,a,s)}),k=o(function(e,t){return r.filter(e,function(e){return r.includes(e.user_ids,t.id)})}),x=o(function(e,t){var n=r.keyBy(e,"id");return r.filter(r.map(t.role_ids,function(e){return n[e]}))})},function(e,t,n){"use strict";function r(e){"string"==typeof e&&(e={en:e});var t,n="";for(var t in e)if(n=String(e[t]),n=a(n),n=n.replace(/\s+/g,"-"),n=n.replace(/[^0-9a-z\-]/g,""),/^\-+$/.test(n)&&(n=""),n)break;return n.length>32&&(n=n.substr(0,32)),n}function i(e){"string"==typeof e&&(e={en:e});var t,n="";for(var t in e){for(var r=String(e[t]).split(/\s+/).filter(Boolean),i=a(r[r.length-1]),s="",o=0;o<r.length-1;o++)s+=a(r[o]).charAt(0);if(n=s+i,n=n.replace(/[^a-z]/g,""))break}return n}function a(e){return String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}t.fromTitle=r,t.fromPersonalName=i},function(e,t,n){"use strict";function r(e){var t=e.offsetHeight,n=e.getElementsByClassName("collapsible-container");return _.each(n,function(e){if(t-=e.offsetHeight,parseInt(e.style.height)>0){var n=e.children[0];t+=n.offsetHeight}}),t}var i=n(1),a=(i.PropTypes,n(30));n(650),e.exports=i.createClass({displayName:"CollapsibleContainer",propTypes:{open:i.PropTypes.bool},getInitialState:function(){return this.components=a({container:HTMLDivElement,contents:HTMLDivElement}),{contentHeight:void 0,collapsing:!1,expanding:!1}},componentWillReceiveProps:function(e){this.props.open!==e.open&&(e.open?this.setState({collapsing:!1,expanding:!0}):this.setState({collapsing:!0,expanding:!1}))},render:function(){var e=this.components.setters,t={};this.props.open?t.height=this.state.contentHeight:t.height=0;var n="collapsible-container";return this.state.expanding?n+=" expanding":this.state.collapsing&&(n+=" collapsing"),i.createElement("div",{ref:e.container,className:n,style:t},i.createElement("div",{ref:e.contents,className:"collapsible-contents"},this.props.children))},componentDidMount:function(){this.props.open&&this.componentDidUpdate()},componentDidUpdate:function(e,t){var n=r(this.components.contents);this.state.contentHeight!==n&&this.setState({contentHeight:n})}})},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2),i=(n(15),n(0)),a=n(1),s=a.PropTypes,o=n(18),l=n(25),c=n(11),u=n(14),p=n(6),d=n(8),h=n(40),m=n(17),f=n(35),g=f.TH,v=n(105),b=n(348),y=n(83),E=n(43);n(615),e.exports=o.createClass({displayName:"ProjectListPage",propTypes:{database:s.instanceOf(c).isRequired,route:s.instanceOf(u).isRequired,locale:s.instanceOf(p).isRequired,theme:s.instanceOf(d).isRequired},statics:{parseUrl:function(e){return u.match("/projects/?",e)},getUrl:function(e){return"/projects/"}},renderAsync:function(e){var t=this.props.database.use({schema:"global",by:this}),n={projects:null,repos:null,users:null,statistics:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(a.createElement(C,n),250),t.start().then(function(e){var n={};return t.find({table:"project",criteria:n})}).then(function(t){n.projects=t,e.show(a.createElement(C,n))}).then(function(){var e={id:r.flatten(r.map(n.projects,"repo_ids"))};return t.find({table:"repo",criteria:e})}).then(function(t){n.repos=t,e.show(a.createElement(C,n))}).then(function(){var e={id:r.flatten(r.map(n.projects,"user_ids"))};return t.find({table:"user",criteria:e})}).then(function(t){n.users=t,e.show(a.createElement(C,n))}).then(function(){return h.loadProjectStatistics(t,n.projects)}).then(function(e){return n.statistics=e,a.createElement(C,n)})}});var C=e.exports.Sync=a.createClass({displayName:"ProjectListPage.Sync",propTypes:{projects:s.arrayOf(s.object),repos:s.arrayOf(s.object),users:s.arrayOf(s.object),statistics:s.objectOf(s.object),database:s.instanceOf(c).isRequired,route:s.instanceOf(u).isRequired,locale:s.instanceOf(p).isRequired,theme:s.instanceOf(d).isRequired},getInitialState:function(){return{sortColumns:["name"],sortDirections:["asc"]}},render:function(){var e=this.props.locale.translate;return a.createElement("div",{className:"project-list-page"},this.renderButtons(),a.createElement("h2",null,e("project-list-title")),this.renderTable())},renderButtons:function(){var e=this.props.locale.translate;return a.createElement("div",{className:"buttons"},a.createElement(m,{className:"add",onClick:this.handleAddClick},e("project-list-new")))},renderTable:function(){var e=(this.props.locale.translate,{sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort});return a.createElement(f,e,a.createElement("thead",null,this.renderHeadings()),a.createElement("tbody",null,this.renderRows()))},renderHeadings:function(){return a.createElement("tr",null,this.renderTitleColumn(),this.renderUsersColumn(),this.renderRepositoriesColumn(),this.renderDateRangeColumn(),this.renderLastMonthColumn(),this.renderThisMonthColumn(),this.renderToDateColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e=w(this.props.projects,this.props.users,this.props.repos,this.props.statistics,this.props.locale,this.state.sortColumns,this.state.sortDirections);return r.map(e,this.renderRow)},renderRow:function(e,t){return a.createElement("tr",{key:t},this.renderTitleColumn(e),this.renderUsersColumn(e),this.renderRepositoriesColumn(e),this.renderDateRangeColumn(e),this.renderLastMonthColumn(e),this.renderThisMonthColumn(e),this.renderToDateColumn(e),this.renderModifiedTimeColumn(e))},renderTitleColumn:function(e){var t=this.props.locale.translate;if(e){var r=this.props.locale.pick,i=r(e.details.title),s=n(41).getUrl({projectId:e.id});return a.createElement("td",null,a.createElement("a",{href:s},t("project-list-$title-with-$name",i,e.name)))}return a.createElement(g,{id:"title"},t("table-heading-name"))},renderUsersColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;if(e){var n={users:x(this.props.users,e),project:e,locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(v,n))}return a.createElement(g,{id:"users"},t("table-heading-users"))},renderRepositoriesColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;if(e){var n={repos:k(this.props.repos,e),project:e,locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(b,n))}return a.createElement(g,{id:"repos"},t("table-heading-repositories"))},renderDateRangeColumn:function(e){if(this.props.theme.isBelowMode("wide"))return null;var t=this.props.locale.translate;if(e){var n,s,o=r.get(this.props.statistics,[e.id,"range"]);return o&&(n=i(o.start).format("ll"),s=i(o.end).format("ll")),a.createElement("td",null,t("date-range-$start-$end",n,s))}return a.createElement(g,{id:"range"},t("table-heading-date-range"))},renderLastMonthColumn:function(e){if(this.props.theme.isBelowMode("ultra-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:r.get(this.props.statistics,[e.id,"last_month"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(y,n))}return a.createElement(g,{id:"last_month"},t("table-heading-last-month"))},renderThisMonthColumn:function(e){if(this.props.theme.isBelowMode("ultra-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:r.get(this.props.statistics,[e.id,"this_month"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(y,n))}return a.createElement(g,{id:"this_month"},t("table-heading-this-month"))},renderToDateColumn:function(e){if(this.props.theme.isBelowMode("ultra-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:r.get(this.props.statistics,[e.id,"to_date"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(y,n))}return a.createElement(g,{id:"to_date"},t("table-heading-to-date"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,locale:this.props.locale};return a.createElement("td",null,a.createElement(E,n))}return a.createElement(g,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleAddClick:function(e){var t=n(41).getUrl({projectId:"new"});return this.props.route.change(t)}}),w=l(function(e,t,n,i,a,s,o){var l=this;return s=r.map(s,function(e){switch(e){case"title":return function(e){return a.pick(e.details.title)};case"users":return function(e){return r.size(x(t,e))};case"repos":return function(e){return r.size(x(n,e))};case"range":return function(e){return r.get(l.props.statistics,[e.id,"range","start"],"")};case"last_month":return function(e){return r.get(l.props.statistics,[e.id,"last_month","total"],0)};case"this_month":return function(e){return r.get(l.props.statistics,[e.id,"this_month","total"],0)};case"to_date":return function(e){return r.get(l.props.statistics,[e.id,"to_date","total"],0)};default:return e}}),r.orderBy(e,s,o)}),k=l(function(e,t){var n=r.keyBy(e,"id");return r.filter(r.map(t.repo_ids,function(e){return n[e]}))}),x=l(function(e,t){var n=r.keyBy(e,"id");return r.filter(r.map(t.user_ids,function(e){return n[e]}))})},function(e,t,n){"use strict";var r=n(2),i=n(0),a=n(1),s=a.PropTypes,o=n(18),l=n(25),c=n(11),u=n(14),p=n(6),d=n(8),h=n(40),m=n(17),f=n(35),g=f.TH,v=n(83),b=n(43),y=n(28);n(617),e.exports=o.createClass({displayName:"RepoListPage",propTypes:{database:s.instanceOf(c).isRequired,route:s.instanceOf(u).isRequired,locale:s.instanceOf(p).isRequired,theme:s.instanceOf(d).isRequired},statics:{parseUrl:function(e){return u.match("/projects/:projectId/repos/?",e)},getUrl:function(e){var t="/projects/"+e.projectId+"/repos/";return e.edit&&(t+="?edit=1"),t}},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),i={project:null,repos:null,servers:null,statistics:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(a.createElement(E,i),250),n.start().then(function(e){var r={id:parseInt(t.props.route.parameters.projectId)};return n.findOne({table:"project",criteria:r})}).then(function(e){i.project=e}).then(function(){var e={};return n.find({table:"repo",criteria:e})}).then(function(t){i.repos=t,e.show(a.createElement(E,i))}).then(function(){var e={id:r.map(i.repos,"server_id")};return n.find({table:"server",criteria:e})}).then(function(t){i.servers=t,e.show(a.createElement(E,i))}).then(function(){var e=k(i.repos,i.project);return h.loadRepoStatistics(n,i.project,e)}).then(function(e){return i.statistics=e,a.createElement(E,i)})}});var E=e.exports.Sync=a.createClass({displayName:"RepoListPage.Sync",propTypes:{repos:s.arrayOf(s.object),project:s.object,servers:s.arrayOf(s.object),statistics:s.objectOf(s.object),database:s.instanceOf(c).isRequired,route:s.instanceOf(u).isRequired,locale:s.instanceOf(p).isRequired,theme:s.instanceOf(d).isRequired},getInitialState:function(){return{sortColumns:["name"],sortDirections:["asc"],selectedRepoIds:[],hasChanges:!1,renderingFullList:this.isEditing()}},getProjectId:function(){return parseInt(this.props.route.parameters.projectId)},isEditing:function(e){return e=e||this.props,!!parseInt(e.route.query.edit)},setEditability:function(e){var t=this.getProjectId(),r=n(81).getUrl({projectId:t,edit:e});return this.props.route.change(r,!0)},componentWillReceiveProps:function(e){var t=this;if(this.isEditing()!==this.isEditing(e)&&(this.isEditing(e)?this.setState({renderingFullList:!0,selectedRepoIds:r.get(e.project,"repo_ids",[]),hasChanges:!1}):setTimeout(function(){t.isEditing()||t.setState({renderingFullList:!1})},500)),this.props.project!==e.project&&e.project){var n=this.state.selectedRepoIds,i=r.get(this.props.project,"repo_ids",[]),a=r.get(e.project,"repo_ids",[]);n===i?n=a:r.isEqual(i,a)||(n=r.union(n,a)),this.setState({selectedRepoIds:n})}},render:function(){var e=this.props.locale.translate;return a.createElement("div",{className:"repo-list-page"},this.renderButtons(),a.createElement("h2",null,e("repo-list-title")),this.renderTable())},renderButtons:function(){var e=this.props.locale.translate;return this.isEditing()?a.createElement("div",{className:"buttons"},a.createElement(y,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route}),a.createElement(m,{className:"cancel",onClick:this.handleCancelClick},e("repo-list-cancel"))," ",a.createElement(m,{className:"add",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("repo-list-save"))):a.createElement("div",{className:"buttons"},a.createElement(m,{className:"edit",onClick:this.handleEditClick},e("repo-list-edit")))},renderTable:function(){var e=(this.props.locale.translate,{sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort});return this.state.renderingFullList&&(e.expandable=!0,e.selectable=!0,e.expanded=this.isEditing()),a.createElement(f,e,a.createElement("thead",null,this.renderHeadings()),a.createElement("tbody",null,this.renderRows()))},renderHeadings:function(){return a.createElement("tr",null,this.renderTitleColumn(),this.renderServerColumn(),this.renderIssueTrackerColumn(),this.renderDateRangeColumn(),this.renderLastMonthColumn(),this.renderThisMonthColumn(),this.renderToDateColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e=this.props.repos;return this.state.renderingFullList||(e=k(e,this.props.project)),e=C(e,this.props.servers,this.props.statistics,this.props.locale,this.state.sortColumns,this.state.sortDirections),r.map(e,this.renderRow)},renderRow:function(e,t){var n={key:e.id};if(this.state.renderingFullList){var i=r.get(this.props.project,"repo_ids",[]);r.includes(i,e.id)&&(n.className="fixed"),r.includes(this.state.selectedRepoIds,e.id)&&(n.className?n.className+=" selected":n.className="selected"),n.onClick=this.handleRowClick,n["data-repo-id"]=e.id}return a.createElement("tr",n,this.renderTitleColumn(e),this.renderServerColumn(e),this.renderIssueTrackerColumn(e),this.renderDateRangeColumn(e),this.renderLastMonthColumn(e),this.renderThisMonthColumn(e),this.renderToDateColumn(e),this.renderModifiedTimeColumn(e))},renderTitleColumn:function(e){var t=this.props.locale.translate;if(e){var i,s,o=this.props.locale.pick,l=o(e.details.title)||e.name;if(this.state.renderingFullList){var c=r.get(this.props.project,"repo_ids",[]),u=r.includes(c,e.id),p=r.includes(this.state.selectedRepoIds,e.id),d=n(332);u&&!p?s=a.createElement("div",{className:"badge remove"},a.createElement(d,null),a.createElement("i",{className:"fa fa-times sign"})):!u&&p&&(s=a.createElement("div",{className:"badge add"},a.createElement(d,null),a.createElement("i",{className:"fa fa-plus sign"})))}else i=n(63).getUrl({projectId:this.getProjectId(),repoId:e.id});return a.createElement("td",null,a.createElement("a",{href:i},l),s)}return a.createElement(g,{id:"title"},t("table-heading-title"))},renderServerColumn:function(e){var t=this.props.locale.translate;if(e){var r,i=this.props.locale.pick,s=w(this.props.servers,e);if(s){var o=i(s.details.title)||t("server-type-"+s.type),l=n(51).getUrl({serverId:s.id});r=a.createElement("a",{href:l},a.createElement("i",{className:"fa fa-"+s.type+" fa-fw"})," ",o)}return a.createElement("td",null,r)}return a.createElement(g,{id:"server"},t("table-heading-server"))},renderIssueTrackerColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;if(e){var n=(this.props.locale.pick,!!e.details.issues_enabled);return a.createElement("td",null,t("repo-list-issue-tracker-enabled-"+n))}return a.createElement(g,{id:"issue_tracker"},t("table-heading-issue-tracker"))},renderDateRangeColumn:function(e){if(this.props.theme.isBelowMode("wide"))return null;var t=this.props.locale.translate;if(e){var n,s,o=r.get(this.props.statistics,[e.id,"range"]);return o&&(n=i(o.start).format("ll"),s=i(o.end).format("ll")),a.createElement("td",null,t("date-range-$start-$end",n,s))}return a.createElement(g,{id:"range"},t("table-heading-date-range"))},renderLastMonthColumn:function(e){if(this.props.theme.isBelowMode("ultra-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:r.get(this.props.statistics,[e.id,"last_month"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(v,n))}return a.createElement(g,{id:"last_month"},t("table-heading-last-month"))},renderThisMonthColumn:function(e){if(this.props.theme.isBelowMode("ultra-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:r.get(this.props.statistics,[e.id,"this_month"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(v,n))}return a.createElement(g,{id:"this_month"},t("table-heading-this-month"))},renderToDateColumn:function(e){if(this.props.theme.isBelowMode("ultra-wide"))return null;var t=this.props.locale.translate;if(e){var n={statistics:r.get(this.props.statistics,[e.id,"to_date"]),locale:this.props.locale,theme:this.props.theme};return a.createElement("td",null,a.createElement(v,n))}return a.createElement(g,{id:"to_date"},t("table-heading-to-date"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,locale:this.props.locale};return a.createElement("td",null,a.createElement(b,n))}return a.createElement(g,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleEditClick:function(e){this.setEditability(!0)},handleCancelClick:function(e){this.setEditability(!1)},handleSaveClick:function(e){var t=this,n=this.props.database.use({schema:"global",by:this});return n.start().then(function(e){var r={id:t.props.project.id,repo_ids:t.state.selectedRepoIds};return n.saveOne({table:"project"},r).then(function(e){t.setState({hasChanges:!1},function(){t.setEditability(!1)})})})},handleRowClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-repo-id")),n=this.props.project.repo_ids,i=r.slice(this.state.selectedRepoIds),a=!0;r.includes(i,t)?r.pull(i,t):i.push(t),i.length===n.length&&0===r.difference(i,n).length&&(i=n,a=!1),this.setState({selectedRepoIds:i,hasChanges:a})}}),C=l(function(e,t,n,i,a,s){var o=i.translate,l=i.pick;return a=r.map(a,function(e){switch(e){case"title":return function(e){return l(e.details.title)||e.name};case"server":return function(e){var n=w(t,e);return n?l(n.details.title)||o("server-type-"+n.type):""};case"issue_tracker":return"details.issues_enabled";case"range":return function(e){return r.get(n,[e.id,"range","start"],"")};case"last_month":return function(e){return r.get(n,[e.id,"last_month","total"],0)};case"this_month":return function(e){return r.get(n,[e.id,"this_month","total"],0)};case"to_date":return function(e){return r.get(n,[e.id,"to_date","total"],0)};default:return e}}),r.orderBy(e,a,s)}),w=l(function(e,t){return t?r.find(e,{id:t.server_id}):null}),k=l(function(e,t){if(t){var n=r.keyBy(e,"id");return r.filter(r.map(t.repo_ids,function(e){return n[e]}))}return[]})},function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=n(18),o=n(25),l=n(11),c=n(14),u=n(6),p=n(8),d=n(17),h=n(35),m=h.TH,f=n(105),g=n(43);n(621),e.exports=s.createClass({displayName:"RolesPage",propTypes:{database:a.instanceOf(l).isRequired,route:a.instanceOf(c).isRequired,locale:a.instanceOf(u).isRequired,theme:a.instanceOf(p).isRequired},statics:{parseUrl:function(e){return c.match("/roles/?",e)},getUrl:function(e){return"/roles/"}},renderAsync:function(e){var t=this.props.database.use({schema:"global",by:this}),n={roles:null,users:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(i.createElement(v,n),250),t.start().then(function(e){var n={};return t.find({table:"role",criteria:n})}).then(function(t){n.roles=t,e.show(i.createElement(v,n))}).then(function(){var e={role_ids:r.flatten(r.map(n.roles,"id"))};return t.find({table:"user",criteria:e})}).then(function(e){return n.users=e,i.createElement(v,n)})}});var v=e.exports.Sync=i.createClass({displayName:"RoleListPage.Sync",propTypes:{roles:a.arrayOf(a.object),users:a.arrayOf(a.object),database:a.instanceOf(l).isRequired,route:a.instanceOf(c).isRequired,locale:a.instanceOf(u).isRequired,theme:a.instanceOf(p).isRequired},getInitialState:function(){return{sortColumns:["name"],sortDirections:["asc"]}},render:function(){var e=this.props.locale.translate;return i.createElement("div",{className:"role-list-page"},this.renderButtons(),i.createElement("h2",null,e("role-list-title")),this.renderTable())},renderButtons:function(){var e=this.props.locale.translate;return i.createElement("div",{className:"buttons"},i.createElement(d,{className:"add",onClick:this.handleAddClick},e("role-list-new")))},renderTable:function(){var e=(this.props.locale.translate,{sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort});return i.createElement(h,e,i.createElement("thead",null,this.renderHeadings()),i.createElement("tbody",null,this.renderRows()))},renderHeadings:function(){return i.createElement("tr",null,this.renderTitleColumn(),this.renderUsersColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e=b(this.props.roles,this.props.users,this.props.locale,this.state.sortColumns,this.state.sortDirections);return r.map(e,this.renderRow)},renderRow:function(e,t){return i.createElement("tr",{key:t},this.renderTitleColumn(e),this.renderUsersColumn(e),this.renderModifiedTimeColumn(e))},renderTitleColumn:function(e){var t=this.props.locale.translate;if(e){var r=this.props.locale.pick,a=r(e.details.title)||"-",s=n(42).getUrl({projectId:this.props.route.parameters.projectId,roleId:e.id});return i.createElement("td",null,i.createElement("a",{href:s},a))}return i.createElement(m,{id:"title"},t("table-heading-title"))},renderUsersColumn:function(e){if(this.props.theme.isBelowMode("narrow"))return null;var t=this.props.locale.translate;if(e){var n={users:y(this.props.users,e),locale:this.props.locale,theme:this.props.theme};return i.createElement("td",null,i.createElement(f,n))}return i.createElement(m,{id:"users"},t("table-heading-users"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,locale:this.props.locale};return i.createElement("td",null,i.createElement(g,n))}return i.createElement(m,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleAddClick:function(e){var t=n(42).getUrl({roleId:"new"});return this.props.route.change(t)}}),b=o(function(e,t,n,i,a){return i=r.map(i,function(e){switch(e){case"title":return function(e){return n.pick(e.details.title)};default:return e}}),r.orderBy(e,i,a)}),y=o(function(e,t){return r.filter(e,function(e){return r.includes(e.role_ids,t.id)})})},function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=n(6),o=n(8),l=n(146),c=n(37),u=n(47);n(629),e.exports=i.createClass({displayName:"ActivityTooltip",mixins:[c],propTypes:{statistics:a.object,locale:a.instanceOf(s),theme:a.instanceOf(o)},render:function(){var e=this;if(null==this.props.statistics)return null;var t=this.props.locale.translate,n=t("activity-tooltip-$count",this.props.statistics.total);void 0===this.props.statistics.total&&(n="-");var a=[];return r.each(l,function(n,r){var s=e.props.statistics[n];if(s){var o=l.icons[n];a.push(i.createElement("div",{className:"item",key:r},i.createElement(o,{className:"icon"})," ",t("activity-tooltip-$count-"+n,s)))}}),i.createElement(u,{className:"activity",disabled:this.props.disabled},i.createElement("inline",null,n),i.createElement("window",null,a))}})},function(e,t,n){"use strict";function r(e){return e.children?i.createElement("div",{className:"input-error"},i.createElement("i",{className:"fa fa-exclamation-circle"})," ",e.children):null}var i=n(1);i.PropTypes,n(6);e.exports=r,n(636)},function(e,t,n){"use strict";function r(e){var t,r=["profile-image",e.size];if(e.user){var a=_.get(e.user,"details.resources"),s=_.find(a,{type:"image"});if(s){var l=o[e.size];t=e.theme.getImageUrl(s,{width:l,height:l})}}if(t)return i.createElement("img",{className:r.join(" "),src:t});var c=n(331);return i.createElement(c,{className:r.join(" ")})}var i=n(1),a=i.PropTypes,s=n(8);e.exports=r,n(641),r.propTypes={user:a.object,size:a.oneOf(["small","large"]),theme:a.instanceOf(s)},r.defaultProps={size:"small"};var o={small:24,large:96}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(2);t.match=function(e,t,n){var a=!0;for(var s in n){var o=n[s];if(t.hasOwnProperty(s)){var l=t[s];if(o instanceof Array){if(l instanceof Array){if(0===i.intersection(o,l).length){a=!1;break}}else if(!i.includes(o,l)){a=!1;break}}else if(l!==o){if("object"===(void 0===l?"undefined":r(l))&&"object"===(void 0===o?"undefined":r(o))){if(!i.isEqual(l,o))return!1}else a=!1;break}}else if("time_range"===s){if(o){var c=o.substr(1,o.length-2).split(","),u=c[0],p=c[1];u<=t.ptime&&t.ptime<p||(a=!1)}}else"exclude_ids"===s&&i.includes(o,t.id)&&(a=!1)}return a}},function(e,t,n){"use strict";function r(e,t){if(!(t instanceof Blob))return t}var i=n(2),a=n(15),s=n(108);t.fetch=function(e,t,n,o){var l=new XMLHttpRequest,c=new a(function(a,c){var u=i.get(o,"username",null),p=i.get(o,"password",null),d=i.get(o,"contentType",null);if("GET"===(e=i.toUpper(e))&&!i.isEmpty(n)){var h=[];i.forIn(n,function(e,t){t=encodeURIComponent(t),void 0!==(e=encodeURIComponent(e))&&h.push(t+"="+e)}),-1===i.indexOf(t,"?")?t+="?":t+="&",t+=i.join(h,"&"),n=null}"json"===d&&(d="application/json"),"application/json"===d&&i.isObject(n)&&(n=JSON.stringify(n,r)),l.timeout=i.get(o,"timeout"),l.withCredentials=i.get(o,"crossSite",!1),l.responseType=i.get(o,"responseType",""),l.open(e,t,!0,u,p),d&&l.setRequestHeader("Content-Type",d),l.send(n),l.onload=function(e){if(l.status>=400){var t=new s(l.status,l.response);c(t)}else{var n=l.response;a(n)}},l.ontimeout=function(e){c(new Error("Request timed out"))},l.onerror=function(e){c(new Error(e.message))},l.onabort=function(e){c(new Error("Transfer aborted"))};var m=i.get(o,"onDownloadProgress"),f=i.get(o,"onUploadProgress");l.onprogress=function(e){m&&m(e)},l.upload.onprogress=function(e){f&&f(e)}});return c.cancel=function(){l.abort()},c}},,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2),i=(n(0),n(1)),a=i.PropTypes,s=n(18),o=n(25),l=n(11),c=n(14),u=n(6),p=n(8),d=(n(40),n(17)),h=n(35),m=h.TH,f=(n(83),n(43));n(619),e.exports=s.createClass({displayName:"RobotListPage",propTypes:{database:a.instanceOf(l).isRequired,route:a.instanceOf(c).isRequired,locale:a.instanceOf(u).isRequired,theme:a.instanceOf(p).isRequired},statics:{parseUrl:function(e){return c.match("/projects/:projectId/robots/?",e)},getUrl:function(e){return"/projects/"+e.projectId+"/robots/"}},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r={project:null,robots:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(i.createElement(g,r),250),n.start().then(function(e){var r={id:parseInt(t.props.route.parameters.projectId)};return n.findOne({table:"project",criteria:r})}).then(function(e){r.project=e}).then(function(){var e=r.project.name,t={};return n.find({schema:e,table:"robot",criteria:t})}).then(function(e){return r.robots=e,i.createElement(g,r)})}});var g=e.exports.Sync=i.createClass({displayName:"RobotListPage.Sync",propTypes:{robots:a.arrayOf(a.object),project:a.object,database:a.instanceOf(l).isRequired,route:a.instanceOf(c).isRequired,locale:a.instanceOf(u).isRequired,theme:a.instanceOf(p).isRequired},getInitialState:function(){return{sortColumns:["name"],sortDirections:["asc"]}},getProjectId:function(){return parseInt(this.props.route.parameters.projectId)},render:function(){var e=this.props.locale.translate;return i.createElement("div",{className:"robot-list-page"},this.renderButtons(),i.createElement("h2",null,e("robot-list-title")),this.renderTable())},renderButtons:function(){var e=this.props.locale.translate;return i.createElement("div",{className:"buttons"},i.createElement(d,{className:"add",onClick:this.handleAddClick},e("robot-list-new")))},renderTable:function(){var e=(this.props.locale.translate,{sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort});return i.createElement(h,e,i.createElement("thead",null,this.renderHeadings()),i.createElement("tbody",null,this.renderRows()))},renderHeadings:function(){return i.createElement("tr",null,this.renderTitleColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e=v(this.props.robots,this.props.locale,this.state.sortColumns,this.state.sortDirections);return r.map(e,this.renderRow)},renderRow:function(e){return i.createElement("tr",{key:e.id},this.renderTitleColumn(e),this.renderModifiedTimeColumn(e))},renderTitleColumn:function(e){var t=this.props.locale.translate;if(e){var r=this.props.locale.pick,a=r(e.details.title)||e.name,s=n(64).getUrl({projectId:this.getProjectId(),robotId:e.id});return i.createElement("td",null,i.createElement("a",{href:s},a))}return i.createElement(m,{id:"title"},t("table-heading-title"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,locale:this.props.locale};return i.createElement("td",null,i.createElement(f,n))}return i.createElement(m,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleAddClick:function(e){var t=n(64).getUrl({projectId:this.getProjectId(),robotId:"new"});return this.props.route.change(t)}}),v=o(function(e,t,n,i){var a=(t.translate,t.pick);return n=r.map(n,function(e){switch(e){case"title":return function(e){return a(e.details.title)||e.name};default:return e}}),r.orderBy(e,n,i)})},function(e,t,n){"use strict";function r(e){switch(e){case"facebook":return"facebook-official";default:return e}}function i(e){var t=e.settings.oauth;return!!(t&&t.clientID&&t.clientSecret)}function a(e){var t=e.settings.api;return!(!t||!t.access_token)}var s=n(2),o=(n(0),n(1)),l=o.PropTypes,c=n(18),u=n(25),p=n(11),d=n(14),h=n(6),m=n(8),f=n(17),g=n(35),v=g.TH,b=n(105),y=n(43);n(623),e.exports=c.createClass({displayName:"ServerListPage",propTypes:{database:l.instanceOf(p).isRequired,route:l.instanceOf(d).isRequired,locale:l.instanceOf(h).isRequired,theme:l.instanceOf(m).isRequired},statics:{parseUrl:function(e){return d.match("/servers/?",e)},getUrl:function(e){return"/servers/"}},renderAsync:function(e){var t=this.props.database.use({schema:"global",by:this}),n={servers:null,users:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(o.createElement(E,n),250),t.start().then(function(e){var n={};return t.find({table:"server",criteria:n})}).then(function(t){n.servers=t,e.show(o.createElement(E,n))}).then(function(){var e={server_id:s.map(n.servers,"id")};return t.find({table:"user",criteria:e})}).then(function(e){return n.users=e,o.createElement(E,n)})}});var E=e.exports.Sync=o.createClass({displayName:"ServerListPage.Sync",propTypes:{servers:l.arrayOf(l.object),users:l.arrayOf(l.object),database:l.instanceOf(p).isRequired,route:l.instanceOf(d).isRequired,locale:l.instanceOf(h).isRequired,theme:l.instanceOf(m).isRequired},getInitialState:function(){return{sortColumns:["name"],sortDirections:["asc"]}},render:function(){var e=this.props.locale.translate;return o.createElement("div",{className:"server-list-page"},this.renderButtons(),o.createElement("h2",null,e("server-list-title")),this.renderTable())},renderButtons:function(){var e=this.props.locale.translate;return o.createElement("div",{className:"buttons"},o.createElement(f,{className:"add",onClick:this.handleAddClick},e("server-list-new")))},renderTable:function(){var e=(this.props.locale.translate,{className:"servers",sortColumns:this.state.sortColumns,sortDirections:this.state.sortDirections,onSort:this.handleSort});return o.createElement(g,e,o.createElement("thead",null,this.renderHeadings()),o.createElement("tbody",null,this.renderRows()))},renderHeadings:function(){return o.createElement("tr",null,this.renderTitleColumn(),this.renderTypeColumn(),this.renderOAuthColumn(),this.renderAPIColumn(),this.renderUsersColumn(),this.renderModifiedTimeColumn())},renderRows:function(){var e=C(this.props.servers,this.props.users,this.props.locale,this.state.sortColumns,this.state.sortDirections);return s.map(e,this.renderRow)},renderRow:function(e,t){return o.createElement("tr",{key:t},this.renderTitleColumn(e),this.renderTypeColumn(e),this.renderOAuthColumn(e),this.renderAPIColumn(e),this.renderUsersColumn(e),this.renderModifiedTimeColumn(e))},renderTitleColumn:function(e){var t=this.props.locale.translate;if(e){var i=this.props.locale.pick,a=i(e.details.title)||t("server-type-"+e.type),s=n(51).getUrl({serverId:e.id}),l=r(e.type);return o.createElement("td",null,o.createElement("a",{href:s},o.createElement("i",{className:"fa fa-"+l+" fa-fw"})," ",a))}return o.createElement(v,{id:"title"},t("table-heading-title"))},renderTypeColumn:function(e){var t=this.props.locale.translate;return e?o.createElement("td",null,t("server-type-"+e.type)):o.createElement(v,{id:"type"},t("table-heading-type"))},renderOAuthColumn:function(e){if(this.props.theme.isBelowMode("wide"))return null;var t=this.props.locale.translate;if(e){var n=i(e);return o.createElement("td",null,t("server-list-oauth-"+n))}return o.createElement(v,{id:"oauth"},t("table-heading-oauth"))},renderAPIColumn:function(e){if(this.props.theme.isBelowMode("wide"))return null;var t=this.props.locale.translate;if(e){var n=a(e);return o.createElement("td",null,t("server-list-api-access-"+n))}return o.createElement(v,{id:"api"},t("table-heading-api-access"))},renderUsersColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={users:w(this.props.users,e),locale:this.props.locale,theme:this.props.theme};return o.createElement("td",null,o.createElement(b,n))}return o.createElement(v,{id:"users"},t("table-heading-users"))},renderModifiedTimeColumn:function(e){if(this.props.theme.isBelowMode("standard"))return null;var t=this.props.locale.translate;if(e){var n={time:e.mtime,locale:this.props.locale};return o.createElement("td",null,o.createElement(y,n))}return o.createElement(v,{id:"mtime"},t("table-heading-last-modified"))},handleSort:function(e){this.setState({sortColumns:e.columns,sortDirections:e.directions})},handleAddClick:function(e){var t=n(51).getUrl({serverId:"new"});return this.props.route.change(t)}}),C=u(function(e,t,n,r,i){var a=n.translate,o=n.pick;return r=s.map(r,function(e){switch(e){case"title":return function(e){return o(e.details.title)||a("server-type-"+e.type)};case"type":return function(e){return a("server-type-"+e.type)};case"users":return function(e){return s.size(w(t,e))};default:return e}}),s.orderBy(e,r,i)}),w=u(function(e,t){return s.filter(e,{server_id:t.id})})},function(e,t,n){"use strict";function r(e,t){return s.createElement("option",i({key:t},e))}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),s=n(1),o=s.PropTypes,l=n(18),c=n(11),u=n(14),p=n(6),d=n(8),h=n(52),m=n(17),f=n(44),g=n(36),v=n(45),b=n(46),y=n(107),E=n(28);n(625),e.exports=l.createClass({displayName:"SettingsPage",propTypes:{database:o.instanceOf(c).isRequired,route:o.instanceOf(u).isRequired,locale:o.instanceOf(p).isRequired,theme:o.instanceOf(d).isRequired,payloads:o.instanceOf(h).isRequired},statics:{parseUrl:function(e){return u.match("/settings/?",e)},getUrl:function(e){var t="/settings/";return e&&e.edit&&(t+="?edit=1"),t}},renderAsync:function(e){var t=this.props.database.use({schema:"global",by:this}),n={system:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads};return e.show(s.createElement(C,n),250),t.start().then(function(e){var n={};return t.findOne({table:"system",criteria:n})}).then(function(e){return n.system=e,s.createElement(C,n)})}});var C=e.exports.Sync=s.createClass({displayName:"SettingsPage.Sync",propTypes:{system:o.object,database:o.instanceOf(c).isRequired,route:o.instanceOf(u).isRequired,locale:o.instanceOf(p).isRequired,theme:o.instanceOf(d).isRequired,payloads:o.instanceOf(h).isRequired},getInitialState:function(){return{newSystem:null,saving:!1}},getSystem:function(){return this.isEditing()?this.state.newSystem||this.props.system||w:this.props.system||w},setSystemProperty:function(e,t){var n=this.getSystem(),r=a.decoupleSet(n,e,t),i=!0;a.isEqual(r,this.props.system)&&(r=null,i=!1),this.setState({newSystem:r,hasChanges:i})},isEditing:function(e){return e=e||this.props,!!parseInt(e.route.query.edit)},setEditability:function(e){var t=n(104).getUrl({edit:e});return this.props.route.change(t,!0)},componentWillReceiveProps:function(e){this.isEditing()!==this.isEditing(e)&&this.isEditing(e)&&this.setState({newSystem:null,hasChanges:!1})},render:function(){var e=this.props.locale.translate;return s.createElement("div",{className:"settings-page"},this.renderButtons(),s.createElement("h2",null,e("settings-title")),this.renderForm(),this.renderInstructions())},renderButtons:function(){var e=this.props.locale.translate;return this.isEditing()?s.createElement("div",{key:"edit",className:"buttons"},s.createElement(m,{className:"cancel",onClick:this.handleCancelClick},e("settings-cancel"))," ",s.createElement(m,{className:"save",disabled:!this.state.hasChanges,onClick:this.handleSaveClick},e("settings-save")),s.createElement(E,{changes:this.state.hasChanges,locale:this.props.locale,theme:this.props.theme,route:this.props.route})):s.createElement("div",{key:"view",className:"buttons"},s.createElement(m,{className:"edit",onClick:this.handleEditClick},e("settings-edit")))},renderForm:function(){var e=this.props.locale.translate,t=!this.isEditing(),n=this.props.system,i=this.getSystem(),o=a.get(n,"settings.input_languages"),l=a.get(i,"settings.input_languages"),c={id:"title",value:i.details.title,availableLanguageCodes:l,locale:this.props.locale,onChange:this.handleTitleChange,readOnly:t},u={id:"name",value:i.domain_name,locale:this.props.locale,onChange:this.handleDomainNameChange,readOnly:t},p={id:"description",value:i.details.description,availableLanguageCodes:l,type:"textarea",locale:this.props.locale,onChange:this.handleDescriptionChange,readOnly:t},d={purpose:"background",resources:i.details.resources,database:this.props.database,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads,onChange:this.handleBackgroundImageChange,readOnly:t},h={onOptionClick:this.handleLanguageOptionClick,readOnly:t},m=this.props.locale.directory,f=a.map(m,function(e){var t,n=a.indexOf(l,e.code);return-1!==n&&(t=s.createElement("span",{className:"pos"},n+1)),{name:e.code,selected:a.includes(l,e.code),previous:a.includes(o,e.code),children:s.createElement("span",null,e.name," ",t)}});return s.createElement("div",{className:"form"},s.createElement(v,c,e("settings-site-title")),s.createElement(g,u,e("settings-site-domain-name")),s.createElement(v,p,e("settings-site-description")),s.createElement(y,d,e("settings-background-image")),s.createElement(b,h,s.createElement("label",null,e("settings-input-languages")),a.map(f,r)))},renderInstructions:function(){var e={topic:"settings",hidden:!this.isEditing(),locale:this.props.locale};return s.createElement("div",{className:"instructions"},s.createElement(f,e))},handleEditClick:function(e){return this.setEditability(!0)},handleCancelClick:function(e){return this.setEditability(!1)},handleSaveClick:function(e){var t=this;this.state.saving||this.setState({saving:!0},function(){var e=t.props.database.use({schema:"global",by:t}),n=t.getSystem(),r=t.props.payloads;return r.prepare(n).then(function(){return e.start().then(function(i){return e.saveOne({table:"system"},n).then(function(e){return r.reattach(e),r.dispatch(e).then(function(){return t.setState({hasChanges:!1,saving:!1},function(){t.setEditability(!1)}),null})})})}).catch(function(e){console.error(e),t.setState({saving:!1})})})},handleTitleChange:function(e){this.setSystemProperty("details.title",e.target.value)},handleDomainNameChange:function(e){this.setSystemProperty("domain_name",e.target.value)},handleDescriptionChange:function(e){this.setSystemProperty("details.description",e.target.value)},handleBackgroundImageChange:function(e){this.setSystemProperty("details.resources",e.target.value)},handleLanguageOptionClick:function(e){var t=this.getSystem(),n=a.slice(t.settings.input_languages),r=e.name;a.includes(n,r)?a.pull(n,r):n.push(r),this.setSystemProperty("settings.input_languages",n)}}),w={details:{},settings:{}}},function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=n(6),o=n(8),l=n(37),c=n(47),u=n(85);n(633),e.exports=i.createClass({displayName:"UserTooltip",mixins:[l],propTypes:{users:a.arrayOf(a.object),project:a.object,locale:a.instanceOf(s).isRequired,theme:a.instanceOf(o).isRequired,disabled:a.bool},render:function(){var e=this;if(null==this.props.users)return null;var t,a=this.props.locale.translate,s=a("user-tooltip-$count",this.props.users.length),o=this.props.users;o.length>10&&(o=r.slice(o,0,10),t=i.createElement("div",{className:"ellipsis"},i.createElement("i",{className:"fa fa-ellipsis-v"})));var l,p=r.map(o,function(t,r){var a;return a=e.props.project?n(24).getUrl({projectId:e.props.project.id,userId:t.id}):n(24).getUrl({userId:t.id}),i.createElement("div",{className:"item",key:r},i.createElement("a",{href:a},i.createElement(u,{user:t,theme:e.props.theme})," ",t.details.name))});return l=this.props.project?n(62).getUrl({projectId:this.props.project.id}):n(65).getUrl({}),i.createElement(c,{className:"user",disabled:0===p.length},i.createElement("inline",null,s),i.createElement("window",null,p,t,i.createElement("div",{className:"bottom"},i.createElement("a",{href:l},a("tooltip-more")))))}})},function(e,t,n){"use strict";function r(e){return parseInt(e.substr(8))}function i(e){return s.createElement("div",{className:"item"},s.createElement("svg",{className:"ct-chart-bar",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},s.createElement("g",{className:"ct-series ct-series-"+e.series},s.createElement("line",{className:"ct-bar",x1:0,y1:5,x2:10,y2:5}))),s.createElement("span",{className:"label"},e.label))}var a=n(2),s=(n(498),n(1)),o=s.PropTypes,l=n(367),c=n(0),u=n(365),p=n(25),d=n(6),h=n(8),m=n(146);n(634),e.exports=s.createClass({displayName:"ActivityChart",propTypes:{statistics:o.object,locale:o.instanceOf(d),theme:o.instanceOf(h)},render:function(){return s.createElement("div",{className:"activity-chart"},s.createElement("h2",null,this.props.children),this.renderLegend(),this.renderChart())},renderChart:function(){if(!this.props.statistics)return s.createElement("div",{className:"scroll-container"},s.createElement("div",{className:"contents no-data"}));var e=c(u.today),t=c(this.props.statistics.range.start),n=c(this.props.statistics.range.end),i=e.clone().endOf("month"),a=t.clone().startOf("month"),o=n.clone().endOf("month");i.diff(o,"month")<=1?o=i:o.add(1,"month");var p=f(a,e),d=g(this.props.statistics.daily,p),h=v(d,!0),m=f(a,o),b={type:"bar",data:{labels:m,series:d},options:{fullWidth:!0,height:200,chartPadding:{left:-25,right:30},stackBars:!0,high:h,low:0,axisX:{labelInterpolationFnc:function(e){var t=r(e);return 1===t?e:t>10&&e==u.today?"Today":""}}},onDraw:this.handleDraw},y=Math.round(.75*m.length)+"em";return s.createElement("div",{className:"scroll-container"},s.createElement("div",{className:"contents",style:{width:y}},s.createElement(l,b)))},renderLegend:function(){if(!this.props.statistics)return null;var e=this.props.locale.translate,t=this.props.statistics.to_date,n={};a.each(m,function(e,r){t[e]>0&&(n[e]=r)});var r=a.map(n,function(t,n){var r={series:String.fromCharCode("a".charCodeAt(0)+t),label:e("activity-chart-legend-"+n),key:t};return s.createElement(i,r)});return a.isEmpty(r)&&(r=""),s.createElement("div",{className:"legend"},r)},handleDraw:function(e){if("label"===e.type&&"y"===e.axis.units.pos&&e.element.attr({x:e.axis.chartRect.width()+20}),"grid"===e.type&&"x"===e.axis.units.pos){var t=e.axis.ticks[e.index];1===r(t)?e.element.addClass("month-start"):t===u.today&&e.element.addClass("today")}}});var f=p(function(e,t){for(var n=[],r=e.clone();r<=t;r.add(1,"day"))n.push(r.format("YYYY-MM-DD"));return n}),g=(p(function(e,t){for(var n=[],r=e.clone();r<=t;r.add(1,"month")){n.push(r.format("ll"));for(var i=r.daysInMonth(),a=1;a<i;a++)n.push(null)}return n}),p(function(e,t){return a.map(m,function(n){var r=!0,i=a.map(t,function(t){var i=a.get(e,[t,n],0);return i&&(r=!1),i});return r?[]:i})})),v=p(function(e,t){var n=0;if(t){var r=[];a.each(e,function(e){a.each(e,function(e,t){r[t]=r[t]?r[t]+e:e})}),a.isEmpty(r)||(n=a.max(r))}else a.each(e,function(e){var t=a.max(e);t>n&&(n=t)});return n<=20?20:n<=50?50:100*Math.ceil(n/100)})},function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=n(147),o=n(109),l=n(11),c=n(6),u=n(8),p=n(52),d=n(344),h=n(343);n(635),e.exports=i.createClass({displayName:"ImageSelector",propTypes:{purpose:a.string,desiredWidth:a.number,desiredHeight:a.number,resources:a.arrayOf(a.object),readOnly:a.bool,database:a.instanceOf(l).isRequired,locale:a.instanceOf(c).isRequired,theme:a.instanceOf(u).isRequired,payloads:a.instanceOf(p).isRequired,onChange:a.func},getDefaultProps:function(){return{resources:[],readOnly:!1}},getInitialState:function(){return{showingCroppingDialogBox:!1,renderingCroppingDialogBox:!1,showingAlbumDialogBox:!1,renderingAlbumDialogBox:!1}},getImage:function(){return r.find(this.props.resources,{type:"image"})},setImage:function(e){if(this.props.desiredWidth&&this.props.desiredHeight&&!e.clip){var t=this.props.desiredWidth/this.props.desiredHeight,n=e.width,i=Math.round(n/t),a=0,s=Math.round((e.height-i)/2);s<0&&(i=e.height,n=Math.round(i*t),a=Math.round((e.width-n)/2),s=0),e=r.clone(e),e.clip={left:a,top:s,width:n,height:i}}var o=r.slice(this.props.resources),l=r.findIndex(o,{type:"image"});-1!==l?e?o[l]=e:o.splice(l,1):o.push(e),this.props.onChange&&(this.value=o,this.props.onChange({type:"change",target:this}))},render:function(){var e=["image-selector"];return this.props.readOnly&&e.push("readonly"),i.createElement("div",{className:e.join(" ")},i.createElement("label",null,this.props.children),i.createElement("div",{className:"contents"},this.renderImage(),this.renderOptions()),this.renderDialogBox())},renderImage:function(){var e=160,t=this.getImage();if(!t)return this.props.desiredWidth&&this.props.desiredHeight&&(e=Math.round(120*this.props.desiredWidth/this.props.desiredHeight)),i.createElement("div",{className:"image"},i.createElement("div",{className:"placeholder",style:{width:e,height:120}},i.createElement("i",{className:"fa fa-photo"})));var n=t.width,r=t.height;t.clip&&(n=t.clip.width,r=t.clip.height),e=Math.round(120*n/r);var a=t.clip;if(this.props.desiredWidth&&this.props.desiredHeight||(a=null),t.url){var s=this.props.theme.getImageUrl(t,{width:e,height:120,noClipping:!a}),l=this.props.theme.getImageUrl(t,{noClipping:!a});return i.createElement("div",{className:"image"},i.createElement("a",{href:l,target:"_blank"},i.createElement("img",{src:s,style:{width:e,height:120}})))}if(t.file){var s=URL.createObjectURL(t.file);return i.createElement("div",{className:"image"},i.createElement(o,{url:s,clippingRect:a,style:{width:e,height:120}}))}},renderOptions:function(){return i.createElement("div",{className:"options"},this.renderChooseOption(),this.renderUploadOption(),this.renderResizeOption())},renderResizeOption:function(){if(!this.props.desiredWidth||!this.props.desiredHeight)return null;var e=this.props.locale.translate,t={className:"option",onClick:this.handleCropClick};return this.getImage()||(t.className+=" disabled"),i.createElement("div",t,i.createElement("i",{className:"fa fa-crop"})," ",e("image-selector-crop-image"))},renderChooseOption:function(){if(!this.props.purpose)return null;var e=this.props.locale.translate;return i.createElement("div",{className:"option",onClick:this.handleChooseClick},i.createElement("i",{className:"fa fa-th"})," ",e("image-selector-choose-from-album"))},renderUploadOption:function(){var e={type:"file",value:"",accept:"image/*",onChange:this.handleUploadChange},t=this.props.locale.translate;return i.createElement("label",{className:"option"},i.createElement("i",{className:"fa fa-upload"})," ",t("image-selector-upload-file"),i.createElement("input",e))},renderDialogBox:function(){var e=this.getImage();if(this.state.renderingAlbumDialogBox){var t={show:this.state.showingAlbumDialogBox,purpose:this.props.purpose,image:e,database:this.props.database,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads,onSelect:this.handleImageSelect,onCancel:this.handleDialogCancel};return i.createElement(h,t)}if(this.state.renderingCroppingDialogBox){var t={show:this.state.showingCroppingDialogBox,image:e,desiredWidth:this.props.desiredWidth,desiredHeight:this.props.desiredHeight,locale:this.props.locale,theme:this.props.theme,onSelect:this.handleImageSectionSelect,onCancel:this.handleDialogCancel};return i.createElement(d,t)}return null},handleChooseClick:function(e){this.setState({showingAlbumDialogBox:!0,renderingAlbumDialogBox:!0})},handleCropClick:function(e){this.setState({showingCroppingDialogBox:!0,renderingCroppingDialogBox:!0})},handleImageSelect:function(e){var t=r.clone(e.image);t.type="image",this.setImage(t),this.handleDialogCancel()},handleImageSectionSelect:function(e){var t=r.clone(this.getImage());t.clip=e.clippingRect,this.setImage(t),this.handleDialogCancel()},handleUploadChange:function(e){var t=this,n=e.target.files[0];if(n){var i=URL.createObjectURL(n);return s.loadImage(i).then(function(e){var i={format:r.last(r.split(n.type,"/")),width:e.naturalWidth,height:e.naturalHeight,type:"image",file:n};return t.setImage(i)}).finally(function(){URL.revokeObjectURL(i)})}},handleDialogCancel:function(e){var t=this;this.state.showingAlbumDialogBox&&(this.setState({showingAlbumDialogBox:!1}),setTimeout(function(){t.state.showingAlbumDialogBox||t.setState({renderingAlbumDialogBox:!1})},500)),this.state.showingCroppingDialogBox&&(this.setState({showingCroppingDialogBox:!1}),setTimeout(function(){t.state.showingCroppingDialogBox||t.setState({renderingCroppingDialogBox:!1})},500))}})},function(e,t,n){"use strict";function r(e,t){var n;switch(e||(e=500),e){case 400:n="Bad Request";break;case 401:n="Unauthorized";break;case 403:n="Forbidden";break;case 404:n="Not Found";break;case 409:n="Conflict";break;case 410:n="Gone";break;case 415:n="Unsupported Media Type";break;case 500:n="Internal Server Error";break;case 501:n="Not Implemented";break;case 502:n="Bad Gateway";break;case 503:n="Service Unavailable";break;case 504:n="Gateway Timeout"}this.statusCode=e,this.message=n,this.body=t}e.exports=r,r.prototype=Object.create(Error.prototype)},function(e,t,n){"use strict";function r(e){return new u(function(t,n){var r=document.createElement("IMG");r.src=e,r.onload=function(e){t(r)},r.onerror=function(t){n(new Error("Unable to load "+e))}})}function i(e){var t={responseType:"arraybuffer"};return h.fetch("GET",e,null,t).then(function(e){return new Uint8Array(e)})}function a(e){var t=l(e,6),n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],c=n*a-r*i;return[a/c,-r/c,-i/c,n/c,(i*o-a*s)/c,-(n*o-r*s)/c]}function s(e,t){var n=l(e,6),r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],c=n[5],u=l(t,2),p=u[0],d=u[1];return[r*p+a*d+o,i*p+s*d+c]}function o(e,t){var n=[t.left,t.top],r=[t.left+t.width,t.top+t.height];return n=s(e,n),r=s(e,r),{width:Math.abs(r[0]-n[0]),height:Math.abs(r[1]-n[1]),left:Math.min(r[0],n[0]),top:Math.min(r[1],n[1])}}var l=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(15),p=n(1),d=p.PropTypes,h=n(87),m=n(359),f=n(30);e.exports=p.createClass({displayName:"ImageView",propTypes:{url:d.string,clippingRect:d.object,onLoad:d.func},getInitialState:function(){return this.components=f({canvas:HTMLCanvasElement}),{}},componentWillMount:function(){this.load(this.props.url)},componentWillReceiveProps:function(e){this.props.url!==e.url&&this.load(e.url),this.clippingRect!==e.clippingRect&&this.image&&this.drawImage(e.clippingRect)},render:function(){var e=this.components.setters,t=_.omit(this.props,"onLoad","url","clippingRect");return p.createElement("canvas",c({ref:e.canvas},t))},componentDidMount:function(){this.image&&this.redrawNeeded&&this.drawImage(this.props.clippingRect)},triggerLoadEvent:function(){this.props.onLoad&&this.props.onLoad({type:"load",target:this})},load:function(e){var t=this;return e?u.join(r(e),i(e),function(e,n){var r=m.getOrientation(n)||1;t.image=e,t.orientation=r,r<5?(t.naturalWidth=e.naturalWidth,t.naturalHeight=e.naturalHeight):(t.naturalWidth=e.naturalHeight,t.naturalHeight=e.naturalWidth);var i=t.props.clippingRect;i||(i={left:0,top:0,width:t.naturalWidth,height:t.naturalHeight}),t.width=i.width,t.height=i.height,t.drawImage(i),t.triggerLoadEvent()}):(this.clearCanvas(),u.resolve())},drawImage:function(e){var t=this.image;if(t){var n=this.components.canvas;if(!n)return void(this.redrawNeeded=!0);var r,i=this.orientation,s=t.naturalWidth,l=t.naturalHeight;switch(i){case 1:r=[1,0,0,1,0,0];break;case 2:r=[-1,0,0,1,s,0];break;case 3:r=[-1,0,0,-1,s,l];break;case 4:r=[1,0,0,-1,0,l];break;case 5:r=[0,1,1,0,0,0];break;case 6:r=[0,1,-1,0,l,0];break;case 7:r=[0,-1,-1,0,l,s];break;case 8:r=[0,-1,1,0,0,s]}e||(e={left:0,top:0,width:i<5?s:l,height:i<5?l:s});var c=a(r),u=o(c,e),p=o(c,{left:0,top:0,width:e.width,height:e.height});n.width=p.width,n.height=p.height;var d=n.getContext("2d");d.transform.apply(d,r),d.drawImage(t,u.left,u.top,u.width,u.height,p.left,p.top,p.width,p.height)}},clearCanvas:function(){var e=this.components.canvas;e&&(e.width=0,e.height=0),this.width=0,this.height=0,this.orientation=void 0}})},function(e,t,n){"use strict";function r(e){var t=["overlay",e.show?"show":"hide"];return e.className&&t.push(e.className),i.createElement("div",{className:t.join(" "),onClick:e.onClick},i.createElement("div",{className:"background"}),i.createElement("div",{className:"foreground"},e.children))}var i=n(1),a=i.PropTypes,s=n(79);n(651),e.exports=i.createClass({displayName:"exports",display:"OverlayProxy",propTypes:{className:a.string,show:a.bool,onBackgroundClick:a.func},getDefaultProps:function(){return{show:!1}},componentWillMount:function(){this.props.show&&this.show()},render:function(){return null},componentDidUpdate:function(e){e.show!==this.props.show?this.props.show?this.show():this.hide():e.children!==this.props.children&&this.props.show&&this.redraw()},componentWillUnmount:function(){this.hide()},show:function(){var e=this;this.containerNode?this.containerRemovalTimeout&&(clearTimeout(this.containerRemovalTimeout),this.containerRemovalTimeout=0):(this.containerNode=document.createElement("DIV"),document.body.appendChild(this.containerNode));var t={show:!1,onClick:this.handleClick,children:this.props.children};s.render(i.createElement(r,t),this.containerNode),setTimeout(function(){t.show=!0,s.render(i.createElement(r,t),e.containerNode)},10)},redraw:function(){var e={show:!0,onClick:this.handleClick,children:this.props.children};s.render(i.createElement(r,e),this.containerNode)},hide:function(){var e=this;if(this.containerNode){this.containerRemovalTimeout||(this.containerRemovalTimeout=setTimeout(function(){s.unmountComponentAtNode(e.containerNode),document.body.removeChild(e.containerNode),e.containerNode=null,e.containerRemovalTimeout=0},1e3));var t={show:!1,children:this.props.children};s.render(i.createElement(r,t),this.containerNode)}},handleClick:function(e){var t=e.target.className;"foreground"!==t&&"background"!==t||this.props.onBackgroundClick&&this.props.onBackgroundClick(e)}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=n(6),o=n(8),l=n(37),c=n(47);n(632),e.exports=i.createClass({displayName:"RoleTooltip",mixins:[l],propTypes:{roles:a.arrayOf(a.object),disabled:a.bool,locale:a.instanceOf(s).isRequired,theme:a.instanceOf(o).isRequired},render:function(){if(null==this.props.roles)return null;var e=this.props.locale.translate,t=this.props.locale.pick,a=this.props.roles,s="-";if(a.length>0){var o,l=a[0];this.props.disabled||(o=n(42).getUrl({roleId:l.id}));var u=t(l.details.title)||l.name,s=i.createElement("a",{href:o,key:0},u);a=r.slice(a,1)}var p;if(a.length>0){var d,h=e("role-tooltip-$count-others",a.length);a.length>10&&(a=r.slice(a,0,10),d=i.createElement("div",{className:"ellipsis"},i.createElement("i",{className:"fa fa-ellipsis-v"})));var m=r.map(a,function(e,r){var a=n(42).getUrl({roleId:e.id}),s=t(e.details.title)||e.name;return i.createElement("div",{className:"item",key:r},i.createElement("a",{href:a},s))}),f=n(82).getUrl();p=e("tooltip-$first-and-$tooltip",s,i.createElement(c,{className:"role",disabled:this.props.disabled||0===m.length,key:1},i.createElement("inline",null,h),i.createElement("window",null,m,d,i.createElement("div",{className:"bottom"},i.createElement("a",{href:f},e("tooltip-more"))))))}else p=s;return i.createElement("span",null,p)}})},function(e,t,n){"use strict";e.exports=t=["push","merge","issue","milestone","wiki","member","repo","story","survey","task-list"],t.icons={push:n(660),merge:n(653),issue:n(330),"issue.opened":n(330),"issue.closed":n(654),"issue.reopened":n(655),milestone:n(658),wiki:n(652),member:n(331),repo:n(332),story:n(659),survey:n(657),"task-list":n(656)},t.editable=["story","task-list","survey"],t.trackable=["story"],t.git=["push","merge","issue","milestone","wiki","member","repo"]},function(e,t,n){"use strict";function r(e){return new s(function(t,n){var r=document.createElement("IMG");r.src=e,r.onload=function(e){t(r)},r.onerror=function(t){n(new Error("Unable to load "+e))}})}function i(e){return new s(function(t,n){var r=document.createElement("VIDEO");r.src=e,r.preload=!0,r.onloadeddata=function(e){t(r)},r.onerror=function(t){n(new Error("Unable to load "+e))}})}function a(e){return new s(function(t,n){var r=document.createElement("AUDIO");r.src=e,r.preload=!0,r.onloadeddata=function(e){t(video)},r.onerror=function(t){n(new Error("Unable to load "+e))}})}var s=n(15);t.loadImage=r,t.loadVideo=i,t.loadAudio=a},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),a=(i.PropTypes,n(30));n(649),e.exports=i.createClass({displayName:"AutosizeTextArea",getInitialState:function(){return this.components=a({actual:HTMLTextAreaElement,shadow:HTMLTextAreaElement}),{requiredHeight:void 0}},render:function(){var e=this.components.setters,t=_.extend({height:this.state.requiredHeight},this.props.style),n=_.omit(this.props,"style");return i.createElement("div",{className:"autosize-text-area"},i.createElement("textarea",{ref:e.shadow,style:t,className:"shadow",value:n.value,readOnly:!0}),i.createElement("textarea",r({ref:e.actual,style:t},n)))},componentDidMount:function(){window.removeEventListener("resize",this.handleDocumentResize),this.updateSize()},componentDidUpdate:function(e,t){e.value!==this.props.value&&this.updateSize()},componentWillUnmount:function(){window.removeEventListener("resize",this.handleDocumentResize)},focus:function(){var e=this.components.actual;e&&e.focus()},updateSize:function(){var e=this.components.shadow,t=this.components.actual;if(e&&t){var n=e.offsetHeight,r=e.scrollHeight,i=e.clientHeight,a=t.offsetHeight,s=r+(n-i);if(this.state.height!==s){if(a>s&&a>this.state.requiredHeight)return;this.setState({requiredHeight:s})}}},handleResize:function(e){console.log("resize")},handleDocumentResize:function(e){this.updateSize()}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="Instruction for project summary page.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio.\nPraesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at\nnibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec\ntellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget\nnulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra,\nper inceptos himenaeos.\n"},function(e,t){e.exports="Instruction for repo summary page.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio.\nPraesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at\nnibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec\ntellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget\nnulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra,\nper inceptos himenaeos.\n"},function(e,t){e.exports="Instruction for robot summary page.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio.\nPraesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at\nnibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec\ntellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget\nnulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra,\nper inceptos himenaeos.\n"},function(e,t){e.exports="Instruction for role summary page.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio.\nPraesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at\nnibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec\ntellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget\nnulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra,\nper inceptos himenaeos.\n"},function(e,t){e.exports="Instruction for server summary page.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio.\nPraesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at\nnibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec\ntellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget\nnulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra,\nper inceptos himenaeos.\n"},function(e,t){e.exports="Instruction for settings page.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio.\nPraesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at\nnibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec\ntellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget\nnulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra,\nper inceptos himenaeos.\n"},function(e,t){e.exports="Instruction for user summary page.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio.\nPraesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at\nnibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec\ntellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget\nnulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra,\nper inceptos himenaeos.\n"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2),i=n(15),a=n(1),s=(a.PropTypes,n(30)),o=n(108),l=n(354),c=n(11),u=n(360),p=n(14),d=n(363),h=n(52),m=n(356),f=n(6),g=n(361),v=n(8),b=n(80),y=n(41),E=n(62),C=n(82),w=n(42),k=n(81),x=n(63),R=n(102),S=n(64),N=n(103),O=n(51),j=n(104),I=n(65),_=n(24),T=n(346),P=n(350),q=[b,y,E,C,w,k,x,R,S,N,O,j,I,_];n(316),n(366),n(610),n(472),e.exports=a.createClass({displayName:"Application",getInitialState:function(){return this.components=s({remoteDataSource:l,routeManager:u,localeManager:m,themeManager:g,payloadManager:d}),{database:null,payloads:null,route:null,locale:null,theme:null,canAccessServer:!1}},isReady:function(){return!!(this.state.database&&this.state.payloads&&this.state.route&&this.state.locale&&this.state.theme)},render:function(){return a.createElement("div",{onClick:this.handleClick},this.renderUserInterface(),this.renderConfiguration())},renderUserInterface:function(){if(!this.isReady())return null;var e={database:this.state.database,route:this.state.route,locale:this.state.locale,theme:this.state.theme,disabled:!this.state.canAccessServer};return a.createElement("div",{className:"application"},a.createElement(P,e),a.createElement("section",{className:"page-view-port"},this.renderCurrentPage()))},renderCurrentPage:function(){var e=this.state.route.component,t={database:this.state.database,route:this.state.route,payloads:this.state.payloads,locale:this.state.locale,theme:this.state.theme};return this.state.canAccessServer||(e=T),a.createElement(e,t)},renderConfiguration:function(){var e=this.components.setters,t={ref:e.remoteDataSource,locale:this.state.locale,cacheName:"trambar-admin",urlPrefix:"/admin",retrievalFlags:{include_ctime:!0,include_mtime:!0},onChange:this.handleDatabaseChange,onAuthorization:this.handleAuthorization,onExpiration:this.handleExpiration},r={ref:e.payloadManager,database:this.state.database,route:this.state.route,onChange:this.handlePayloadsChange},i={ref:e.routeManager,pages:q,database:this.state.database,onChange:this.handleRouteChange,onRedirectionRequest:this.handleRedirectionRequest},s={ref:e.localeManager,database:this.state.database,directory:n(357),onChange:this.handleLocaleChange,onModuleRequest:this.handleLanguageModuleRequest},o={ref:e.themeManager,database:this.state.database,modes:{"ultra-narrow":0,narrow:700,standard:1e3,wide:1400,"ultra-wide":1700},route:this.state.route,onChange:this.handleThemeChange};return a.createElement("div",null,a.createElement(l,t),a.createElement(d,r),a.createElement(u,i),a.createElement(m,s),a.createElement(g,o))},componentDidUpdate:function(){var e=this;!this.splashScreenHidden&&this.isReady()&&(this.splashScreenHidden=!0,setTimeout(function(){e.hideSplashScreen()},100))},loadCredentialsFromCache:function(e){var t=this.state.database.use({by:this,schema:"local"}),n={server:e};return t.findOne({table:"user_credentials",criteria:n})},saveCredentialsToCache:function(e,t){var n=this.state.database.use({by:this,schema:"local"}),i=r.extend({key:e},t);return n.saveOne({table:"user_credentials"},i)},removeCredentialsFromCache:function(e){var t=this.state.database.use({by:this,schema:"local"}),n={key:e};return t.removeOne({table:"user_credentials"},n)},handleDatabaseChange:function(e){var t=new c(e.target);this.setState({database:t})},handleAuthorization:function(e){this.saveCredentialsToCache(e.server,e.credentials);var t=window.location.hostname;e.server===t&&this.setState({canAccessServer:!0})},handleExpiration:function(e){this.removeCredentialsFromCache(e.server);var t=window.location.hostname;e.server===t&&this.setState({canAccessServer:!1})},handlePayloadsChange:function(e){var t=new h(e.target);this.setState({payloads:t})},handleLocaleChange:function(e){var t=new f(e.target);this.setState({locale:t}),document.title=t.translate("app-title")},handleLanguageModuleRequest:function(e){var t=e.languageCode.substr(0,2);return new i(function(e,r){window.Promise||n(15);switch(t){case"en":n.e(5).then(function(){try{e(n(335))}catch(e){r(e)}}.bind(null,n)).catch(n.oe);break;case"fi":n.e(4).then(function(){try{e(n(336))}catch(e){r(e)}}.bind(null,n)).catch(n.oe);break;case"no":n.e(3).then(function(){try{e(n(337))}catch(e){r(e)}}.bind(null,n)).catch(n.oe);break;case"pl":n.e(2).then(function(){try{e(n(338))}catch(e){r(e)}}.bind(null,n)).catch(n.oe);break;case"ru":n.e(1).then(function(){try{e(n(339))}catch(e){r(e)}}.bind(null,n)).catch(n.oe);break;case"zh":n.e(0).then(function(){try{e(n(340))}catch(e){r(e)}}.bind(null,n)).catch(n.oe);break;default:r(new Error("No module for language: "+t))}})},handleRouteChange:function(e){var t=this,n=new p(e.target),r=this.components.remoteDataSource,i=n.parameters.server||location.hostname;r.hasAuthorization(i)?this.setState({route:n,canAccessServer:!0}):this.loadCredentialsFromCache(i).then(function(e){e&&r.addAuthorization(i,e),r.hasAuthorization(i)?t.setState({route:n,canAccessServer:!0}):t.setState({route:n,canAccessServer:!1})})},handleRedirectionRequest:function(e){return i.try(function(){if("/"===e.url)return b.getUrl({});throw new o(404)}).catch(function(e){var t=e.statusCode||500;return console.error(e),ErrorPage.getUrl({errorCode:t})})},handleClick:function(e){for(var t=e.target;t&&"A"!==t.tagName;)t=t.parentNode;if(t){var n=t.getAttribute("href");n&&-1===n.indexOf(":")&&(this.state.route.change(n),e.preventDefault())}},handleThemeChange:function(e){var t=new v(e.target);this.setState({theme:t})},hideSplashScreen:function(){var e=document.getElementById("splash-screen"),t=document.getElementById("splash-screen-style");e&&(e.className="transition-out",setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e),t&&t.parentNode&&t.parentNode.removeChild(t)},1e3))}})},,,,,,,,function(e,t,n){"use strict";var r=(n(2),n(1)),i=r.PropTypes,a=n(6),s=n(8),o=n(110),l=n(17);n(611),e.exports=r.createClass({displayName:"ConfirmationDialogBox",propTypes:{show:i.bool,dangerous:i.bool,locale:i.instanceOf(a).isRequired,theme:i.instanceOf(s).isRequired,onConfirm:i.func,onCancel:i.func},getDefaultProps:function(){return{show:!0,dangerous:!0}},render:function(){var e=this.props.locale.translate,t={show:this.props.show,onBackgroundClick:this.handleCancelClick},n={className:"cancel",onClick:this.handleCancelClick},i={className:this.props.dangerous?"confirm-danger":"confirm",onClick:this.handleConfirmClick};return r.createElement(o,t,r.createElement("div",{className:"confirmation-dialog-box"},r.createElement("div",{className:"message"},this.props.children),r.createElement("div",{className:"buttons"},r.createElement(l,n,e("confirmation-cancel"))," ",r.createElement(l,i,e("confirmation-confirm")))))},handleCancelClick:function(e){this.props.onCancel&&this.props.onCancel({type:"cancel",target:this})},handleConfirmClick:function(e){this.props.onConfirm&&this.props.onConfirm({type:"confirm",target:this})}})},function(e,t,n){"use strict";var r=n(2),i=n(15),a=n(1),s=a.PropTypes,o=n(18),l=n(25),c=n(147),u=n(109),p=n(11),d=n(6),h=n(8),m=n(52),f=n(110),g=n(17);n(612),e.exports=o.createClass({displayName:"ImageAlbumDialogBox",propTypes:{show:s.bool,purpose:s.string.isRequired,image:s.object,database:s.instanceOf(p).isRequired,locale:s.instanceOf(d).isRequired,theme:s.instanceOf(h).isRequired,payloads:s.instanceOf(m).isRequired,onSelect:s.func,onCancel:s.func},getInitialState:function(){return{shown:!1}},componentWillReceiveProps:function(e){e.show&&this.setState({shown:!0})},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),r={pictures:null,show:this.props.show,purpose:this.props.purpose,image:this.props.image,database:this.props.database,locale:this.props.locale,theme:this.props.theme,payloads:this.props.payloads,onSelect:this.props.onSelect,onCancel:this.props.onCancel};return n.start().then(function(e){if(t.props.show||t.state.shown){var r={purpose:t.props.purpose};return n.find({table:"picture",criteria:r})}}).then(function(e){return r.pictures=e,a.createElement(v,r)})}});var v=e.exports.Sync=a.createClass({displayName:"ImageAlbumDialogBox.Sync",propTypes:{show:s.bool,projects:s.arrayOf(s.object),purpose:s.string.isRequired,image:s.object,database:s.instanceOf(p).isRequired,locale:s.instanceOf(d).isRequired,theme:s.instanceOf(h).isRequired,payloads:s.instanceOf(m).isRequired,onSelect:s.func,onCancel:s.func},getInitialState:function(){return{managingImages:!1,selectedPictureId:null,deletionCandidateIds:[],isDropTarget:!1}},render:function(){var e={show:this.props.show,onBackgroundClick:this.handleBackgroundClick},t={className:"image-album-dialog-box",onDragEnter:this.handleDragEnter};return a.createElement(f,e,a.createElement("div",t,this.renderPictures(),this.renderButtons(),this.renderDropIndicator()))},renderPictures:function(){var e=b(this.props.pictures);return a.createElement("div",{className:"scrollable"},r.map(e,this.renderPicture))},renderPicture:function(e,t){var n=e.details,i={key:t,className:"picture",onClick:this.handleImageClick,"data-picture-id":e.id};this.state.managingImages?r.includes(this.state.deletionCandidateIds,e.id)&&(i.className+=" deleting"):this.state.selectedPictureId?this.state.selectedPictureId===e.id&&(i.className+=" selected"):this.props.image&&this.props.image.url===e.url&&(i.className+=" selected");var s=Math.round(120*n.width/n.height),o={height:120,width:s};if(n.url){var l=this.props.theme.getImageUrl(n,{height:120,width:s});return a.createElement("div",i,a.createElement("img",{src:l,style:o}))}if(n.file){var c=URL.createObjectURL(n.file);return i.className+=" disabled",i.onClick=null,a.createElement("div",i,a.createElement(u,{url:c,style:o}))}},renderButtons:function(){var e=this.props.locale.translate;if(this.state.managingImages){var t={type:"file",value:"",accept:"image/*",multiple:!0,onChange:this.handleUploadChange},n={className:"cancel",onClick:this.handleCancelClick},i={className:"remove",disabled:r.isEmpty(this.state.deletionCandidateIds),onClick:this.handleRemoveClick};return a.createElement("div",{key:"manage",className:"buttons"},a.createElement("div",{className:"left"},a.createElement("label",{className:"push-button"},e("image-album-upload"),a.createElement("input",t))),a.createElement("div",{className:"right"},a.createElement(g,n,e("image-album-cancel"))," ",a.createElement(g,i,e("image-album-remove"))))}var s={className:"manage",onClick:this.handleManageClick},n={className:"cancel",onClick:this.handleCancelClick},o={className:"select",disabled:!this.state.selectedPictureId,onClick:this.handleSelectClick};return a.createElement("div",{key:"select",className:"buttons"},a.createElement("div",{className:"left"},a.createElement(g,s,e("image-album-manage"))),a.createElement("div",{className:"right"},a.createElement(g,n,e("image-album-cancel"))," ",a.createElement(g,o,e("image-album-select"))))},renderDropIndicator:function(){if(!this.state.isDropTarget)return null;var e={className:"drop-target",onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop};return a.createElement("div",e)},uploadPictures:function(e){var t=this;e=r.filter(e,function(e){return/^image\//.test(e.type)});var n=this.props.database.use({schema:"global",by:this}),a=this.props.payloads;return n.start().then(function(s){var o=[];return i.mapSeries(e,function(e,n){var i=o[n]=URL.createObjectURL(e);return c.loadImage(i).then(function(n){var i={format:r.last(r.split(e.type,"/")),width:n.naturalWidth,height:n.naturalHeight,file:e,type:"image"};return a.queue(i).then(function(e){return i.payload_id=e,{purpose:t.props.purpose,user_id:s,details:r.omit(i,"type")}})})}).then(function(e){return n.save({table:"picture"},e).mapSeries(function(e){var t=e.details.payload_id,n={payload_id:t},r=a.find(n);return e.details.file=r.file,a.send(t),e})}).finally(function(){r.each(o,function(e){URL.revokeObjectURL(e)})})})},removePictures:function(e){var t=r.keyBy(this.props.pictures,"id"),n=r.filter(r.map(e,function(e){return t[e]}));if(!r.isEmpty(n)){var i=this.props.database.use({schema:"global",by:this});return i.start().then(function(e){return i.remove({table:"picture"},n)})}},handleImageClick:function(e){var t=parseInt(e.currentTarget.getAttribute("data-picture-id"));if(this.state.managingImages){var n=r.slice(this.state.deletionCandidateIds);r.includes(this.state.deletionCandidateIds,t)?r.pull(n,t):n.push(t),this.setState({deletionCandidateIds:n})}else{var i=t,a=r.find(this.props.pictures,{id:t});this.props.image&&a.url===this.props.image.url&&(i=null),this.setState({selectedPictureId:i})}},handleManageClick:function(e){this.setState({managingImages:!0})},handleCancelClick:function(e){this.state.managingImages?this.setState({managingImages:!1,deletionCandidateIds:[]}):this.props.onCancel&&this.props.onCancel({type:"cancel",target:this})},handleSelectClick:function(e){if(this.props.onSelect){var t=this.state.selectedPictureId,n=r.find(this.props.pictures,{id:t});this.props.onSelect({type:"select",target:this,image:n.details})}},handleBackgroundClick:function(e){this.props.onCancel&&this.props.onCancel({type:"cancel",target:this})},handleUploadChange:function(e){var t=e.target.files;if(t.length)return this.uploadPictures(t)},handleDragEnter:function(e){this.setState({isDropTarget:!0})},handleDragLeave:function(e){this.setState({isDropTarget:!1})},handleDragOver:function(e){e.preventDefault()},handleDrop:function(e){e.preventDefault();var t=e.dataTransfer.files;e.dataTransfer.items;t.length>0&&this.uploadPictures(t),this.setState({isDropTarget:!1})},handleRemoveClick:function(e){var t=this,n=this.state.deletionCandidateIds;this.setState({deletionCandidateIds:[]},function(){t.removePictures(n)})}}),b=l(function(e){return r.orderBy(e,"mtime","desc")})},function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=(n(11),n(6)),o=n(8),l=n(110),c=n(17),u=n(358);n(613),e.exports=i.createClass({displayName:"ImageCroppingDialogBox",propTypes:{image:a.object,desiredWidth:a.number,desiredHeight:a.number,locale:a.instanceOf(s).isRequired,theme:a.instanceOf(o).isRequired,onSelect:a.func,onCancel:a.func},getInitialState:function(){return{clippingRect:this.props.image.clip,hasChanged:!1}},zoom:function(e){var t=this.resizeClippingRect(e);this.setState({clippingRect:t})},canZoom:function(e){var t=this.resizeClippingRect(e);return!r.isEqual(t,this.state.clippingRect)},resizeClippingRect:function(e){var t=this.state.clippingRect,n=Math.round(t.width*e),r=Math.round(t.height*e),i=this.props.image.width,a=this.props.image.height,s=this.props.desiredWidth/this.props.desiredHeight;n>i&&(n=i,r=Math.round(n/s)),r>a&&(r=a,n=Math.round(r*s));var o=t.left-Math.round((n-t.width)/2),l=t.top-Math.round((r-t.height)/2);return o<0&&(o=0),l<0&&(l=0),{left:o,top:l,width:n,height:r}},render:function(){return i.createElement(l,{show:this.props.show},i.createElement("div",{className:"image-cropping-dialog-box"},this.renderImage(),this.renderButtons()))},renderImage:function(){var e=this.props.image,t={url:this.props.theme.getImageUrl(e,{noClipping:!0}),clippingRect:this.state.clippingRect,aspectRatio:this.props.desiredWidth/this.props.desiredHeight,onChange:this.handleChange},n={width:this.props.desiredWidth,height:this.props.desiredHeight};return i.createElement("div",{className:"image",style:n},i.createElement(u,t))},renderButtons:function(){var e=this.props.locale.translate,t={className:"zoom",disabled:!this.canZoom(1/.9),onClick:this.handleZoomOutClick},n={className:"zoom",disabled:!this.canZoom(.9),onClick:this.handleZoomInClick},r={className:"cancel",onClick:this.handleCancelClick},a={className:"select",disabled:!this.state.hasChanged,onClick:this.handleSelectClick};return i.createElement("div",{key:"select",className:"buttons"},i.createElement("div",{className:"left"},i.createElement(c,t,i.createElement("i",{className:"fa fa-search-minus"})),i.createElement(c,n,i.createElement("i",{className:"fa fa-search-plus"}))),i.createElement("div",{className:"right"},i.createElement(c,r,e("image-cropping-cancel"))," ",i.createElement(c,a,e("image-cropping-select"))))},handleChange:function(e){var t=this.props.image,n=r.mapValues(e.rect,function(e){return Math.round(e)}),i=!0;r.isEqual(n,t.rect)&&(i=!1),this.setState({clippingRect:n,hasChanged:i})},handleCancelClick:function(e){this.props.onCancel&&this.props.onCancel({type:"cancel",target:this})},handleSelectClick:function(e){this.props.onSelect&&this.props.onSelect({type:"select",target:this,clippingRect:this.state.clippingRect})},handleZoomInClick:function(e){this.zoom(.9)},handleZoomOutClick:function(e){this.zoom(1/.9)}})},function(e,t,n){"use strict";function r(e){var t=document.getElementById("app-container");if(!t)throw new Error("Unable to find app element in DOM");var n=i.createElement(s);return a.render(n,t),null}var i=n(1),a=n(79),s=n(334);window.addEventListener("load",r)},function(e,t,n){"use strict";function r(e){switch(e){case"facebook":return"facebook-official";default:return e}}var i=n(2),a=n(1),s=a.PropTypes,o=(n(87),n(18)),l=n(11),c=n(14),u=n(6),p=n(8),d=n(17),h=n(36);n(626),e.exports=o.createClass({displayName:"SignInPage",propTypes:{database:s.instanceOf(l).isRequired,route:s.instanceOf(c).isRequired,locale:s.instanceOf(u).isRequired,theme:s.instanceOf(p).isRequired},renderAsync:function(e){var t=this.props.database.use({by:this}),n={system:null,providers:null,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme,onOAuthEnd:this.handleOAuthEnd,onPasswordSubmit:this.handlePasswordSubmit};return e.show(a.createElement(m,n),250),t.beginAuthorization("admin").then(function(e){return n.system=e.system,n.providers=e.providers,a.createElement(m,n)})},handleOAuthEnd:function(e){this.props.database.use({by:this}).checkAuthorizationStatus()},handlePasswordSubmit:function(e){this.props.database.use({by:this}).submitPassword(e.username,e.password)}});var m=e.exports.Sync=a.createClass({displayName:"SignInPage.Sync",propTypes:{system:s.object,providers:s.arrayOf(s.object),database:s.instanceOf(l).isRequired,route:s.instanceOf(c).isRequired,locale:s.instanceOf(u).isRequired,theme:s.instanceOf(p).isRequired,onOAuthEnd:s.func,onPasswordSubmit:s.func},getInitialState:function(){return{username:"",password:""}},canSubmitForm:function(){return!!i.trim(this.state.username)&&!!i.trim(this.state.password)},render:function(){var e=this.props.locale.translate,t=this.props.locale.pick,n=this.props.system,r=t(i.get(n,"details.title"));return a.createElement("div",{className:"sign-in-page"},a.createElement("h2",null,e("sign-in-$title",r)),a.createElement("section",null,this.renderForm()),a.createElement("h2",null,e("sign-in-oauth")),a.createElement("section",null,this.renderOAuthButtons()))},renderForm:function(){var e=this.props.locale.translate,t=this.canSubmitForm(),n={id:"username",type:"text",value:this.state.username,locale:this.props.locale,onChange:this.handleUsernameChange},r={id:"password",type:"password",value:this.state.password,locale:this.props.locale,onChange:this.handlePasswordChange};return a.createElement("form",{onSubmit:this.handleFormSubmit},a.createElement(h,n,e("sign-in-username")),a.createElement(h,r,e("sign-in-password")),a.createElement("div",{className:"button-row"},a.createElement(d,{disabled:!t},e("sign-in-submit"))))},renderOAuthButtons:function(){var e=(this.props.locale.translate,i.sortBy(this.props.providers,["type","name"]));return a.createElement("div",{className:"oauth-buttons"},i.map(e,this.renderOAuthButton))},renderOAuthButton:function(e,t){var n=this.props.locale.translate,i=this.props.locale.pick,s=i(e.details.title)||n("server-type-"+e.type),o=r(e.type),l={key:t,className:"oauth-button",name:e.name,href:e.url,onClick:this.handleOAuthButtonClick};return a.createElement("a",l,a.createElement("i",{className:"fa fa-"+o}),a.createElement("span",{className:"label"},s))},openPopUpWindow:function(e){return new Promise(function(t,n){var r={width:400,height:500,left:window.screenLeft+Math.round((window.outerWidth-400)/2),top:window.screenTop+Math.round((window.outerHeight-500)/2),toolbar:"no",menubar:"no",status:"no"},a=i.map(r,function(e,t){return t+"="+e}),s=window.open(e,"sign-in",a.join(","));if(s){s.location=e;var o=setInterval(function(){s.closed&&(clearInterval(o),t())},50)}else n(new Error("Unable to open popup"))})},triggerOAuthEndEvent:function(){this.props.onOAuthEnd&&this.props.onOAuthEnd({type:"oauthended",target:this})},triggerPasswordSubmitEvent:function(e,t){this.props.onPasswordSubmit&&this.props.onPasswordSubmit({type:"passwordsubmit",target:this,username:e,password:t})},handleOAuthButtonClick:function(e){var t=this,n=e.currentTarget.getAttribute("href");return e.preventDefault(),this.openPopUpWindow(n).then(function(){t.triggerOAuthEndEvent()})},handleUsernameChange:function(e){this.setState({username:e.target.value})},handlePasswordChange:function(e){this.setState({password:e.target.value})},handleFormSubmit:function(e){e.preventDefault(),this.canSubmitForm()&&this.triggerPasswordSubmitEvent(this.state.username,this.state.password)}})},function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=n(6),o=n(8),l=n(37),c=n(47);n(630),e.exports=i.createClass({displayName:"ProjectTooltip",mixins:[l],propTypes:{projects:a.arrayOf(a.object),locale:a.instanceOf(s).isRequired,theme:a.instanceOf(o).isRequired},render:function(){if(null==this.props.projects)return null;var e=this.props.locale.translate,t=this.props.locale.pick,a=this.props.projects,s="-";if(a.length>0){var o,l=a[0];this.props.disabled||(o=n(41).getUrl({projectId:l.id}));var u=t(l.details.title)||l.name,s=i.createElement("a",{href:o,key:0},u);a=r.slice(a,1)}var p;if(a.length>0){var d,h=e("project-tooltip-$count-others",a.length);a.length>10&&(a=r.slice(a,0,10),d=i.createElement("div",{className:"ellipsis"},i.createElement("i",{className:"fa fa-ellipsis-v"})));var m=r.map(a,function(e,r){var a=n(41).getUrl({projectId:e.id}),s=t(e.details.title)||e.name;return i.createElement("div",{className:"item",key:r},i.createElement("a",{href:a},s))}),f=n(80).getUrl();p=e("tooltip-$first-and-$tooltip",s,i.createElement(c,{className:"project",disabled:this.props.disabled||0===m.length,key:1},i.createElement("inline",null,h),i.createElement("window",null,m,d,i.createElement("div",{className:"bottom"},i.createElement("a",{href:f},e("tooltip-more"))))))}else p=s;return i.createElement("span",null,p)}})},function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=n(6),o=n(8),l=n(37),c=n(47);n(631),e.exports=i.createClass({displayName:"RepositoryTooltip",mixins:[l],propTypes:{repos:a.arrayOf(a.object),project:a.object.isRequired,locale:a.instanceOf(s).isRequired,theme:a.instanceOf(o).isRequired,disabled:a.bool},render:function(){var e=this;if(null==this.props.repos)return null;var t=this.props.locale.translate,a=this.props.locale.pick,s=t("repository-tooltip-$count",this.props.repos.length),o=r.map(this.props.repos,function(r,s){var o=n(63).getUrl({projectId:e.props.project.id,repoId:r.id}),l=r.type,c=a(r.details.title)||t("server-type-"+r.type);return i.createElement("div",{className:"item",key:s},i.createElement("a",{href:o},i.createElement("i",{className:"fa fa-"+l})," ",c))}),l=n(81).getUrl({projectId:this.props.project.id});return i.createElement(c,{className:"repository",disabled:this.props.disabled||0===o.length},i.createElement("inline",null,s),i.createElement("window",null,o,i.createElement("div",{className:"bottom"},i.createElement("a",{href:l},t("tooltip-more")))))}})},function(e,t,n){"use strict";var r=n(2),i=n(15),a=n(1),s=a.PropTypes,o=n(18),l=n(30),c=n(11),u=n(14),p=n(6),d=n(8),h=n(67);n(639),e.exports=o.createClass({displayName:"NavigationTree",propTypes:{disabled:s.bool,database:s.instanceOf(c).isRequired,route:s.instanceOf(u).isRequired,locale:s.instanceOf(p).isRequired,theme:s.instanceOf(d).isRequired},renderAsync:function(e){var t=this,n=this.props.database.use({schema:"global",by:this}),s={project:null,user:null,role:null,repo:null,robot:null,server:null,disabled:this.props.disabled,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return e.show(a.createElement(m,s)),n.start().then(function(e){var a=t.props.route.parameters,o=r.keys(r.pickBy(s,r.isNull));return i.each(o,function(e){var t=parseInt(a[e+"Id"]),r="global";if("robot"===e){if(!s.project)return;r=s.project.name}if(t){var i={id:t};return n.findOne({schema:r,table:e,criteria:i}).then(function(t){s[e]=t})}})}).then(function(){return a.createElement(m,s)}).catch(function(e){if(401===e.statusCode)return a.createElement(m,s);throw e})}});var m=e.exports.Sync=a.createClass({displayName:"NavigationTree.Sync",propTypes:{disabled:s.bool,project:s.object,user:s.object,role:s.object,repo:s.object,robot:s.object,server:s.object,route:s.instanceOf(u).isRequired,locale:s.instanceOf(p).isRequired,theme:s.instanceOf(d).isRequired},getInitialState:function(){return this.components=l({activeLink:HTMLAnchorElement,container:HTMLElement,arrow:HTMLElement}),{arrowPosition:0,arrowCount:0,arrowAction:"",project:this.props.project||f,user:this.props.user||f,role:this.props.role||f,repo:this.props.repo||f,robot:this.props.robot||f,server:this.props.server||f}},componentWillReceiveProps:function(e){var t=r.keys(this.state),n=r.pickBy(r.pick(e,t),Boolean);r.isEmpty(n)||this.setState(n)},render:function(){var e=this.components.setters,t=["navigation-tree"];this.props.disabled&&t.push("disabled");var n=this.getRootNodes();return a.createElement("div",{ref:e.container,className:t.join(" ")},r.map(n,this.renderRootNode),this.renderArrow())},renderRootNode:function(e,t){return this.renderNode(e,1,t)},renderNode:function(e,t,n){if(e){var r;this.isActive(e)&&(r=this.components.setters.activeLink);var i;this.props.disabled||(i=e.url);return a.createElement("div",{key:n,className:"level"+t},a.createElement("a",{ref:r,href:i},e.label),this.renderChildNodes(e,t+1))}},renderChildNodes:function(e,t){var n=this;if(r.isEmpty(e.children))return null;var i={open:e.showChildren||this.hasActiveChild(e),children:r.map(e.children,function(e,r){return n.renderNode(e,t,r)})};return a.createElement(h,i)},renderArrow:function(){var e=["zero","one","two","three","four"],t={ref:this.components.setters.arrow,className:"arrow "+e[this.state.arrowCount]+" "+this.state.arrowAction,style:{top:this.state.arrowPosition}};return a.createElement("div",t,a.createElement("i",{className:"fa fa-play first"}),a.createElement("i",{className:"fa fa-play second"}),a.createElement("i",{className:"fa fa-play third"}),a.createElement("i",{className:"fa fa-play fourth"}))},componentDidMount:function(){var e=this;setTimeout(function(){e.repositionArrow()},100)},componentDidUpdate:function(e,t){e.route!==this.props.route&&this.repositionArrow()},isActive:function(e){return e.url===this.props.route.path},hasActiveChild:function(e){var t=this;return r.some(e.children,function(e){return t.isActive(e)||t.hasActiveChild(e)})},getRootNodes:function(){return[this.getProjectListNode(),this.getUserListNode(),this.getRoleListNode(),this.getServerListNode(),this.getSettingsNode()]},getProjectListNode:function(){return{label:(0,this.props.locale.translate)("nav-projects"),url:n(80).getUrl(),children:[this.getProjectNode()]}},getProjectNode:function(){var e=this.props.locale.translate,t=this.props.locale.pick,r=this.state.project,i=this.props.route.parameters.projectId;return{label:"new"===i?a.createElement("i",null,e("nav-project-new")):t(r.details.title)||r.name||"-",url:i?n(41).getUrl({projectId:i}):null,children:[this.getMemberListNode(),this.getRepoListNode(),this.getRobotListNode()],showChildren:"new"!==i}},getMemberListNode:function(){var e=this.props.locale.translate,t=this.props.route.parameters.projectId;return{label:e("nav-members"),url:t?n(62).getUrl({projectId:t}):null,children:[this.getMemberNode()]}},getMemberNode:function(){var e=this.props.locale.translate,t=this.props.locale.pick,r=this.state.user,i=this.props.route.parameters.userId,s=this.props.route.parameters.projectId;return{label:"new"===i?a.createElement("i",null,e("nav-member-new")):t(r.details.name)||r.username||"-",url:s&&i?n(24).getUrl({projectId:s,userId:i}):null}},getRepoListNode:function(){var e=this.props.locale.translate,t=this.props.route.parameters.projectId;return{label:e("nav-repositories"),url:t?n(81).getUrl({projectId:t}):null,children:[this.getRepoNode()]}},getRepoNode:function(){var e=(this.props.locale.translate,this.props.locale.pick),t=this.state.repo,r=this.props.route.parameters.repoId,i=this.props.route.parameters.projectId;return{label:e(t.details.title)||t.name||"-",url:i&&r?n(63).getUrl({projectId:i,repoId:r}):null}},getRobotListNode:function(){var e=this.props.locale.translate,t=this.props.route.parameters.projectId;return{label:e("nav-robots"),url:n(102).getUrl({projectId:t}),children:[this.getRobotNode()]}},getRobotNode:function(){var e=this.props.locale.translate,t=this.props.locale.pick,r=this.state.robot,i=this.props.route.parameters.robotId,s=this.props.route.parameters.projectId;return{label:"new"===i?a.createElement("i",null,e("nav-robot-new")):t(r.details.title)||r.name||"-",url:s&&i?n(64).getUrl({projectId:s,robotId:i}):null}},getUserListNode:function(){return{label:(0,this.props.locale.translate)("nav-users"),url:n(65).getUrl(),children:[this.getUserNode()]}},getUserNode:function(){var e=this.props.locale.translate,t=this.props.locale.pick,r=this.state.user,i=this.props.route.parameters.userId;return{label:"new"===i?a.createElement("i",null,e("nav-user-new")):t(r.details.name)||r.username||"-",url:i?n(24).getUrl({userId:i}):null}},getRoleListNode:function(){return{label:(0,this.props.locale.translate)("nav-roles"),url:n(82).getUrl(),children:[this.getRoleNode()]}},getRoleNode:function(){var e=this.props.locale.translate,t=this.props.locale.pick,r=this.state.role,i=this.props.route.parameters.roleId;return{label:"new"===i?a.createElement("i",null,e("nav-role-new")):t(r.details.title)||r.name||"-",url:i?n(42).getUrl({roleId:i}):null}},getServerListNode:function(){return{label:(0,this.props.locale.translate)("nav-servers"),url:n(103).getUrl(),children:[this.getServerNode()]}},getServerNode:function(){var e=this.props.locale.translate,t=this.props.locale.pick,r=this.state.server,i=this.props.route.parameters.serverId;return{label:"new"===i?a.createElement("i",null,e("nav-server-new")):t(r.details.title)||e("server-type-"+r.type),url:i?n(51).getUrl({serverId:i}):null}},getSettingsNode:function(){return{label:(0,this.props.locale.translate)("nav-settings"),url:n(104).getUrl()}},repositionArrow:function(){var e=this;setTimeout(function(){var t=0,n=e.components.activeLink;if(n)for(var r=n;r;r=r.parentNode){var i;if(i=/level(\d)/.exec(r.className)){t=parseInt(i[1]);break}}var a="";t>e.state.arrowCount?a="extending":t<e.state.arrowCount&&(a="retracting"),e.setState({arrowAction:a,arrowCount:t})},50);var t=this.components.arrow,n=this.components.container,r=setInterval(function(){var i=0,a=e.components.activeLink;if(a){var s=t.getBoundingClientRect(),o=a.getBoundingClientRect(),l=n.getBoundingClientRect();i=Math.floor(o.top+(o.height-s.height)/2-l.top)+1}i!==e.state.arrowPosition?e.setState({arrowPosition:i}):clearInterval(r)},50)}}),f={details:{}}},function(e,t,n){"use strict";var r=n(1),i=r.PropTypes,a=n(11),s=n(14),o=n(6),l=n(8),c=n(349),u=n(47),p=n(351);n(643),e.exports=r.createClass({displayName:"SideNavigation",propTypes:{disabled:i.bool,database:i.instanceOf(a).isRequired,route:i.instanceOf(s).isRequired,locale:i.instanceOf(o).isRequired,theme:i.instanceOf(l).isRequired},getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return{ready:!1}},getLanguage:function(e){e||(e=this.props.locale.lang);var t=this.props.locale.directory;return _.find(t,{code:e})},render:function(){var e="side-navigation";return this.state.ready||(e+=" hidden"),r.createElement("nav",{className:e},this.renderHeader(),this.renderNavTree(),this.renderBottomButtons())},renderNavTree:function(){var e={disabled:this.props.disabled,database:this.props.database,route:this.props.route,locale:this.props.locale,theme:this.props.theme};return r.createElement(c,e)},renderBottomButtons:function(){return r.createElement("div",{className:"bottom-buttons"},this.renderLanguageButton(),this.renderCountryButton(),this.renderUserButton())},renderLanguageButton:function(){var e=this,t=this.getLanguage(this.props.locale.lang),n=_.filter(this.props.locale.directory,{locales:{admin:!0}}),i=_.map(n,function(n,i){var a={key:i,className:"item","data-code":n.code,onClick:e.handleLanguageClick};return n===t&&(a.className+=" selected",a.onClick=null),r.createElement("div",a,r.createElement("i",{className:"fa fa-check-circle-o"})," ",n.name)});return r.createElement("div",{className:"button language"},r.createElement(u,{upward:!0},r.createElement("inline",null,r.createElement("i",{className:"fa fa-language"})," ",t.name),r.createElement("window",null,i)))},renderCountryButton:function(){var e=this,t=this.getLanguage();if(_.size(t.countries)<=1)return null;var n=_.last(_.split(this.props.locale.languageCode,"-"));n||(n=t.defaultCountry);var i=t.countries[n],a=_.map(t.countries,function(t,i){var a={key:i,className:"item","data-code":i,onClick:e.handleCountryClick};return i===n&&(a.className+=" selected",a.onClick=null),r.createElement("div",a,r.createElement("i",{className:"fa fa-check-circle-o"})," ",t)});return r.createElement("div",{className:"button country"},r.createElement(u,{upward:!0},r.createElement("inline",null,i),r.createElement("window",null,a)))},renderUserButton:function(){var e=(this.props.locale.translate,{database:this.props.database,locale:this.props.locale,theme:this.props.theme});return r.createElement("div",{className:"button user"},r.createElement(u,{upward:!0,leftward:!0,disabled:this.props.disabled},r.createElement("inline",null,r.createElement("i",{className:"fa fa-user-circle-o"})),r.createElement("window",null,r.createElement(p,e))))},renderHeader:function(){return r.createElement("header",null,this.renderLogo(),this.renderAppName())},renderAppName:function(){var e=this.props.locale.translate;return r.createElement("h2",{className:"app-name"},e("app-name"))},renderLogo:function(){return r.createElement("svg",{className:"logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"1000 1000 5080 6299",preserveAspectRatio:"xMidYMid",style:{strokeLinejoin:"round",strokeWidth:30}},r.createElement("defs",{className:"ClipPathGroup"},r.createElement("clipPath",{clipPathUnits:"userSpaceOnUse"},r.createElement("rect",{x:"1000",y:"1000",width:"5080",height:"6299"}))),r.createElement("defs",{className:"TextShapeIndex"}),r.createElement("defs",{className:"EmbeddedBulletChars"},r.createElement("path",{d:"M0.3-0.6L0.6-0.3 0.3 0 0-0.3 0.3-0.6Z"}),r.createElement("path",{d:"M0-0.6L0.6-0.6 0.6 0 0 0 0-0.6Z"}),r.createElement("path",{d:"M0.1 0L0.3-0.4 0.1-0.7 0.7-0.4 0.1 0ZM1358 739L309 1346 659 739 1358 739Z"}),r.createElement("path",{d:"M1-0.4L0.6 0 0.4 0 0.6-0.3 0.1-0.3 0.1-0.5 0.6-0.5 0.4-0.7 0.6-0.7 1-0.4Z"}),r.createElement("path",{d:"M0 0C0 0 0 0 0 0L0.2-0.3C0.1-0.4 0.1-0.5 0.1-0.5 0.1-0.5 0.1-0.5 0.1-0.5 0.1-0.5 0.1-0.5 0.1-0.5 0.2-0.5 0.2-0.5 0.2-0.5L0.2-0.5 0.2-0.4 0.4-0.5 0.4-0.5 0.4-0.5C0.4-0.5 0.4-0.5 0.5-0.5 0.4-0.5 0.4-0.4 0.4-0.4 0.4-0.4 0.3-0.3 0.3-0.3L0.4-0.1C0.4-0.1 0.4-0.1 0.3-0.1L0.4-0.1C0.4 0 0.3 0 0.3 0 0.3 0 0.3-0.1 0.2-0.2L0.1 0C0.1 0.1 0.1 0.1 0 0.1 0 0.1 0 0.1 0 0 0 0 0 0 0 0 0 0 0 0 0 0Z"}),r.createElement("path",{d:"M0.1 0C0.1 0 0.1 0 0-0.1 0-0.1 0-0.2 0-0.2 0-0.3 0-0.3 0-0.3 0.1-0.4 0.1-0.4 0.1-0.4 0.1-0.4 0.2-0.4 0.2-0.3L0.2-0.2C0.2-0.2 0.2-0.2 0.2-0.2L0.6-0.5C0.6-0.6 0.6-0.6 0.6-0.6 0.6-0.6 0.6-0.5 0.6-0.5L0.6-0.5C0.6-0.5 0.6-0.4 0.6-0.4L0.2 0C0.2 0 0.2 0 0.1 0Z"}),r.createElement("path",{d:"M0.4 0C0.3 0 0.2 0 0.2-0.1 0.1-0.1 0.1-0.2 0.1-0.3 0.1-0.4 0.1-0.4 0.2-0.5 0.2-0.6 0.3-0.6 0.4-0.6 0.5-0.6 0.6-0.6 0.6-0.5 0.7-0.4 0.7-0.4 0.7-0.3 0.7-0.2 0.7-0.1 0.6-0.1 0.6 0 0.5 0 0.4 0Z"}),r.createElement("path",{d:"M0.2-0.2C0.1-0.2 0.1-0.2 0.1-0.3 0-0.3 0-0.3 0-0.4 0-0.4 0-0.4 0.1-0.4 0.1-0.5 0.1-0.5 0.2-0.5 0.2-0.5 0.2-0.5 0.3-0.4 0.3-0.4 0.3-0.4 0.3-0.4 0.3-0.3 0.3-0.3 0.3-0.3 0.2-0.2 0.2-0.2 0.2-0.2Z"}),r.createElement("path",{d:"M0-0.2L0.6-0.2 0.6-0.3 0-0.3 0-0.2Z"})),r.createElement("defs",{className:"TextEmbeddedBitmaps"}),r.createElement("g",{className:"SlideGroup"},r.createElement("g",{className:"Slide",clipPath:"url(#presentation_clip_path)"},r.createElement("g",{className:"Page"},r.createElement("g",{className:"com.sun.star.drawing.ClosedBezierShape"},r.createElement("rect",{className:"BoundingBox",x:"1000",y:"1000",width:"5082",height:"6301",fill:"none"}),r.createElement("path",{d:"M1655 2259L5444 2259 6080 2890 6080 3520 5233 3520 5233 3099 1847 3099 1847 3918 1847 4758 1847 5619 1847 6459 5233 6459 5233 5619 4809 5619 4809 4989 6080 4989 6080 6669 5444 7299 1635 7299 1000 6669 1000 2890 1655 2259ZM3116 6459L3116 4569 3963 4569 3963 6459 3116 6459ZM3540 3520C3780 3520 3963 3701 3963 3939 3963 4178 3780 4360 3540 4360 3300 4360 3116 4178 3116 3939 3116 3701 3300 3520 3540 3520ZM3116 3520L3116 3520ZM3964 4361L3964 4361ZM3328 2259L3328 1419 2693 1419 2693 1000 4387 1000 4387 1419 3752 1419 3752 2259 3328 2259Z",fill:"rgb(255,255,255)"}))))))},componentDidMount:function(){var e=this;setTimeout(function(){e.setState({ready:!0})},100)},handleLanguageClick:function(e){var t=e.currentTarget.getAttribute("data-code"),n=this.getLanguage(t);return this.props.locale.change(n.code+"-"+n.defaultCountry)},handleCountryClick:function(e){var t=e.currentTarget.getAttribute("data-code"),n=this.getLanguage();return this.props.locale.change(n.code+"-"+t)}})},function(e,t,n){"use strict";var r=(n(2),n(15),n(1)),i=r.PropTypes,a=n(18),s=n(11),o=n(6),l=n(8),c=n(85);n(644),e.exports=a.createClass({displayName:"SignOffMenu",propTypes:{database:i.instanceOf(s).isRequired,locale:i.instanceOf(o).isRequired,theme:i.instanceOf(l).isRequired},renderAsync:function(e){var t=this,i=this.props.database.use({schema:"global",by:this});return i.start().then(function(e){var t={id:e};return i.findOne({table:"user",criteria:t})}).then(function(e){var i=t.props.locale.translate,a=t.props.locale.pick,s=n(24).getUrl({userId:e.id});return r.createElement("div",{className:"sign-off-menu"},r.createElement("a",{href:s},r.createElement(c,{user:e,theme:t.props.theme,size:"large"}),r.createElement("div",{className:"name"},a(e.details.name))),r.createElement("div",{className:"sign-off",onClick:t.handleSignOffClick},i("sign-off-menu-sign-off")))})},handleSignOffClick:function(){this.props.database.use({by:this}).endAuthorization()}})},function(e,t,n){"use strict";function r(e,t){return e+"/"+("0000000000"+t).slice(-10)}function i(e,t){return e+"/"+t}var a=n(2),s=n(15),o=n(1),l=o.PropTypes,c=n(86);e.exports=o.createClass({displayName:"IndexedDBCache",propTypes:{databaseName:l.string.isRequired},statics:{isAvailable:function(){return!!window.indexedDB}},getInitialState:function(){return{database:null}},find:function(e){return this.open().then(function(t){return new s(function(n,i){var s=e.server||"",o=e.schema,l=e.table,u="local"===o,p=u?"local-data":"remote-data",d=t.transaction(p,"readonly"),h=s+"/"+o+"/"+l,m=d.objectStore(p),f=[],g=e.criteria;if(g&&void 0!==g.id&&1===a.size(g)){var v=g.id;if(v instanceof Array)if(a.isEmpty(v))n(f);else{var b=a.max(v),y=a.min(v),E=r(h,b),C=r(h,y),w=IDBKeyRange.bound(C,E),k=m.openCursor(w);k.onsuccess=function(e){var t=e.target.result;if(t){var r=t.value,i=r.data;if(a.includes(v,i.id)){var s=a.sortedIndexBy(f,i,"id");f.splice(s,0,i)}t.continue()}else n(f)},k.onerror=function(e){n(f)}}else{var x=r(h,v),k=m.get(x);k.onsuccess=function(e){var t=e.target.result;t&&f.push(t.data),n(f)},k.onerror=function(e){n(f)}}}else{var R=m.index("location"),k=R.openCursor(h);k.onsuccess=function(e){var t=e.target.result;if(t){var r=t.value,i=r.data;if(c.match(l,i,g)){var s=a.sortedIndexBy(f,i,"id");f.splice(s,0,i)}t.continue()}else n(f)}}})})},save:function(e,t){return this.open().then(function(n){return new s(function(s,o){var l=e.server||"",c=e.schema,u=e.table,p="local"===c,d=p?"local-data":"remote-data",h=n.transaction(d,"readwrite"),m=l+"/"+c+"/"+u,f=h.objectStore(d);h.oncomplete=function(e){s(t)},h.onerror=function(e){o(new Error(e.message))},a.each(t,function(e){var t=p?i(m,e.key):r(m,e.id),n={server:l,location:m,data:e};f.put(n,t)})})})},remove:function(e,t){return this.open().then(function(n){return new s(function(s,o){var l=e.server||"",c=e.schema,u=e.table,p="local"===c,d=p?"local-data":"remote-data",h=n.transaction(d,"readwrite"),m=l+"/"+c+"/"+u,f=h.objectStore(d);h.oncomplete=function(e){s(t)},h.onerror=function(e){o(new Error(e.message))},a.each(t,function(e){var t=p?i(m,e.key):r(m,e.id);f.delete(t)})})})},clean:function(e){return this.open().then(function(t){return new s(function(n,r){var i=t.transaction("remote-data","readwrite"),a=i.objectStore("remote-data");if(void 0!==e.server){var s=a.index("server"),o=s.openCursor(e.server),l=0;o.onsuccess=function(e){var t=e.target.result;t?(l++,t.delete(),t.continue()):n(l)}}else if(void 0!==e.count){var s=a.index("rtime"),o=s.openCursor(),l=0;o.onsuccess=function(t){var r=t.target.result;r?(l++,r.delete(),l<e.count?r.continue():n(l)):n(l)}}else if(void 0!==e.before){var s=a.index("rtime"),o=s.openCursor(),l=0;o.onsuccess=function(t){var r=t.target.result;if(r){r.value.data.rtime<e.before?(l++,r.delete(),r.continue()):n(l)}else n(l)}}})})},open:function(){var e=this;return this.databasePromise||(this.databasePromise=new s(function(t,n){var r=window.indexedDB.open(e.props.databaseName,1);r.onsuccess=function(e){t(e.target.result)},r.onerror=function(e){n(new Error(e.message))},r.onupgradeneeded=function(e){var t=e.target.result;t.onerror=function(e){n(new Error(e.message))},t.createObjectStore("local-data").createIndex("location","location",{unique:!1});var r=t.createObjectStore("remote-data");r.createIndex("location","location",{unique:!1}),r.createIndex("server","server",{unique:!1}),r.createIndex("rtime","data.rtime",{unique:!1})}})),this.databasePromise},render:function(){return o.createElement("div",null)}})},function(e,t,n){"use strict";function r(e){try{return JSON.parse(e)}catch(e){return null}}function i(e,t){var n=o.sortedIndexBy(e,{id:t},"id"),r=e[n];if(r&&r.id===t)return r}function a(e,t){var n=o.sortedIndexBy(e,t,"id"),r=e[n];r&&r.id===t.id?e[n]=t:e.splice(n,0,t)}function s(e,t){var n=o.sortedIndexBy(e,t,"id"),r=e[n];r&&r.id===t.id&&e.splice(n,1)}var o=n(2),l=n(15),c=n(1),u=c.PropTypes,p=n(86);e.exports=c.createClass({displayName:"LocalStorageCache",propTypes:{databaseName:u.string.isRequired},statics:{isAvailable:function(){return!!window.localStorage}},getInitialState:function(){var e=localStorage.getItem(this.props.databaseName);return this.localData=r(e)||{},this.remoteData={},{}},getRows:function(e,t,n){var r="local"===t?this.localData:this.remoteData,i=[e,t,n],a=o.get(r,i);return a||(a=[],o.set(r,i,a)),a},saveRows:function(e,t,n){if("local"===t){var r=JSON.stringify(this.localData);localStorage.setItem(this.props.databaseName,r)}},find:function(e){var t,n=e.server||"",r=e.schema,a=e.table,s=e.criteria,c=this.getRows(n,r,a);if(s&&void 0!==s.id&&1===o.size(s)){var u=s.id;u instanceof Array||(u=[u]),t=o.filter(o.map(u,function(e){return i(c,e)}))}else t=o.filter(c,function(e){return p.match(a,e,s)});return l.resolve(t)},save:function(e,t){var n=e.server||"",r=e.schema,i=e.table,s=this.getRows(n,r,i);return o.each(t,function(e){a(s,o.cloneDeep(e))}),this.saveRows(n,r,i),l.resolve(t)},remove:function(e,t){var n=e.server||"",r=e.schema,i=e.table,a=this.getRows(n,r,i);return o.each(t,function(e){s(a,e)}),this.saveRows(n,r,i),l.resolve(t)},clean:function(e){var t=this.remoteData,n=0;if(void 0!==e.server){var r=e.server,i=o.get(t,r);o.each(i,function(e){o.each(e,function(e){n+=e.length})}),o.set(t,r,void 0)}else if(void 0!==e.count){var a=[];o.each(t,function(e){o.each(e,function(e){o.each(e,function(e){for(var t=0;t<e.length;t++)a.push(e[t])})})}),a.sort(function(e,t){return e.rtime<t.rtime?-1:e.rtime>t.rtime?1:0}),a.splice(e.count),o.each(t,function(e){o.each(e,function(e){o.each(e,function(e){for(var t=e.length-1;t>=0;t--){var r=e[t];-1!==a.indexOf(r)&&(e.splice(t,1),n++)}})})})}else void 0!==e.before&&o.each(t,function(t){o.each(t,function(t){o.each(t,function(t){for(var r=t.length-1;r>=0;r--){t[r].rtime<e.before&&(t.splice(r,1),n++)}})})});return l.resolve(n)},render:function(){return c.createElement("div",null)}})},function(e,t,n){"use strict";function r(e,t,n){var r=[];return C.each(e,function(e,i){var a=t[i],s=C.sortedIndexBy(n,{id:e},"id"),o=n?n[s]:null;o&&o.id===e&&o.gn===a||r.push(e)}),r}function i(e,t,n){var r=[];return C.each(n,function(t){C.includes(e,t.id)||r.push(t.id)}),r}function a(e,t){return C.isEmpty(t)?e:(e=C.slice(e),C.each(t,function(t){var n=C.sortedIndexBy(e,{id:t},"id"),r=e?e[n]:null;r&&r.id===t&&e.splice(n,1)}),e)}function s(e,t){var n=[];return C.each(t,function(t){var r=C.sortedIndexBy(e,{id:t},"id"),i=e[r];i&&i.id===t&&n.push(i)}),n}function o(e,t){return e=C.slice(e),C.each(t,function(t){var n=C.sortedIndexBy(e,t,"id"),r=e[n];r&&r.id===t.id?e[n]=t:e.splice(n,0,t)}),e}function l(){return(new Date).toISOString()}function c(e,t){if(!e)return 1/0;if(!t)return 0;var n="string"==typeof e?new Date(e):e;return("string"==typeof t?new Date(t):t)-n}function u(e){return C.pick(e,"protocol","server","schema","table")}function p(e){return C.pick(e,"protocol","server","schema","table","criteria","minimum")}function d(e){var t=U[e];return t||(t=U[e]={}),t}function h(e){U[e]=null}function m(e,t){return"local"===e.schema||!e.dirty&&!(.001*c(e.finish,new Date)>t)}function f(e){var t=e.minimum;return void 0===t&&(t=b(e)),void 0===t&&(t=1),!(e.results.length<t)}function g(e){var t=b(e);return!(e.results.length<t)}function v(e,t){if("local"===e.schema)return!0;var n=C.map(e.results,"rtime"),r=C.min(n);return!(r<D)&&(!(.001*c(r,new Date)>t)&&(e.finish=r,!0))}function b(e){return"number"==typeof e.expected?e.expected:e.criteria?y(e.criteria,"id")||y(e.criteria,"filters"):void 0}function y(e,t){var n=e[t];if(void 0!=n)return n instanceof Array?n.length:1}var E,C=n(2),w=n(15),k=n(1),x=k.PropTypes,R=n(87),S=n(108),N=n(86),O=n(6),j=n(352),I=n(355),_=n(353);j.isAvailable()?E=j:I.isAvailable()?E=I:_.isAvailable()&&(E=_);var T=n(364),P=T||null,q=n(30);e.exports=k.createClass({displayName:"RemoteDataSource",propTypes:{refreshInterval:x.number,cacheName:x.string.isRequired,urlPrefix:x.string,retrievalFlags:x.object,defaultProfileImage:x.string,locale:x.instanceOf(O),onChange:x.func,onAuthorization:x.func,onExpiration:x.func,onViolation:x.func,onAlertClick:x.func},components:q({cache:E,notifier:P}),getDefaultProps:function(){return{refreshInterval:900,urlPrefix:""}},getInitialState:function(){return{recentSearchResults:[],recentStorageResults:[],recentRemovalResults:[]}},beginAuthorization:function(e,t){var n=d(e.server);if(!n.authorizationPromise){var r=e.server,i=e.protocol,a=i+"//"+r+"/auth/session",s={responseType:"json",contentType:"json"};n.authorizationPromise=R.fetch("POST",a,{area:t},s).then(function(e){return n.authentication=e.authentication,{system:e.system,providers:e.providers}}).catch(function(e){throw n.authorizationPromise=null,e})}return n.authorizationPromise},checkAuthorizationStatus:function(e){var t=this,n=d(e.server),r=n.authentication.token,i=e.server,a=e.protocol,s=a+"//"+i+"/auth/session/"+r,o={responseType:"json"};return R.fetch("GET",s,{},o).then(function(e){var r=e.authorization;return!!r&&(n.authorization=r,t.triggerAuthorizationEvent(i,r),!0)}).catch(function(e){throw n.authorizationPromise=null,e})},submitPassword:function(e,t,n){var r=this,i=d(e.server),a=i.authentication.token,s=e.server,o=e.protocol,l=o+"//"+s+"/auth/htpasswd",c={token:a,username:t,password:n},u={responseType:"json",contentType:"json"};return R.fetch("POST",l,c,u).then(function(e){var t=e.authorization;return!!t&&(i.authorization=t,r.triggerAuthorizationEvent(s,t),!0)}).catch(function(e){throw i.authorizationPromise=null,e})},endAuthorization:function(e){var t=this,n=d(e.server),r=n.authorization.token,i=e.server,a=e.protocol,s=a+"//"+i+"/auth/session/"+r+"/end",o={responseType:"json",contentType:"json"};return R.fetch("POST",s,{},o).then(function(){return n.authentication=null,n.authorizationPromise=null,n.authorization=null,t.cleanCachedObjects(e),t.triggerExpirationEvent(i),!0})},getActivationUrl:function(e,t){var n=d(e.server),r=n.authorization.token,i=e.server,a=e.protocol,s="activation=1&sid="+t.id+"&token="+r;return a+"//"+i+"/auth/"+t.type+"?"+s},hasAuthorization:function(e){return!!d(e).authorization},addAuthorization:function(e,t){d(e).authorization=t},start:function(e){var t=this;return w.resolve().then(function(){if("local"===e.schema)return 0;var n=d(e.server);if(n.authorization){var r=t.components.notifier;if(r){var i=e.protocol,a=e.server,s=n.authorization.token;r.connect(i,a,s).catch(function(e){console.error("Unable to establish WebSocket connection: "+a)})}return n.authorization.user_id}throw new S(401)})},find:function(e){var t=this,n=C.get(e,"by.constructor.displayName");e=p(e);var r=this.findRecentSearch(e);if(r)n&&(C.includes(r.by,n)||r.by.push(n)),r.promise.isFulfilled()?m(r)||r.updating||(r.updating=!0,this.searchRemoteDatabase(r).then(function(e){if(r.updating=!1,e)return t.triggerChangeEvent(),null})):r.promise.isRejected()&&(r.promise=this.searchRemoteDatabase(r).then(function(){return r.results}));else{r=C.extend({},e,{start:null,finish:null,results:null,promise:null,by:n?[n]:[],dirty:!1,updating:!1});var i=this.searchLocalCache(r).then(function(){return!(!g(r)||!v(r,t.props.refreshInterval))}),a=i.then(function(e){return!e&&t.searchRemoteDatabase(r)});r.promise=i.then(function(e){return e?r.results:f(r)?r.results:a.then(function(){return r.results})});var s=C.slice(this.state.recentSearchResults);for(s.unshift(r);s.length>256;)s.pop();this.setState({recentSearchResults:s})}return r.promise},save:function(e,t){var n=this,r=l(),i=C.get(e,"by.constructor.displayName");return e=u(e),"local"===e.schema?this.storeLocalObjects(e,t):this.storeRemoteObjects(e,t).then(function(t){var a=l();C.each(t,function(e){e.startTime=r}),n.updateCachedObjects(e,t),n.updateRecentSearchResults(e,t),n.triggerChangeEvent();var s=C.clone(n.state.recentStorageResults);for(s.unshift({start:r,finish:a,duration:c(r,a),results:t,by:i});s.length>32;)s.pop();return n.setState({recentStorageResults:s}),t})},remove:function(e,t){var n=this,r=l(),i=C.get(e,"by.constructor.displayName");return e=u(e),"local"===e.schema?this.removeLocalObjects(e,t):(t=C.map(t,function(e){return{id:e.id,deleted:!0}}),this.storeRemoteObjects(e,t).then(function(t){var a=l();n.removeCachedObjects(e,t),n.removeFromRecentSearchResults(e,t),n.triggerChangeEvent();var s=C.clone(n.state.recentRemovalResults);for(s.unshift({start:r,finish:a,duration:c(r,a),results:t,by:i});s.length>32;)s.pop();return n.setState({recentRemovalResults:s}),t}))},triggerChangeEvent:function(){this.props.onChange&&this.props.onChange({type:"change",target:this})},triggerAuthorizationEvent:function(e,t){if(this.props.onAuthorization)return this.props.onAuthorization({type:"authorization",target:this,server:e,credentials:t})},triggerExpirationEvent:function(e){if(this.props.onExpiration)return this.props.onExpiration({type:"expiration",target:this,server:e})},triggerViolationEvent:function(e,t){if(this.props.onViolation)return this.props.onViolation({type:"violation",target:this,server:e,schema:t})},findRecentSearch:function(e){var t=C.findIndex(this.state.recentSearchResults,function(t){var n=p(t);return C.isEqual(e,n)});if(-1!==t){var n=C.slice(this.state.recentSearchResults),r=n[t];return n.splice(t,1),n.unshift(r),this.setState({recentSearchResults:n}),r}return null},searchRemoteDatabase:function(e){var t=this,n=u(e),d=p(e);return e.start=l(),this.discoverRemoteObjects(d).then(function(l){var c=l.ids,u=l.gns,p=r(c,u,e.results),d=i(c,u,e.results);if(!C.isEmpty(d)){var h=s(e.results,d);t.removeCachedObjects(e,h)}if(C.isEmpty(p)){if(C.isEmpty(d))return null;return a(e.results,d)}return t.retrieveRemoteObjects(n,p).then(function(t){var n=t,r=o(e.results,n);return r=a(r,d)})}).then(function(r){r&&(e.results=r,e.promise=w.resolve(r)),e.finish=l(),e.duration=c(e.start,e.finish),e.dirty=!1;var i=C.slice(t.state.recentSearchResults);t.setState({recentSearchResults:i});var a=e.finish;return C.each(e.results,function(e){e.rtime=a}),t.updateCachedObjects(n,e.results),!!r})},discoverRemoteObjects:function(e){var t=u(e);return this.performRemoteAction(t,"discovery",e.criteria)},retrieveRemoteObjects:function(e,t){return this.performRemoteAction(e,"retrieval",{ids:t})},storeRemoteObjects:function(e,t){return this.performRemoteAction(e,"storage",{objects:t})},performRemoteAction:function(e,t,n){var r=this,i=e.server,a=e.protocol,s=this.props.urlPrefix,o=e.schema,l=e.table,c=a+"//"+i+s+"/data/"+t+"/"+o+"/"+l+"/",u=d(e.server);n=C.clone(n),n.token=u.authorization.token,"retrieval"!==t&&"storage"!==t||C.assign(n,this.props.retrievalFlags);var p={contentType:"json",responseType:"json"};return R.fetch("POST",c,n,p).then(function(e){return e}).catch(function(t){throw 401===t.statusCode?(h(e.server),r.cleanCachedObjects(e),r.triggerExpirationEvent(e.server)):403==t.statusCode&&(r.cleanCachedObjects(e),r.triggerViolationEvent(e.server,e.schema)),t})},storeLocalObjects:function(e,t){var n=this.components.cache;if(!n)throw new Error("No local cache");return n.save(e,t)},removeLocalObjects:function(e,t){var n=this.components.cache;if(!n)throw new Error("No local cache");return n.remove(e,t)},searchLocalCache:function(e){var t=this.components.cache;if(!t)return!1;p(e);return t.find(e).then(function(t){return e.results=t,!0}).catch(function(e){return console.error(e),!1})},updateCachedObjects:function(e,t){var n=this.components.cache;return n?n.save(e,t).then(function(e){return!0}).catch(function(e){return console.error(e),!1}):w.resolve(!1)},removeCachedObjects:function(e,t){var n=this.components.cache;return n?n.remove(e,t).then(function(e){return!0}).catch(function(e){return console.error(e),!1}):w.resolve(!1)},cleanCachedObjects:function(e){var t=this.components.cache;return t?t.clean({server:e.server}):w.resolve(0)},updateRecentSearchResults:function(e,t){var n=this.getRelevantRecentSearches(e);C.each(n,function(e){var n=!1;C.each(t,function(t){var r=C.sortedIndexBy(e.results,t,"id"),i=e.results[r],a=i&&i.id===t.id,s=N.match(e.table,t,e.criteria);(i||s)&&(n||(e.results=C.slice(e.results),e.promise=w.resolve(e.results),n=!0),s&&a?e.results[r]=t:s&&!a?e.results.splice(r,0,t):!s&&a&&e.results.splice(r,1))})})},removeFromRecentSearchResults:function(e,t){var n=this.getRelevantRecentSearches(e);C.each(n,function(e){var n=!1;C.each(t,function(t){var r=C.sortedIndexBy(e.results,t,"id"),i=e.results[r];i&&i.id===t.id&&(n||(e.results=C.slice(e.results),e.promise=w.resolve(e.results),n=!0),e.results.splice(r,1))})})},getRelevantRecentSearches:function(e){return C.filter(this.state.recentSearchResults,function(t){var n=u(t);if(t.results&&C.isEqual(e,n))return!0})},render:function(){return k.createElement("div",null,this.renderLocalCache(),this.renderNotifier())},renderLocalCache:function(){var e=this.components.setters,t={ref:e.cache,databaseName:this.props.cacheName};return k.createElement(E,t)},renderNotifier:function(){var e=this.components.setters;if(P.isAvailable()){var t={ref:e.notifier,locale:this.props.locale,defaultProfileImage:this.props.defaultProfileImage,onNotify:this.handleChangeNotification,onAlertClick:this.props.onAlertClick};return k.createElement(P,t)}},componentDidMount:function(){this.triggerChangeEvent()},handleChangeNotification:function(e){var t=this,n=!1;C.forIn(e.changes,function(r,i){var a=C.split(i,"."),s={protocol:e.protocol,server:e.server,schema:a[0],table:a[1]};console.log("Change notification: ",s.table,r);var o=t.getRelevantRecentSearches(s);C.each(o,function(e){var t=!1;b(e)===e.results.length?C.each(r,function(n){var r=C.sortedIndexBy(e.results,{id:n},"id"),i=e.results[r];if(i&&i.id===n)return t=!0,!1}):t=!0,t&&(e.dirty=!0,n=!0)})}),n&&this.triggerChangeEvent()}});var U={},D=(new Date).toISOString()},function(e,t,n){"use strict";function r(e){try{return JSON.parse(e)}catch(e){return null}}var i=n(2),a=n(15),s=n(1),o=s.PropTypes,l=n(86),c=window.openDatabase;window.sqlitePlugin&&(c=window.sqlitePlugin.openDatabase),e.exports=s.createClass({displayName:"SQLiteCache",propTypes:{databaseName:o.string.isRequired},statics:{isAvailable:function(){return!!c}},find:function(e){var t,n,a=e.server||"",s=e.schema,o=e.table,c=e.criteria;if("local"===s)t="\n                SELECT json FROM local_data\n                WHERE table_name = ?\n            ",n=[o],c&&void 0!==c.key&&1===i.size(c)&&(t+=" AND key = ?",n.push(c.key),c=null),t+=" ORDER BY key";else{if(t="\n                SELECT json FROM remote_data\n                WHERE server_name = ?\n                AND schema_name = ?\n                AND table_name = ?\n            ",n=[a,s,o],c&&void 0!==c.id&&1===i.size(c)){var u=c.id;u instanceof Array?(t+=" AND id IN ("+i.fill(i.clone(u),"?").join(",")+")",n.push.apply(n,u)):(t+=" AND id = ?",n.push(u)),c=null}t+=" ORDER BY id"}return this.query(t,n).then(function(e){for(var t=[],n=0;n<e.length;n++){var i=r(e[n].json);i&&(c&&!l.match(o,i,c)||t.push(i))}return t})},save:function(e,t){var n=e.server||"",r=e.schema,a=e.table,s=[],o=[];return i.each(t,function(e){var t=JSON.stringify(e);if("local"===r)s.push("\n                    INSERT OR REPLACE INTO local_data\n                    (table_name, key, json)\n                    VALUES (?, ?, ?)\n                "),o.push([a,e.key,t]);else{var i=new Date(e.rtime).getTime();s.push("\n                    INSERT OR REPLACE INTO remote_data\n                    (server_name, schema_name, table_name, id, json, rtime)\n                    VALUES (?, ?, ?, ?, ?, ?)\n                "),o.push([n,r,a,e.id,t,i])}}),this.execute(s,o).return(t)},remove:function(e,t){var n=this,r=e.server||"",i=e.schema,s=e.table;return a.mapSeries(t,function(e){var t,a;return"local"===i?(t="\n                    DELETE FROM local_data\n                    WHERE table_name = ? AND key = ?\n                ",a=[s,e.key]):(t="\n                    DELETE FROM remote_data\n                    WHERE server_name = ?\n                    AND schema_name = ?\n                    AND table_name = ?\n                    AND id = ?\n                ",a=[r,i,s,e.id]),n.execute(t,a)})},clean:function(e){var t,n;if(void 0!==e.server)t="\n                DELETE FROM remote_data\n                WHERE server_name = ?\n            ",n=[e.server];else if(void 0!==e.count)t="\n                DELETE FROM remote_data\n                WHERE rowid IN (\n                    SELECT rowid FROM remote_data ORDER BY rtime LIMIT ?\n                )\n            ",n=[e.count];else if(void 0!==e.before){var r=new Date(e.before).getTime();t="\n                DELETE FROM remote_data\n                WHERE rtime < ?\n            ",n=[r]}return this.execute(t,n)},query:function(e,t){return this.open().then(function(n){return new a(function(r,i){var a=function(e){i(new Error(e.message))};n.transaction(function(n){n.executeSql(e,t,function(e,t){for(var n=[],i=0;i<t.rows.length;i++)n.push(t.rows.item(i));r(n)})},a)})})},execute:function(e,t){return this.open().then(function(n){return new a(function(r,i){var a=function(e){i(new Error(e.message))},s=function(){r(o)},o=0,l=function(e,t){o+=t.rowsAffected};n.transaction(function(n){if(e instanceof Array)for(var r=0;r<e.length;r++)n.executeSql(e[r],t[r],l);else n.executeSql(e,t,l)},a,s)})})},open:function(){var e=this;return this.databasePromise||(this.databasePromise=a.try(function(){var t=c(e.props.databaseName,"1.0","",52428800),n=["\n                        CREATE TABLE IF NOT EXISTS remote_data (\n                            server_name text,\n                            schema_name text,\n                            table_name text,\n                            id int,\n                            json text,\n                            rtime datetime\n                        )\n                    ","\n                        CREATE UNIQUE INDEX IF NOT EXISTS remote_data_idx_id\n                        ON remote_data (\n                            server_name,\n                            schema_name,\n                            table_name,\n                            id\n                        )\n                    ","\n                        CREATE INDEX IF NOT EXISTS remote_data_idx_location\n                        ON remote_data (\n                            server_name,\n                            schema_name,\n                            table_name\n                        )\n                    ","\n                        CREATE INDEX IF NOT EXISTS remote_data_idx_rtime\n                        ON remote_data (\n                            rtime\n                        )\n                    ","\n                        CREATE TABLE IF NOT EXISTS local_data (\n                            table_name text,\n                            key text,\n                            json text\n                        )\n                    ","\n                        CREATE UNIQUE INDEX IF NOT EXISTS local_data_idx_key\n                        ON local_data (\n                            table_name,\n                            key\n                        )\n                    "];return new a(function(e,r){var a=function(e){r(new Error(e.message))};t.transaction(function(e){i.each(n,function(t){e.executeSql(t)})},a,e)}).return(t)})),this.databasePromise},render:function(){return s.createElement("div",null)}})},function(e,t,n){"use strict";function r(){function e(e){void 0===n&&e&&e.length>=2&&(n=i.toLower(e))}i.each(navigator.languages,e);var t=["language","browserLanguage","systemLanguage","userLanguage"];i.each(t,function(t){e(navigator[t])});var n;return n}var i=n(2),a=n(1),s=a.PropTypes,o=n(11);e.exports=a.createClass({displayName:"LocaleManager",propTypes:{defaultLanguageCode:s.string,database:s.instanceOf(o),directory:s.arrayOf(s.object),onChange:s.func,onModuleRequest:s.func},getDefaultProps:function(){return{defaultLanguageCode:"en"}},getInitialState:function(){return{languageCode:"",phraseTable:{},missingPhrases:[]}},getLanguageCode:function(){return this.state.languageCode},getDirectory:function(){return this.props.directory},translate:function(e){var t=this.state.phraseTable[e];if(null!=t){if("function"==typeof t){var n=i.slice(arguments,1);return t.apply(this,n)}return t}return e},pick:function(e,t){if("string"==typeof e)return e;var n=this.state.languageCode.substr(0,2);t&&(n=t.substr(0,2));var r="",a="",s=this.props.defaultLanguageCode.substr(0,2),o="";for(var l in e){var c=e[l],u=i.toLower(l);u===n&&(r=c),a||(a=c),u===s&&(o=c)}return r||(o||a)},change:function(e){var t=this;return e=i.toLower(e),e===this.state.languageCode?Promise.resolve(!0):this.load(e).then(function(n){var r;r="function"==typeof n?n(e):n;var i={languageCode:e,phraseTable:r};return t.setState(i,function(){t.triggerChangeEvent()}),!0})},load:function(e){var t=l[e];return t?Promise.resolve(t):this.triggerModuleRequest(e).then(function(t){return l[e]=t,t})},triggerChangeEvent:function(){this.props.onChange&&this.props.onChange({type:"change",target:this})},triggerModuleRequest:function(e){return this.props.onModuleRequest?this.props.onModuleRequest({type:"module_request",target:this,languageCode:e}):Promise.reject("onModuleRequest is not set")},render:function(){return null},componentDidMount:function(){var e=this,t=r()||this.props.defaultLanguageCode;this.change(t).catch(function(t){e.change(e.props.defaultLanguageCode)})},componentDidUpdate:function(e,t){var n=this;if(!e.database&&this.props.database){var r=this.props.database.use({by:this,schema:"local"});r.start().then(function(){return r.findOne({table:"settings",key:"language"})}).then(function(e){e&&e.selectedLanguageCode&&n.change(e.selectedLanguageCode)})}}});var l={}},function(e,t,n){"use strict";e.exports=[{name:"etina",code:"cz",direction:"ltr",countries:{cz:"esko",pl:"Polsko",sk:"Slovensko"},defaultCountry:"cz"},{name:"Dansk",code:"da",direction:"ltr",countries:{dk:"Danmark",fo:"Frerne",gl:"Grnland",de:"Tyskland"},defaultCountry:"dk"},{name:"Deutsch",code:"de",direction:"ltr",countries:{at:"sterreich",be:"Belgien",de:"Deutschland",lu:"Luxemburg",ch:"Schweiz"},defaultCountry:"de"},{name:"",code:"el",direction:"ltr",countries:{gr:"",cy:""},defaultCountry:"gr"},{name:"English",code:"en",direction:"ltr",countries:{au:"Australia",ca:"Canada",hk:"Hong Kong",ie:"Ireland",sg:"Singapore",gb:"United Kingdom",us:"United States"},defaultCountry:"us",locales:{admin:!0,client:!0}},{name:"Espaol",code:"es",direction:"ltr",countries:{ar:"Argentina",bo:"Bolivia",cl:"Chile",co:"Colombia",cr:"Costa Rica",cu:"Cuba",es:"Espaa",ec:"Ecuador",sv:"El Salvador",gq:"Guinea Ecuatorial",gt:"Guatemala",hn:"Honduras",mx:"Mxico",ni:"Nicaragua",pa:"Panam",py:"Paraguay",pe:"Per",pr:"Puerto Rico",do:"Repblica Dominicana",uy:"Uruguay",ve:"Venezuela"},defaultCountry:"es"},{name:"Franais",code:"fr",direction:"ltr",countries:{be:"Belgique",bj:"Bnin",bf:"Burkina Faso",bi:"Burundi",cm:"Cameroun",ca:"Canada",cg:"Congo",ci:"Cte d'Ivoire",dj:"Djibouti",gq:"Guine quatoriale",fr:"France",ga:"Gabon",gn:"Guine",ht:"Hati",lu:"Luxembourg",mg:"Madagascar",ml:"Mali",ne:"Niger",rw:"Rwanda",cf:"Rpublique centrafricaine",cd:"Rpublique dmocratique du Congo",sn:"Sngal",sc:"Seychelles",ch:"Suisse",td:"Tchad",tg:"Togo"},defaultCountry:"fr"},{name:"",code:"ko",direction:"ltr",countries:{kr:"",cn:""},defaultCountry:"kr"},{name:"Hrvatski",code:"hr",direction:"ltr",countries:{ba:"Bosna i Hercegovina",hr:"Hrvatska",rs:"Srbija"},defaultCountry:"hr"},{name:"Italiano",code:"it",direction:"ltr",countries:{it:"Italia",ch:"Svizzera",hr:"Croazia",si:"Slovenia"},defaultCountry:"it"},{name:"Magyar",code:"hu",countries:{hr:"Magyarorszg",ro:"Romnia"},defaultCountry:"hu"},{name:"Nederlands",code:"nl",countries:{be:"Belgi",nl:"Nederland",sr:"Suriname"},defaultCountry:"nl"},{name:"",code:"jp",direction:"ltr",countries:{jp:""},defaultCountry:"jp"},{name:"Norsk",code:"no",direction:"ltr",countries:{no:"Norge"},defaultCountry:"no",locales:{admin:!0,client:!0}},{name:"Polski",code:"pl",direction:"ltr",countries:{by:"Biaoru",lt:"Litwa",pl:"Polska",ua:"Ukraina"},defaultCountry:"pl",locales:{admin:!0,client:!0}},{name:"Portugus",code:"pt",direction:"ltr",countries:{ao:"Angola",br:"Brasil",tl:"Timor Leste",gq:"Guin Equatorial",gw:"Guin-Bissau",mz:"Moambique",mo:"Macao",pt:"Portugal"},defaultCountry:"pt"},{name:"",code:"ru",direction:"ltr",countries:{am:"",by:"",ge:"",lv:"",kz:"",kg:"",lt:"",ru:"",tj:"",ua:"",uz:"",es:""},defaultCountry:"ru",locales:{admin:!0,client:!0}},{name:"Srpski",code:"sr",direction:"ltr",countries:{rs:"Srbija",hr:"Hrvatska",ba:"Bosna i Hercegovina"},defaultCountry:"sr"},{name:"Suomi",code:"fi",direction:"ltr",countries:{fi:"Suomi",se:"Ruotsi"},defaultCountry:"fi",locales:{admin:!0,client:!0}},{name:"Slovenina",code:"sk",countries:{cz:"esko",sk:"Slovensko"},defaultCountry:"sk"},{name:"Svenska",code:"sv",direction:"ltr",countries:{fi:"Finland",se:"Sverige"},defaultCountry:"se"},{name:"Ting Vit",code:"vi",direction:"ltr",countries:{vn:"Vit Nam"},defaultCountry:"vn"},{name:"Trke",code:"tr",direction:"ltr",countries:{cy:"Kbrs",tr:"Trkiye"},defaultCountry:"tr"},{name:"",code:"zh",direction:"ltr",countries:{cn:"",hk:"",mo:"",sg:"",tw:""},defaultCountry:"cn",locales:{admin:!0,client:!0}}]},function(e,t,n){"use strict";function r(e,t,n){e.left<0?e.left=0:e.left+e.width>t&&(e.left=t-e.width),e.top<0?e.top=0:e.top+e.height>n&&(e.top=n-e.height)}var i=(n(15),n(1)),a=i.PropTypes,s=(n(79),n(30)),o=n(109);n(648),e.exports=i.createClass({displayName:"ImageDisplay",propTypes:{url:a.string.isRequired,clippingRect:a.object,aspectRatio:a.number,onChange:a.func,onLoad:a.func},getDefaultProps:function(){return{aspectRatio:1}},getInitialState:function(){return this.components=s({container:HTMLElement,image:o}),{clippingRect:this.props.clippingRect}},componentWillReceiveProps:function(e){this.props.url===e.url&&this.props.clippingRect===e.clippingRect||(this.zoomChangeTimeout&&(clearTimeout(this.zoomChangeTimeout),this.props.url!==e.url&&this.triggerChangeEvent(this.state.clippingRect)),this.setState({clippingRect:e.clippingRect}))},render:function(){var e=this.components.setters,t={ref:e.container,className:"image-cropper",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onWheel:this.handleMouseWheel},n={ref:e.image,url:this.props.url,clippingRect:this.state.clippingRect,onLoad:this.props.onLoad};return i.createElement("div",t,i.createElement(o,n))},componentWillUnmount:function(){this.dragStart&&this.handleMouseUp(),this.zoomChangeTimeout&&(clearTimeout(this.zoomChangeTimeout),this.triggerChangeEvent(this.state.clippingRect))},triggerChangeEvent:function(e){_.isEqual(this.props.clippingRect,e)||this.props.onChange&&this.props.onChange({type:"change",target:this,rect:e})},handleMouseDown:function(e){var t=this.components.image,n=this.components.container;if(t&&n&&this.state.clippingRect){var r=n.getBoundingClientRect();this.dragStart={clippingRect:this.state.clippingRect,pageX:e.pageX,pageY:e.pageY,scale:{x:t.width/r.width,y:t.height/r.height}},document.addEventListener("mousemove",this.handleMouseMove)}},handleMouseMove:function(e){if(e.preventDefault(),this.dragStart){var t={x:e.pageX-this.dragStart.pageX,y:e.pageY-this.dragStart.pageY},n=this.components.image,i=_.clone(this.dragStart.clippingRect);i.left-=Math.round(t.x*this.dragStart.scale.x),i.top-=Math.round(t.y*this.dragStart.scale.y),r(i,n.naturalWidth,n.naturalHeight),this.setState({clippingRect:i})}},handleMouseUp:function(e){this.dragStart&&(document.removeEventListener("mousemove",this.handleMouseMove),this.triggerChangeEvent(this.state.clippingRect),this.dragStart=null)},handleMouseWheel:function(e){var t=this;e.preventDefault();var n=this.components.image,i=this.components.container;if(n&&i&&this.state.clippingRect){var a=i.getBoundingClientRect(),s={x:n.width/a.width,y:n.height/a.height},o=e.deltaY*s.y/4,l=_.clone(this.state.clippingRect);l.width+o>n.naturalWidth&&(o=n.naturalWidth-l.width),l.height+o>n.naturalHeight&&(o=n.naturalHeight-l.height),l.width+=o,l.height+=o;var c={x:e.pageX-a.left,y:e.pageY-a.top},u={x:c.x*(o/n.width),y:c.y*(o/n.height)};l.left-=Math.round(u.x*s.x),l.top-=Math.round(u.y*s.y),r(l,n.naturalWidth,n.naturalHeight),this.setState({clippingRect:l},function(){t.zoomChangeTimeout&&clearTimeout(t.zoomChangeTimeout),t.zoomChangeTimeout=setTimeout(function(){t.triggerChangeEvent(l),t.zoomChangeTimeout=0},1e3)}),this.dragStart&&(this.dragStart={clippingRect:l,pageX:e.pageX,pageY:e.pageY,scale:s})}}})},function(e,t,n){"use strict";function r(e,t){return e<<8|t}function i(e,t){return t<<8|e}function a(e,t,n,r){return e<<24|t<<16|n<<8|r}function s(e,t,n,r){return r<<24|n<<16|t<<8|e}function o(e,t){var n=e.length,i=0;if(65496==r(e[i++],e[i++]))for(;i<n;){var a=r(e[i++],e[i++]),s=r(e[i++],e[i++]);if(65498==a)break;var o=t(a,i,s);if(void 0!==o&&!1!==o)return o;i+=s-2}return-1}function l(e){return o(e,function(t,n){if(65517==t&&80==e[n++]&&104==e[n++]&&111==e[n++]&&116==e[n++]&&111==e[n++]&&115==e[n++]&&104==e[n++]&&111==e[n++]&&112==e[n++]&&32==e[n++]&&51==e[n++]&&46==e[n++]&&48==e[n++])return n})}function c(e,t){for(var n=e.length,i=null,a=t;a+4<n;)if(56==e[a+0]&&66==e[a+1]&&73==e[a+2]&&77==e[a+3]){a+=4;for(var s=r(e[a++],e[a++]),o=e[a++],l="",c=0;c<o;c++)l+=String.fromCharCode(e[a++]);a++;var p=(r(e[a++],e[a++]),r(e[a++],e[a++]));s>=1999&&s<=2998&&(i||(i={}),i[l]=u(e,a,p)),a+=p}else a++;return i}function u(e,t,n){for(var i=n/26,s=0,o=[],l=[],c=t,u=0;u<i;u++){switch(r(e[c++],e[c++])){case 0:case 3:s=r(e[c++],e[c++]),c+=22;break;case 1:case 2:case 4:case 5:for(var p=0;p<3;p++){var d=a(e[c++],e[c++],e[c++],e[c++]),h=a(e[c++],e[c++],e[c++],e[c++]);d>=2147483648?d=(2147483647-d)/16777216:d/=16777216,h>=2147483648?h=(2147483647-h)/16777216:h/=16777216,l.push({x:h,y:d})}s--,0==s&&(l.push(l.shift()),l.push(l[0]),o.push(l),l=[]);break;default:c+=24}}return o}t.getDimensions=function(e){var t=o(e,function(e,t,n){if(65472===e||65474===e)return t});if(t>0){var n=(e[t++],r(e[t++],e[t++]));return{width:r(e[t++],e[t++]),height:n}}},t.getOrientation=function(e){var t=r,n=a,l=o(e,function(r,a,o){if(65505===r){var l=a,c=a+o;if(69==e[l++]&&120==e[l++]&&105==e[l++]&&102==e[l++]&&0==e[l++]&&0==e[l++]){var u=l;"II"===String.fromCharCode(e[l++])+String.fromCharCode(e[l++])&&(t=i,n=s);if(42!==t(e[l++],e[l++]))return;do{var p=n(e[l++],e[l++],e[l++],e[l++]);if(0===p)break;l=u+p;for(var d=t(e[l++],e[l++]),h=0;h<d;h++){var m=t(e[l++],e[l++]),f=t(e[l++],e[l++]),g=n(e[l++],e[l++],e[l++],e[l++]);if(274===m&&3===f&&1===g)return l;l+=4}}while(l<c)}}});if(l>0){return t(e[l++],e[l++])}},t.extractPaths=function(e){var t=l(e);return-1!==t?c(e,t):null}},function(e,t,n){"use strict";function r(e){var t={},n=a.split(e,"&");return a.each(n,function(e){var n=a.split(e,"="),r=decodeURIComponent(n[0]),i=decodeURIComponent(n[1]||"");i=a.replace(i,/\+/g," "),t[r]=i}),t}function i(e){return e.pathname+e.search+e.hash}var a=n(2),s=n(1),o=s.PropTypes,l=n(11);e.exports=s.createClass({displayName:"RouteManager",propTypes:{pages:o.array.isRequired,database:o.instanceOf(l),onChange:o.func,onRedirectionRequest:o.func},getInitialState:function(){return{baseUrl:this.getBaseUrl(),url:null,component:null,parameters:null,query:null,hash:""}},getBaseUrl:function(){var e=document.getElementsByTagName("BASE")[0];if(e){var t=e.getAttribute("href");return a.replace(t,/\/+$/,"")}return""},getUrl:function(){return this.state.url},getComponent:function(){return this.state.component},getParameters:function(){return this.state.parameters},getQuery:function(){return this.state.query},getHash:function(){return this.state.hash},goTo:function(e,t){var n=this.state.baseUrl,r=i(window.location);return r.substr(0,n.length)===n&&"/"===r.charAt(n.length)?(r=r.substr(n.length),this.change(r,t)):Promise.reject(new Error("Cannot route to location not at the base URL: "+n))},find:function(e){var t=e,n="",i=t.indexOf("#");-1!==i&&(n=t.substr(i+1),t=t.substr(0,i));var s={},o=t.indexOf("?");-1!==o&&(s=r(t.substr(o+1)),t=t.substr(0,o));var l=[];a.each(this.props.pages,function(e){if("function"!=typeof e.parseUrl){var r=a.get(e,"displayName","Page");throw new Error(r+" does not implement the static function parseUrl()")}var i=e.parseUrl(t);if(i){var o=e.getUrl(a.assign({},i,s));n&&(o+="#"+n),c={url:o,component:e,parameters:i,query:s,hash:n},l.push(c)}}),l=a.sortBy(l,"route.parameters.match.length");var c=a.last(l)||null;return c},change:function(e,t,n){var r=this;if(this.state.url===e)return Promise.resolve();var i=this.find(e);return i?(this.setState(i,function(){var e=r.state.baseUrl+i.url;t?history.replaceState({},"",e):history.pushState({},"",e),r.triggerChangeEvent()}),Promise.resolve(!0)):n?Promise.reject(new Error("Unable to find page")):this.triggerRedirectionRequest(e).then(function(e){return r.change(e,t,!0)})},triggerChangeEvent:function(){this.props.onChange&&this.props.onChange({type:"change",target:this})},triggerRedirectionRequest:function(e){return this.props.onRedirectionRequest?this.props.onRedirectionRequest({type:"route_request",target:this,url:e}):Promise.reject(new Error("Unable to route URL to a page: "+e))},render:function(){return null},componentDidMount:function(){this.props.database&&this.goTo(window.location,!0).catch(function(e){console.error(e)}),window.addEventListener("popstate",this.handlePopState)},componentDidUpdate:function(e,t){!e.database&&this.props.database&&this.goTo(window.location,!0).catch(function(e){console.error(e)})},componentWillUnmount:function(){window.removeEventListener("popstate",this.handlePopState)},handlePopState:function(e){var t=this,n=i(window.location),r=this.find(n);r&&this.setState(r,function(){t.triggerChangeEvent()})}})},function(e,t,n){"use strict";function r(e){var t;if(t=/^(\d+)\s*vw/.exec(e)){var n=parseInt(t[1]);return Math.round(n*document.body.offsetWidth/100)}if(t=/^(\d+)\s*vh/.exec(e)){var n=parseInt(t[1]);return Math.round(n*document.body.offsetHeight/100)}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(2),s=n(1),o=s.PropTypes,l=n(11),c=n(14);e.exports=s.createClass({displayName:"ThemeManager",propTypes:{modes:o.object,database:o.instanceOf(l),route:o.instanceOf(c),onChange:o.func},getInitialState:function(){return{mode:this.selectMode(),devicePixelRatio:window.devicePixelRatio,details:null,server:window.location.hostname}},getMode:function(){return this.state.mode},getModes:function(){var e=a.sortBy(a.toPairs(this.props.modes),1);a.map(e,0);return a.keys(this.props.modes)},getDetails:function(){return this.state.details},getImageUrl:function(e,t){var n,a=this.state.server,s=[],o=t?t.noClipping:void 0,l=t?t.width:void 0,c=t?t.height:void 0,u=t?t.quality:void 0;if("object"===(void 0===e?"undefined":i(e))){if(n=e.url,e.clip&&!o){var p=[e.clip.left,e.clip.top,e.clip.width,e.clip.height];s.push("cr"+p.join("-"))}}else{if("string"!=typeof e)return;n=e}if(n){"string"==typeof l&&(l=r(l)),"string"==typeof c&&(c=r(c)),1!==this.state.devicePixelRatio&&(l=Math.round(l*this.state.devicePixelRatio),c=Math.round(c*this.state.devicePixelRatio)),void 0!==l&&void 0!==c?s.push("re"+l+"-"+c):void 0===l&&void 0!==c?s.push("h"+c):void 0===c&&void 0!==l&&s.push("w"+l),void 0!==u&&s.push("q"+u);var d="";return s.length>0&&(d="/"+s.join("+")),"http://"+a+n+d}},getVideoUrl:function(e,t){var n,r=this.state.server;if("object"===(void 0===e?"undefined":i(e)))n=e.url;else{if("string"!=typeof e)return;n=e}return"http://"+r+n},getPosterUrl:function(e,t,n){var r={url:e.poster_url,width:e.width,height:e.height,clip:e.clip};return this.getImageUrl(r,t,n)},selectMode:function(){var e=document.body.parentNode.offsetWidth,t="";for(var n in this.props.modes){e>=this.props.modes[n]&&(t=n)}return t},change:function(e){var t=this;return a.isEqual(this.state.details,e)?Promise.resolve(!0):(this.setState({details:e},function(){t.triggerChangeEvent()}),Promise.resolve(!0))},componentWillReceiveProps:function(e){var t=this;if(this.props.route!==e.route){var n=a.get(this.props.route,"parameters.server"),r=a.get(e.route,"parameters.server");"~"===r&&(r=window.location.hostname),n!==r&&this.setState({server:r},function(){t.triggerChangeEvent()})}},componentWillMount:function(){window.addEventListener("resize",this.handleWindowResize)},render:function(){return null},componentDidMount:function(){this.change(u)},componentDidUpdate:function(e,t){var n=this;if(!e.database&&this.props.database){var r=this.props.database.use({by:this,schema:"local"});r.start().then(function(){return r.findOne({table:"settings",key:"theme"})}).then(function(e){e&&e.theme&&n.change(e.theme)})}},componentWillUnmount:function(){window.removeEventListener("resize",this.handleWindowResize)},triggerChangeEvent:function(){this.props.onChange&&this.props.onChange({type:"change",target:this})},handleWindowResize:function(e){var t=this,n={},r=this.selectMode();this.state.mode!==r&&(n.mode=r),this.state.devicePixelRatio!==window.devicePixelRatio&&(n.devicePixelRatio=window.devicePixelRatio),a.isEmpty(n)||this.setState(n,function(){t.triggerChangeEvent()})}});var u={}},function(e,t,n){"use strict";function r(){this.parts=[],this.closed=!1,this.error=null,this.pullResult=null,this.waitResult=null,this.id=null}function i(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}var a=n(2);e.exports=r,r.prototype.toBlob=function(){var e=a.map(this.parts,"blob");if(e.length>1){var t=e[0].type;return new Blob(e,{type:t})}return 1===e.length?e[0]:new Blob},r.prototype.toJSON=function(){return this.id},r.prototype.push=function(e){this.parts.push({blob:e,sent:!1}),this.pullResult&&(this.pullResult.resolve(e),this.pullResult=null)},r.prototype.close=function(){this.closed=!0,a.find(this.parts,{sent:!1})||(this.pullResult&&(this.pullResult.resolve(null),this.pullResult=null),this.waitResult&&(this.waitResult.resolve(),this.waitResult=null))},r.prototype.pull=function(){var e=a.find(this.parts,{sent:!1});return e?Promise.resolve(e.blob):this.closed?Promise.resolve(null):(this.pullResult||(this.pullResult=i()),this.pullResult.promise)},r.prototype.finalize=function(e){var t=a.find(this.parts,{blob:e});if(t&&(t.sent=!0),this.waitResult){!a.find(this.parts,{sent:!1})&&this.closed&&this.waitResult.resolve()}},r.prototype.abandon=function(e){this.error=e,this.waitResult&&this.waitResult.reject(e)},r.prototype.wait=function(){if(this.closed){if(this.error)return Promise.reject(this.error);if(!a.find(this.parts,{sent:!1}))return Promise.resolve()}return this.waitResult||(this.waitResult=i()),this.waitResult.promise}},function(e,t,n){"use strict";var r=n(2),i=n(15),a=n(1),s=a.PropTypes,o=n(0),l=n(87),c=n(362),u=n(144),p=n(11),d=n(14);e.exports=a.createClass({displayName:"PayloadManager",propTypes:{database:s.instanceOf(p),route:s.instanceOf(d),onChange:s.func},getInitialState:function(){return{payloads:[]}},getBaseUrl:function(){var e=this.getDatabase(),t=e.context.server;return e.context.protocol+"//"+t},getDatabase:function(){var e=this.props.route,t=e.parameters.server,n=e.parameters.schema||"global";return this.props.database.use({server:t,schema:n,by:this})},getSchema:function(){return this.getDatabase().context.schema},queue:function(e,t){var n=this,a=this.getAction(e);return a?this.createTask(a,t).then(function(t){var i=r.pick(e,"file","poster_file","stream","external_url","external_poster_url","url"),a=r.assign({payload_id:t.id,action:t.action,token:t.token,start:o(),transferred:0,total:0,promise:null},i),s=r.concat(n.state.payloads,a);return n.setState({payloads:s},function(){n.triggerChangeEvent()}),a.payload_id}):i.resolve(null)},getAction:function(e){switch(e.type){case"image":if(!e.url){if(e.file instanceof Blob)return"upload image";if(e.stream)return"copy image";if(e.external_url)return"copy image"}break;case"audio":if(!e.url){if(e.file instanceof Blob)return"upload and transcode audio";if(e.external_url)return"copy and transcode audio";if(e.stream)return"copy and transcode audio"}break;case"video":if(!e.url){if(e.file instanceof Blob)return"upload and transcode video";if(e.external_url)return"copy and transcode video";if(e.stream)return"copy and transcode video"}break;case"website":if(!e.poster_url&&e.url)return"generate website poster"}},createTask:function(e,t){var n=this.getDatabase();return n.start().then(function(r){var i={action:e,options:t,user_id:r};return n.saveOne({table:"task"},i)})},find:function(e){var t,n=this,i=r.keys(e);return r.each(i,function(i){return!(t=r.find(n.state.payloads,r.pick(e,i)))}),t},send:function(e){var t=this,n=r.find(this.state.payloads,{payload_id:e});if(n&&!n.promise){var i={responseType:"json",onProgress:function(n){t.updatePayloadStatus(e,{transferred:n.loaded,total:n.total})}},a=this.getFormData(n),s=this.getUrl(n),o=l.fetch("POST",s,a,i).then(function(n){var i=r.assign({done:!0},n);t.updatePayloadStatus(e,i)});n.promise=o}},getFormData:function(e){var t=new FormData,n=r.pick(e,"file","poster_file","stream","external_url","external_poster_url","url");return r.forIn(n,function(e,n){e instanceof c&&(e=e.id),t.append(n,e)}),t},getUrl:function(e){var t=this.getSchema(),n=this.getBaseUrl(),r=e.payload_id;switch(e.action){case"upload image":case"copy image":n+="/media/images/upload/"+t+"/"+r;break;case"copy and transcode video":case"upload and transcode video":n+="/media/videos/upload/"+t+"/"+r;break;case"copy and transcode audio":case"upload and transcode audio":n+="/media/audios/upload/"+t+"/"+r;break;case"generate website poster":n+="/media/html/screenshot/"+t+"/"+r;break;default:return}return n+="?token="+e.token},stream:function(e){var t=this.getBaseUrl(),n=0,r=!1;u.do(function(){return e.pull().then(function(n){t+="/media/stream",e.id&&(t+="/"+e.id);var i=new FormData;n?i.append("file",n):r=!0;var a={responseType:"json"};return l.fetch("POST",t,i,a).then(function(t){e.id||(e.id=t.id),n&&e.finalize(n)})}).catch(function(e){if(++n<1)return i.delay(5e3);throw e})}),u.while(function(){return!r}),u.end().catch(function(t){e.abandon(t)})},updatePayloadStatus:function(e,t){var n=this,i=r.map(this.state.payloads,function(n){return n.payload_id===e?r.assign({},n,t):n});this.setState({payloads:i},function(){n.triggerChangeEvent()})},render:function(){return null},componentDidUpdate:function(e){!e.database&&this.props.database&&this.triggerChangeEvent()},triggerChangeEvent:function(){this.props.onChange&&this.props.onChange({type:"change",target:this})}})},function(e,t,n){"use strict";function r(e){try{return JSON.parse(e)}catch(e){}}function i(){return new s(function(e,t){Notification.requestPermission(function(n){"granted"===n?e():t(new Error("Unable to gain permission"))})})}var a=n(2),s=n(15),o=n(1),l=o.PropTypes,c=n(582),u=n(144),p=n(6);e.exports=o.createClass({displayName:"WebsocketNotifier",propTypes:{initialReconnectionDelay:l.number,maximumReconnectionDelay:l.number,defaultProfileImage:l.string,locale:l.instanceOf(p),onNotify:l.func,onAlertClick:l.func},statics:{isAvailable:function(){return!0}},getDefaultProps:function(){return{initialReconnectionDelay:500,maximumReconnectionDelay:3e4}},getInitialState:function(){return{protocol:"",server:"",socket:null,showingAlert:!1}},connect:function(e,t,n){var i=this;if(this.state.protocol===e&&this.state.server===t)return s.resolve(!0);if(this.state.socket){var o=this.state.socket;this.setState({socket:null,protocol:"",server:""},function(){o.close()})}var l=this.connectionAttempt;if(l&&l.server===t)return l.promise;l=this.connectionAttempt={server:t};var c=!1,p=this.props.initialReconnectionDelay,d=this.props.maximumReconnectionDelay;return u.do(function(){return i.createSocket(e,t,n).then(function(s){if(l===i.connectionAttempt){i.connectionAttempt=null;var o=a.get(i.props.locale,"languageCode","en"),u={authorization:{token:n,locale:o}};s.send(JSON.stringify(u)),s.onmessage=function(e){if(i.state.socket===s){var t=r(e.data);t.changes?i.triggerNotifyEvent(t.changes):t.alert&&i.showAlert(t.alert)}},s.onclose=function(){i.state.socket===s&&i.setState({socket:null,server:""},function(){console.log("Reestablishing web-socket connection..."),i.connect(e,t,n).then(function(){console.log("Connection reestablished")})})},i.setState({socket:s,protocol:e,server:t})}c=!0}).catch(function(e){return p*=2,p>d&&(p=d),s.delay(p)})}),u.while(function(){return l===i.connectionAttempt&&!c}),u.return(function(){return c}),l.promise=u.end(),l.promise},createSocket:function(e,t,n){return new s(function(n,r){var i=e+"//"+t+"/socket",a=new c(i),s=!1;a.onopen=function(e){s||(s=!0,n(a))},a.onclose=function(){s||r(new Error("Unable to establish a connection"))},a.onerror=function(e){s||(s=!0,r(new Error(e.message)))}})},triggerNotifyEvent:function(e){this.props.onNotify&&this.props.onNotify({type:"notify",target:this,protocol:this.state.protocol,server:this.state.server,changes:e})},triggerAlertClickEvent:function(e){this.props.onAlertClick&&this.props.onAlertClick({type:"alertclick",target:this,alert:e})},componentWillMount:function(){var e=this;i().then(function(){e.setState({showingAlert:!0})}).catch(function(e){})},showAlert:function(e){var t=this;if(this.state.showingAlert){var n={},r=this.state.server,i=this.state.protocol;e.profile_image?n.icon=i+"//"+r+e.profile_image:n.icon=this.props.defaultProfileImage,e.message?n.body=e.message:e.attached_image&&(n.image=i+"//"+r+e.attached_image),console.log(n),n.lang=this.props.locale.languageCode;var a=new Notification(e.title,n);a.addEventListener("click",function(){t.triggerAlertClickEvent(e),a.close()})}},render:function(){return null}})},function(e,t,n){"use strict";function r(e,t){"change"===e&&t&&c.push(t)}function i(e,t){"change"===e&&t&&s.pull(c,t)}function a(e){return e.format("YYYY-MM-DD")}var s=n(2),o=n(0),l=o();t.addEventListener=r,t.removeEventListener=i,t.today=a(l);var c=[];setInterval(function(){var e=o(),n=a(e);if(n!==t.today){t.today=n;var r={type:"change",target:t};s.each(c,function(e){e(r)})}},1e3)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(2),a={};i.mixin({decouple:function(e,t,n){"string"==typeof t?t=i.split(t,"."):t instanceof Array||(t=[t]),n||(n=a);var r=i.clone(e);r instanceof Object||(r={});for(var s=r,o=e,l=0;l<t.length;l++){var c=t[l],u=o?o[c]:void 0,p=i.clone(u);l===t.length-1?p instanceof n.constructor||(p=n):p instanceof Object||(p={}),s[c]=p,s=p,o=u}return r},decoupleSet:function(e,t,n){if("string"==typeof t?t=i.split(t,"."):t instanceof Array||(t=[t]),t.length<0)throw new Error("Empty path");var r=i.slice(t,0,-1),a=i.decouple(e,r,{});return i.set(a,t,n),a},decoupleUnset:function(e,t){if("string"==typeof t?t=i.split(t,"."):t instanceof Array||(t=[t]),t.length<0)throw new Error("Empty path");var n=i.slice(t,0,-1),r=i.decouple(e,n,{});return i.unset(r,t),r},decouplePush:function(e,t){for(var n=i.decouple(e,t,[]),r=i.get(n,t),a=arguments.length,s=Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];return Array.prototype.push.apply(r,s),n},shallowDiff:function(e,t){return i.pickBy(e,function(e,n){return t[n]!==e})},obscure:function(e,t){var n=i.clone(e);return i.each(t,function(e){var t=i.get(n,e);switch(void 0===t?"undefined":r(t)){case"number":t=0;break;case"string":t=i.repeat("x",t.length);break;case"boolean":t=!1;break;default:return}i.set(n,e,t)}),n}})},function(e,t,n){"use strict";var r=n(2),i=n(1),a=i.PropTypes,s=(n(79),n(368)),o=n(30);n(609),e.exports=i.createClass({displayName:"Chartist",propTypes:{type:a.oneOf(["line","bar","pie"]).isRequired,data:a.object.isRequired,className:a.string,options:a.object,responsiveOptions:a.array,style:a.object,onDraw:a.func},getInitialState:function(){return this.components=o({container:HTMLDivElement}),{}},componentWillReceiveProps:function(e){this.props.onDraw!==e.onDraw&&(this.chartist?this.chartist.off(this.props.onDraw):this.chartist.on(e.onDraw))},render:function(){var e=["ct-chart"];this.props.className&&e.push(this.props.className);var t={ref:this.components.setters.container,className:e.join(" "),style:this.props.style};return i.createElement("div",t)},componentDidUpdate:function(e,t){e.type!==this.props.type?(this.destroyChart(),this.createChart()):e.data===this.props.data&&e.options===this.props.options&&e.responsiveOptions===this.props.responsiveOptions||this.updateChart()},componentDidMount:function(){this.createChart()},createChart:function(){var e=s[r.upperFirst(this.props.type)],t=this.components.container;this.chartist=new e(t,this.props.data,this.props.options,this.props.responsiveOptions),this.props.onDraw&&this.chartist.on("draw",this.props.onDraw)},updateChart:function(){this.chartist.update(this.props.data,this.props.options,this.props.responsiveOptions)},destroyChart:function(){this.chartist&&this.chartist.detach();var e=this.components.container;if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}}),e.exports.Interpolation=s.Interpolation,e.exports.Svg=s.Svg},,,function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,"* {\n  box-sizing: border-box;\n  font-family: sans-serif; }\n  *:focus {\n    outline-color: #fca326; }\n\nbody {\n  overflow: hidden; }\n\n.application {\n  position: absolute;\n  display: flex;\n  flex-direction: row;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  height: 100%;\n  width: 100%; }\n\n.page-view-port {\n  flex: 3 1 800px;\n  position: relative;\n  background-color: #fff;\n  overflow: auto;\n  padding: 0 2em 0 2em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".confirmation-dialog-box {\n  background-color: #006699;\n  color: #ffffff;\n  max-width: 50vw;\n  padding: 1em 1em 1em 1em;\n  box-shadow: 5px 5px 4px #000000; }\n  .confirmation-dialog-box .message {\n    font-size: 1.6em;\n    margin-bottom: 0.5em; }\n  .confirmation-dialog-box .buttons {\n    border-top: 1px solid #ffffff;\n    text-align: right;\n    padding-top: 1em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,'.image-album-dialog-box {\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  background-color: #006699;\n  color: #ffffff;\n  width: 80vw;\n  max-height: 60vh;\n  padding: 1em 1em 1em 1em;\n  box-shadow: 5px 5px 4px #000000; }\n  .image-album-dialog-box .scrollable {\n    flex-grow: 1;\n    flex-shrink: 1;\n    flex-basis: auto;\n    margin-bottom: 0.5em;\n    min-height: 30vh;\n    text-align: center;\n    overflow: auto; }\n    .image-album-dialog-box .scrollable .picture {\n      display: inline-block;\n      border: 5px solid #ffffff;\n      margin: 0.3em 0.4em 0.3em 0.4em;\n      cursor: pointer; }\n      .image-album-dialog-box .scrollable .picture IMG, .image-album-dialog-box .scrollable .picture CANVAS {\n        display: block; }\n      .image-album-dialog-box .scrollable .picture.selected {\n        border-color: #99ddff; }\n      .image-album-dialog-box .scrollable .picture.deleting {\n        border-color: #ff9999; }\n      .image-album-dialog-box .scrollable .picture.disabled {\n        cursor: wait; }\n  .image-album-dialog-box .buttons {\n    flex-grow: 0;\n    flex-shrink: 0;\n    flex-basis: auto;\n    border-top: 1px solid #ffffff;\n    padding-top: 0.8em; }\n    .image-album-dialog-box .buttons .left {\n      float: left; }\n    .image-album-dialog-box .buttons .right {\n      float: right; }\n    .image-album-dialog-box .buttons label.push-button {\n      display: inline-block;\n      vertical-align: top;\n      user-select: none; }\n      .image-album-dialog-box .buttons label.push-button INPUT[type="file"] {\n        position: absolute;\n        z-index: -50000;\n        width: 1px;\n        height: 1px; }\n  .image-album-dialog-box .drop-target {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    border: 4px solid #ffff66;\n    background-color: rgba(255, 255, 102, 0.2); }\n',""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".image-cropping-dialog-box {\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  background-color: #006699;\n  color: #ffffff;\n  padding: 1em 1em 1em 1em;\n  box-shadow: 5px 5px 4px #000000; }\n  .image-cropping-dialog-box .image {\n    max-width: 80vw;\n    max-height: 80vh;\n    margin-bottom: 0.8em; }\n  .image-cropping-dialog-box .buttons {\n    flex-grow: 0;\n    flex-shrink: 0;\n    flex-basis: auto;\n    border-top: 1px solid #ffffff;\n    padding-top: 0.8em; }\n    .image-cropping-dialog-box .buttons .left {\n      float: left; }\n    .image-cropping-dialog-box .buttons .right {\n      float: right; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".member-list-page .buttons {\n  float: right;\n  margin-left: 0.4em; }\n\n.member-list-page .sortable-table TR.pending {\n  opacity: 0.25; }\n\n.member-list-page .sortable-table .badge {\n  float: right;\n  margin-top: 0.2em; }\n  .member-list-page .sortable-table .badge.add {\n    color: #009900; }\n  .member-list-page .sortable-table .badge.remove {\n    color: #cc0000; }\n\n.member-list-page .sortable-table #type {\n  width: 10em; }\n\n.member-list-page .sortable-table #roles {\n  width: 10em; }\n\n.member-list-page .sortable-table #range {\n  width: 14em; }\n\n.member-list-page .sortable-table #to_date, .member-list-page .sortable-table #last_month, .member-list-page .sortable-table #this_month {\n  width: 8em; }\n\n.member-list-page .sortable-table #mtime {\n  width: 10em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".project-list-page .buttons {\n  float: right; }\n\n.project-list-page .sortable-table #users {\n  width: 10em; }\n\n.project-list-page .sortable-table #repos {\n  width: 10em; }\n\n.project-list-page .sortable-table #range {\n  width: 14em; }\n\n.project-list-page .sortable-table #to_date, .project-list-page .sortable-table #last_month, .project-list-page .sortable-table #this_month {\n  width: 8em; }\n\n.project-list-page .sortable-table #mtime {\n  width: 10em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".project-summary-page .buttons {\n  float: right; }\n\n.project-summary-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n\n.project-summary-page .instructions {\n  padding-top: 1.2em; }\n\n.project-summary-page .statistics {\n  clear: both; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".repo-list-page .buttons {\n  float: right; }\n\n.repo-list-page .sortable-table .badge {\n  float: right;\n  position: relative;\n  margin-right: 0.35em; }\n  .repo-list-page .sortable-table .badge svg {\n    height: 1em;\n    margin-bottom: -0.2em;\n    border-bottom-right-radius: 0.7em; }\n  .repo-list-page .sortable-table .badge .sign {\n    font-size: 0.75em;\n    position: absolute;\n    display: block;\n    right: -0.45em;\n    bottom: -0.1em; }\n  .repo-list-page .sortable-table .badge.add {\n    color: #009900;\n    fill: #009900; }\n  .repo-list-page .sortable-table .badge.remove {\n    color: #cc0000;\n    fill: #cc0000; }\n\n.repo-list-page .sortable-table #type {\n  width: 12em; }\n\n.repo-list-page .sortable-table #server {\n  width: 12em; }\n\n.repo-list-page .sortable-table #issues_enabled {\n  width: 8em; }\n\n.repo-list-page .sortable-table #range {\n  width: 14em; }\n\n.repo-list-page .sortable-table #to_date, .repo-list-page .sortable-table #last_month, .repo-list-page .sortable-table #this_month {\n  width: 8em; }\n\n.repo-list-page .sortable-table #mtime {\n  width: 10em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".repo-summary-page .buttons {\n  float: right; }\n\n.repo-summary-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n\n.repo-summary-page .instructions {\n  padding-top: 1.2em; }\n\n.repo-summary-page .statistics {\n  clear: both; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".robot-list-page .buttons {\n  float: right; }\n\n.robot-list-page .sortable-table #mtime {\n  width: 12em; }\n\n.robot-list-page .sortable-table #users {\n  width: 10em; }\n\n.robot-list-page .sortable-table #mtime {\n  width: 12em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".robot-summary-page .buttons {\n  float: right; }\n\n.robot-summary-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n\n.robot-summary-page .instructions {\n  padding-top: 1.2em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".role-list-page .buttons {\n  float: right; }\n\n.role-list-page .sortable-table #mtime {\n  width: 12em; }\n\n.role-list-page .sortable-table #users {\n  width: 10em; }\n\n.role-list-page .sortable-table #mtime {\n  width: 12em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".role-summary-page .buttons {\n  float: right; }\n\n.role-summary-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n\n.role-summary-page .instructions {\n  padding-top: 1.2em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".server-list-page .buttons {\n  float: right; }\n\n.server-list-page .sortable-table #type {\n  width: 10em; }\n\n.server-list-page .sortable-table #oauth {\n  width: 12em; }\n\n.server-list-page .sortable-table #api {\n  width: 12em; }\n\n.server-list-page .sortable-table #users {\n  width: 10em; }\n\n.server-list-page .sortable-table #mtime {\n  width: 10em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".server-summary-page .buttons {\n  float: right; }\n\n.server-summary-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n\n.server-summary-page .instructions {\n  padding-top: 1.2em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".settings-page .buttons {\n  float: right; }\n\n.settings-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n\n.settings-page .instructions {\n  padding-top: 1.2em; }\n\n.settings-page .option-list .pos {\n  background-color: #000000;\n  color: #eeeeee;\n  display: inline-block;\n  font-size: 0.7em;\n  padding: 0.1em 0.4em 0.1em 0.4em;\n  border-radius: 1em;\n  vertical-align: 0.07em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".sign-in-page FORM {\n  max-width: 20em; }\n  .sign-in-page FORM .button-row {\n    text-align: right; }\n\n.sign-in-page .oauth-buttons {\n  max-width: 20em; }\n  .sign-in-page .oauth-buttons .oauth-button {\n    display: block;\n    padding: 1em 1em 1em 1em;\n    margin-bottom: 0.5em;\n    width: 100%;\n    background-color: transparent;\n    border: 1px solid #000000;\n    text-align: left; }\n    .sign-in-page .oauth-buttons .oauth-button:not(:disabled).emphasized, .sign-in-page .oauth-buttons .oauth-button:not(:disabled):hover, .sign-in-page .oauth-buttons .oauth-button:not(:disabled):active {\n      background-color: #99ddff; }\n    .sign-in-page .oauth-buttons .oauth-button:link, .sign-in-page .oauth-buttons .oauth-button:visited {\n      text-decoration: none;\n      color: #000000; }\n    .sign-in-page .oauth-buttons .oauth-button .fa {\n      width: 1.2em;\n      margin-right: 1em;\n      text-align: center;\n      font-size: 2em;\n      vertical-align: middle; }\n    .sign-in-page .oauth-buttons .oauth-button .label {\n      font-size: 1.4em;\n      vertical-align: middle; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".user-list-page .buttons {\n  float: right; }\n\n.user-list-page .sortable-table .badge {\n  float: right;\n  margin-top: 0.2em; }\n  .user-list-page .sortable-table .badge.add {\n    color: #009900; }\n\n.user-list-page .sortable-table #type {\n  width: 10em; }\n\n.user-list-page .sortable-table #roles {\n  width: 10em; }\n\n.user-list-page .sortable-table #projects {\n  width: 12em; }\n\n.user-list-page .sortable-table #email {\n  width: 12em; }\n\n.user-list-page .sortable-table #mtime {\n  width: 10em; }\n\n.user-list-page .sortable-table .email {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".user-summary-page .buttons {\n  float: right; }\n\n.user-summary-page .form {\n  float: left;\n  max-width: 40em;\n  min-width: 20em;\n  width: 50%;\n  padding-left: 0.5em;\n  margin-right: 2em; }\n  .user-summary-page .form.social {\n    clear: left; }\n\n.user-summary-page .social-toggle {\n  float: left;\n  clear: left;\n  margin-top: 0;\n  cursor: pointer; }\n  .user-summary-page .social-toggle:hover {\n    color: #004466; }\n\n.user-summary-page .instructions {\n  padding-top: 1.2em; }\n\n.user-summary-page .statistics {\n  clear: both; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".tooltip.activity .window {\n  padding-bottom: 0.2em; }\n\n.tooltip.activity .item {\n  margin-bottom: 2px; }\n\n.tooltip.activity .icon {\n  height: 1.1em;\n  vertical-align: middle;\n  margin-bottom: 0.2em;\n  margin-right: 0.2em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".tooltip.project .item {\n  margin-bottom: 0.2em; }\n\n.tooltip.project .bottom {\n  font-size: 0.9em;\n  text-align: center;\n  border-top: 1px solid #999999;\n  padding-top: 0.2em; }\n  .tooltip.project .bottom A {\n    display: block; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".tooltip.repository .item {\n  margin-bottom: 0.2em; }\n\n.tooltip.repository .bottom {\n  font-size: 0.9em;\n  text-align: center;\n  border-top: 1px solid #999999;\n  padding-top: 0.2em; }\n  .tooltip.repository .bottom A {\n    display: block; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".tooltip.role .item {\n  margin-bottom: 0.2em; }\n\n.tooltip.role .bottom {\n  font-size: 0.9em;\n  text-align: center;\n  border-top: 1px solid #999999;\n  padding-top: 0.2em; }\n  .tooltip.role .bottom A {\n    display: block; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".tooltip.user .item {\n  margin-bottom: 2px;\n  vertical-align: middle; }\n\n.tooltip.user .ellipsis {\n  text-align: center;\n  color: #999999;\n  padding-bottom: 0.2em; }\n\n.tooltip.user .profile-image {\n  width: 1.5em;\n  height: 1.5em;\n  vertical-align: middle; }\n\n.tooltip.user .bottom {\n  font-size: 0.9em;\n  text-align: center;\n  border-top: 1px solid #999999;\n  padding-top: 0.2em; }\n  .tooltip.user .bottom A {\n    display: block; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".activity-chart {\n  margin-bottom: 1em; }\n  .activity-chart h2 {\n    float: left;\n    margin: 0; }\n  .activity-chart .legend {\n    text-align: right;\n    font-size: 0.8em;\n    margin-bottom: 1em;\n    margin-right: 30px; }\n    .activity-chart .legend .item {\n      display: inline-block;\n      white-space: nowrap;\n      margin-left: 0.6em; }\n      .activity-chart .legend .item .ct-chart-bar {\n        width: 0.8em;\n        height: 0.8em;\n        vertical-align: middle;\n        margin-right: 0.3em; }\n      .activity-chart .legend .item .label {\n        vertical-align: middle; }\n  .activity-chart .scroll-container {\n    width: 100%;\n    display: flex;\n    flex-direction: row-reverse;\n    overflow-y: hidden;\n    overflow-x: auto;\n    clear: both; }\n    .activity-chart .scroll-container .contents {\n      flex-grow: 0;\n      flex-shrink: 0;\n      min-width: 100%; }\n  .activity-chart .ct-label.ct-horizontal.ct-end {\n    min-width: 10em;\n    justify-content: flex-start;\n    text-align: left; }\n  .activity-chart .ct-label.ct-vertical.ct-start {\n    justify-content: flex-start;\n    text-align: left; }\n  .activity-chart .ct-line {\n    stroke-linecap: round;\n    stroke-width: 2px; }\n  .activity-chart .ct-grid.ct-horizontal.month-start {\n    stroke: #000000;\n    stroke-width: 1px;\n    stroke-dasharray: none; }\n  .activity-chart .ct-grid.ct-horizontal.today {\n    stroke-width: 1px;\n    stroke-dasharray: none; }\n  .activity-chart .ct-chart svg {\n    margin-bottom: -0.75em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,'.image-selector {\n  margin-bottom: 1em;\n  overflow: hidden; }\n  .image-selector label {\n    display: block;\n    font-weight: 600; }\n  .image-selector .contents {\n    margin-top: 4px; }\n    .image-selector .contents .image {\n      float: left;\n      z-index: 1; }\n      .image-selector .contents .image A {\n        display: block; }\n      .image-selector .contents .image .placeholder {\n        display: block;\n        position: relative;\n        background-color: #eeeeee; }\n        .image-selector .contents .image .placeholder .fa {\n          display: block;\n          position: absolute;\n          font-size: 2em;\n          top: 0;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          margin: auto;\n          height: 1em;\n          width: 1em; }\n    .image-selector .contents .options {\n      float: left;\n      margin-left: 0.35em;\n      transition: opacity 1s;\n      z-index: 0;\n      overflow: hidden; }\n      .image-selector .contents .options .option {\n        display: block;\n        font-weight: normal;\n        padding: 0.25em 0.4em 0.15em 0.4em;\n        cursor: pointer; }\n        .image-selector .contents .options .option INPUT[type="file"] {\n          position: absolute;\n          z-index: -50000;\n          width: 1px;\n          height: 1px; }\n        .image-selector .contents .options .option:hover {\n          background-color: #99ddff; }\n        .image-selector .contents .options .option.disabled {\n          cursor: default;\n          color: #999999; }\n          .image-selector .contents .options .option.disabled:hover {\n            background-color: transparent; }\n  .image-selector.readonly .options {\n    opacity: 0; }\n    .image-selector.readonly .options .option {\n      cursor: default; }\n',""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".input-error {\n  font-weight: normal;\n  float: right;\n  color: #cc0000; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".instruction-block {\n  transition: opacity 0.5s linear 0.5s;\n  opacity: 1; }\n  .instruction-block .contents {\n    overflow: hidden;\n    padding: 0 1em 0 1em;\n    min-width: 15em;\n    margin-bottom: 1em;\n    background: #99ddff;\n    background: linear-gradient(135deg, transparent 0.6em, #99ddff 0) top left, linear-gradient(225deg, transparent 0.6em, #99ddff 0) top right, linear-gradient(315deg, transparent 0.6em, #99ddff 0) bottom right, linear-gradient(45deg, transparent 0.6em, #99ddff 0) bottom left;\n    background-size: 51% 51%;\n    background-repeat: no-repeat; }\n  .instruction-block .collapsible-container {\n    transition: height 1s;\n    overflow: visible; }\n    .instruction-block .collapsible-container.collapsing {\n      transition: height 1s linear 0.5s; }\n  .instruction-block.hidden {\n    opacity: 0; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".multilingual-text-field {\n  margin-bottom: 1em; }\n  .multilingual-text-field label {\n    display: block;\n    font-weight: 600; }\n  .multilingual-text-field input[type=text],\n  .multilingual-text-field textarea {\n    display: block;\n    width: 100%;\n    transition: border-color 1s ease-out;\n    border: 1px solid #000000;\n    font-size: 1em;\n    margin-top: 2px;\n    margin-bottom: 0;\n    padding: 2px 2px 1px 4px; }\n  .multilingual-text-field textarea {\n    resize: none; }\n  .multilingual-text-field.multiple-languages input[type=text],\n  .multilingual-text-field.multiple-languages textarea {\n    border-bottom: 0;\n    padding-bottom: 2px; }\n  .multilingual-text-field .tabs {\n    display: flex;\n    flex-direction: row;\n    position: relative;\n    background-color: #000000;\n    border: 1px solid #000000;\n    border-top: 0;\n    transition: border-color 1s ease-out; }\n  .multilingual-text-field .tab {\n    flex: 1 1 auto;\n    text-align: center;\n    font-variant: small-caps;\n    color: #ffffff;\n    font-size: 0.8em;\n    padding: 0.25em 0 0.25em 0;\n    transition: font-size 0.25s;\n    cursor: pointer; }\n    .multilingual-text-field .tab.selected {\n      color: #000000;\n      background-size: 100% 100%;\n      background-repeat: no-repeat;\n      background: linear-gradient(45deg, transparent 1.2em, #fff 0) bottom left;\n      cursor: default; }\n      .multilingual-text-field .tab.selected:first-child {\n        background: linear-gradient(315deg, transparent 1.2em, #fff 0) bottom right; }\n  .multilingual-text-field .bubble {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: -3em; }\n    .multilingual-text-field .bubble .arrow {\n      position: absolute;\n      top: 0;\n      left: 8px;\n      width: 0;\n      height: 0;\n      border: 8px solid transparent;\n      border-bottom-color: #e0e0e0;\n      border-top: 0;\n      margin-left: -8px;\n      margin-top: -8px; }\n    .multilingual-text-field .bubble .box {\n      background: #e0e0e0;\n      box-shadow: 3px 3px 3px 0px rgba(0, 0, 0, 0.5);\n      padding: 6px 4px 4px 4px;\n      margin-left: 1em;\n      margin-right: 1em; }\n  .multilingual-text-field.readonly input[type=text],\n  .multilingual-text-field.readonly textarea {\n    border-color: #ffffff;\n    cursor: text;\n    outline: none; }\n  .multilingual-text-field.readonly .tabs {\n    background-color: #ffffff;\n    border-color: #ffffff; }\n  .multilingual-text-field.readonly .tab {\n    color: #999999; }\n    .multilingual-text-field.readonly .tab .selected {\n      color: #000000; }\n  .multilingual-text-field.collapsed .tab {\n    font-size: 0; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".navigation-tree {\n  position: relative; }\n  .navigation-tree .level1 {\n    font-size: 1.4em;\n    padding-left: 2em;\n    margin-bottom: 0.5em; }\n  .navigation-tree .level2 {\n    font-size: 0.8em;\n    padding-left: 0.5em;\n    margin-top: 0.2em;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap; }\n  .navigation-tree .level3 {\n    font-size: 0.95em;\n    padding-left: 0.6em;\n    margin-top: 0.2em; }\n  .navigation-tree .level4 {\n    font-size: 0.95em;\n    padding-left: 0.5em;\n    margin-top: 0.2em;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap; }\n  .navigation-tree A {\n    cursor: default; }\n    .navigation-tree A:link, .navigation-tree A:visited {\n      color: #ffffff;\n      text-decoration: none;\n      cursor: pointer; }\n      .navigation-tree A:link:hover, .navigation-tree A:visited:hover {\n        color: #99ddff; }\n  .navigation-tree .collapsible-container {\n    transition: height .25s; }\n  .navigation-tree .arrow {\n    position: absolute;\n    font-size: 1.2em;\n    left: 16px;\n    opacity: 1;\n    transition: top 0.5s, opacity 0.8s; }\n    .navigation-tree .arrow .second, .navigation-tree .arrow .third, .navigation-tree .arrow .fourth {\n      position: absolute;\n      transition: left 0.3s; }\n    .navigation-tree .arrow.extending .second, .navigation-tree .arrow.extending .third, .navigation-tree .arrow.extending .fourth {\n      transition: left 0.3s linear 0.3s; }\n    .navigation-tree .arrow.retracting {\n      transition: top 0.5s linear 0.2s, opacity 0.8s linear 0.2s; }\n    .navigation-tree .arrow.zero {\n      visibility: hidden;\n      opacity: 0; }\n    .navigation-tree .arrow.one .second, .navigation-tree .arrow.one .third, .navigation-tree .arrow.one .fourth {\n      left: 0px; }\n    .navigation-tree .arrow.two .second, .navigation-tree .arrow.two .third, .navigation-tree .arrow.two .fourth {\n      left: 0.5em; }\n    .navigation-tree .arrow.three .second {\n      left: 0.5em; }\n    .navigation-tree .arrow.three .third, .navigation-tree .arrow.three .fourth {\n      left: 1em; }\n    .navigation-tree .arrow.four .second {\n      left: 0.5em; }\n    .navigation-tree .arrow.four .third {\n      left: 1em; }\n    .navigation-tree .arrow.four .fourth {\n      left: 1.5em; }\n  .navigation-tree.disabled A {\n    color: #2483b3; }\n  .navigation-tree.disabled .arrow {\n    opacity: 0; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".option-list {\n  margin-bottom: 1em; }\n  .option-list label {\n    display: block;\n    font-weight: 600; }\n  .option-list .container {\n    margin-top: 3px;\n    border: 1px solid #000000;\n    transition: border-color 1s ease-out;\n    max-height: 30em;\n    overflow: auto;\n    clear: both; }\n  .option-list .sortable-table TD {\n    padding-left: 4px; }\n  .option-list .badge {\n    float: right;\n    margin-top: 0.1em; }\n    .option-list .badge.add {\n      color: #009900; }\n    .option-list .badge.remove {\n      color: #cc0000; }\n  .option-list.readonly .container {\n    border-color: #ffffff; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".profile-image.small {\n  width: 1.5em;\n  height: 1.5em;\n  vertical-align: middle; }\n\n.profile-image.large {\n  width: 6em;\n  height: 6em;\n  vertical-align: middle; }\n\nsvg.profile-image {\n  background-color: #999999; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".push-button {\n  font-size: 1.2em;\n  padding: 0.14em 0.5em 0.14em 0.5em;\n  background-color: #cccccc;\n  border: 2px outset #eeeeee;\n  color: #000000; }\n  .push-button:disabled {\n    color: #999999; }\n  .push-button.add, .push-button.edit, .push-button.save, .push-button.submit, .push-button.confirm {\n    color: #ffffff;\n    background-color: #006699;\n    border: 2px outset #0088cc; }\n    .push-button.add:disabled, .push-button.edit:disabled, .push-button.save:disabled, .push-button.submit:disabled, .push-button.confirm:disabled {\n      color: #5c8599; }\n  .push-button.remove, .push-button.confirm-danger {\n    color: #ffffff;\n    background-color: #cc2929;\n    border: 2px outset #ff3333; }\n    .push-button.remove:disabled, .push-button.confirm-danger:disabled {\n      color: #cc7a7a; }\n  .push-button.acquire {\n    color: #ffffff;\n    background-color: #007826;\n    border: 2px outset #00ab36; }\n  .push-button:active {\n    border-style: inset; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".side-navigation {\n  flex: 1 1 auto;\n  position: relative;\n  color: #fff;\n  background-color: #006699;\n  min-width: 15em;\n  max-width: 20em; }\n  .side-navigation HEADER {\n    cursor: pointer;\n    overflow: hidden;\n    margin-bottom: 1em; }\n  .side-navigation .logo {\n    float: left;\n    margin: 10px 16px 8px 16px;\n    width: 32px;\n    height: 40px; }\n  .side-navigation .app-name {\n    text-transform: uppercase;\n    opacity: 1;\n    transition: opacity 1s ease-out 0.6s; }\n  .side-navigation .navigation-tree {\n    opacity: 1;\n    transition: opacity 1s ease-out 1s; }\n  .side-navigation .bottom-buttons {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    background-color: #005580;\n    transition: bottom 1s linear 1s; }\n    .side-navigation .bottom-buttons .button {\n      position: relative;\n      float: left; }\n      .side-navigation .bottom-buttons .button.country .label {\n        border-left: 1px solid #006699; }\n      .side-navigation .bottom-buttons .button.user {\n        float: right; }\n        .side-navigation .bottom-buttons .button.user .label {\n          border-left: 1px solid #006699; }\n        .side-navigation .bottom-buttons .button.user .window-container {\n          left: auto;\n          right: 0.1em; }\n      .side-navigation .bottom-buttons .button .tooltip .label {\n        display: inline-block;\n        color: #0077b3;\n        padding: 0.4em 0.5em 0.3em 0.5em; }\n      .side-navigation .bottom-buttons .button .tooltip.live .label {\n        cursor: pointer; }\n        .side-navigation .bottom-buttons .button .tooltip.live .label:hover {\n          color: #99ddff; }\n      .side-navigation .bottom-buttons .button .tooltip .item {\n        color: #777777;\n        margin-top: 0.25em;\n        margin-right: 0.25em;\n        cursor: pointer; }\n        .side-navigation .bottom-buttons .button .tooltip .item .fa {\n          visibility: hidden; }\n        .side-navigation .bottom-buttons .button .tooltip .item.selected {\n          cursor: default;\n          color: #0077b3; }\n          .side-navigation .bottom-buttons .button .tooltip .item.selected .fa {\n            visibility: visible; }\n  .side-navigation.hidden .app-name, .side-navigation.hidden .navigation-tree {\n    opacity: 0; }\n  .side-navigation.hidden .bottom-buttons {\n    bottom: -2em; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".sign-off-menu {\n  text-align: center;\n  padding-top: 0.25em; }\n  .sign-off-menu A {\n    display: block;\n    cursor: pointer; }\n    .sign-off-menu A:link, .sign-off-menu A:visited {\n      color: #777777;\n      text-decoration: none; }\n    .sign-off-menu A:hover {\n      color: #004466; }\n  .sign-off-menu .name {\n    padding: 0.5em 0.25em 0.25em 0.25em;\n    text-align: center; }\n  .sign-off-menu .sign-off {\n    text-align: center;\n    padding: 0.5em 0.25em 0 0.25em;\n    border-top: 1px solid #dddddd;\n    color: #777777;\n    cursor: pointer; }\n    .sign-off-menu .sign-off:hover {\n      color: #004466; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".sortable-table {\n  width: 100%;\n  border-collapse: collapse;\n  table-layout: fixed; }\n  .sortable-table TH {\n    text-align: left;\n    cursor: pointer;\n    border-bottom: 1px solid #000000;\n    border-top: 1px solid #000000;\n    padding: 0.2em 0.4em 0.1em 0.4em; }\n    .sortable-table TH .arrow {\n      display: none;\n      margin-left: 0.5em; }\n  .sortable-table TH.asc .arrow.down {\n    display: inline; }\n  .sortable-table TH.desc .arrow.up {\n    display: inline; }\n  .sortable-table TBODY TD {\n    padding: 0.3em 0.4em 0.2em 0.4em;\n    word-wrap: break-word;\n    transition: padding-top 0.5s, padding-bottom 0.5s; }\n  .sortable-table TBODY TR {\n    background-color: #ffffff;\n    transition: background-color 0.5s, opacity 0.5s; }\n  .sortable-table TBODY TR:nth-child(even) {\n    background-color: #eeeeee; }\n  .sortable-table .collapsible-container {\n    transition: height 0.5s; }\n  .sortable-table A:link, .sortable-table A:visited {\n    color: #000000;\n    text-decoration: none; }\n    .sortable-table A:link:hover, .sortable-table A:visited:hover {\n      color: #004466; }\n  .sortable-table.expandable TBODY TR {\n    background-color: #ffffff; }\n    .sortable-table.expandable TBODY TR.collapsed {\n      opacity: 0; }\n      .sortable-table.expandable TBODY TR.collapsed TD {\n        padding-top: 0;\n        padding-bottom: 0; }\n    .sortable-table.expandable TBODY TR.expanded {\n      opacity: 1; }\n      .sortable-table.expandable TBODY TR.expanded TD {\n        padding-top: 0.3em;\n        padding-bottom: 0.2em; }\n  .sortable-table.selectable TBODY TR {\n    cursor: pointer; }\n    .sortable-table.selectable TBODY TR.selected {\n      background-color: #99ddff; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".text-field {\n  margin-bottom: 1em; }\n  .text-field label {\n    display: block;\n    font-weight: 600; }\n  .text-field input[type=text],\n  .text-field input[type=password],\n  .text-field input[type=email],\n  .text-field textarea {\n    display: block;\n    width: 100%;\n    transition: border-color 1s ease-out;\n    border: 1px solid #000000;\n    font-size: 1em;\n    margin-top: 2px;\n    padding: 2px 2px 1px 4px; }\n  .text-field textarea {\n    resize: none; }\n  .text-field.readonly input[type=text],\n  .text-field.readonly input[type=password],\n  .text-field.readonly input[type=email],\n  .text-field.readonly textarea {\n    border-color: #ffffff;\n    cursor: text;\n    outline: none; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".tooltip {\n  position: relative;\n  display: inline-block; }\n  .tooltip.live .label {\n    cursor: pointer; }\n  .tooltip .window-container {\n    position: absolute;\n    top: 100%;\n    left: 0.5em;\n    width: 50vw;\n    z-index: 100;\n    margin-top: 0.2em; }\n  .tooltip.upward .window-container {\n    top: auto;\n    bottom: 100%;\n    margin-bottom: 0.2em; }\n  .tooltip.leftward .window-container {\n    left: auto;\n    right: 0.3em; }\n    .tooltip.leftward .window-container .window {\n      float: right; }\n  .tooltip .window {\n    display: inline-block;\n    padding: 0.4em 0.5em 0.4em 0.5em;\n    border: 1px solid black;\n    background-color: #ffffff;\n    box-shadow: 1px 1px 3px 0px rgba(0, 0, 0, 0.75); }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".image-cropper {\n  overflow: hidden; }\n  .image-cropper CANVAS {\n    width: 100%;\n    display: block; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".autosize-text-area {\n  position: relative; }\n  .autosize-text-area TEXTAREA {\n    width: 100%;\n    resize: vertical; }\n  .autosize-text-area .shadow {\n    position: absolute;\n    top: 0;\n    left: 0;\n    min-height: 1em !important;\n    max-height: 1em !important;\n    visibility: hidden; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".collapsible-container {\n  transition: height .25s;\n  overflow: hidden; }\n  .collapsible-container .collapsible-contents {\n    overflow: hidden; }\n",""])},function(e,t,n){t=e.exports=n(3)(void 0),t.push([e.i,".overlay {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden;\n  z-index: 5000; }\n  .overlay .background {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: #000;\n    transition: opacity 0.5s;\n    z-index: -100; }\n  .overlay .foreground {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 90%;\n    transition: opacity 0.25s, top 0.25s; }\n  .overlay.show .background {\n    opacity: 0.75; }\n  .overlay.show .foreground {\n    opacity: 1; }\n  .overlay.hide .background {\n    opacity: 0; }\n  .overlay.hide .foreground {\n    top: -30px;\n    opacity: 0; }\n",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(370);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(371);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(372);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(373);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(374);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(375);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(376);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(377);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(378);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(379);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(380);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(381);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(382);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(383);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(384);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(385);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(386);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(387);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(388);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(389);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(390);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(391);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(392);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(393);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(394);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(395);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(396);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(397);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(398);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(399);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(400);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(401);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(402);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(403);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(404);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(405);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(406);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(407);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(408);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(409);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(410);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(411);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(4)(r,i);r.locals&&(e.exports=r.locals)},,,,,,,,,,,,,,,function(e,t,n){function r(e){return n(i(e))}function i(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./project.en.md":284,"./repo.en.md":285,"./robot.en.md":286,"./role.en.md":287,"./server.en.md":288,"./settings.en.md":289,"./user.en.md":290};r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=666},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./project.en.md":284,"./repo.en.md":285,"./robot.en.md":286,"./role.en.md":287,"./server.en.md":288,"./settings.en.md":289,"./user.en.md":290};r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=667}],[345]);